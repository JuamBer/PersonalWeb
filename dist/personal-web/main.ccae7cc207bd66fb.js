"use strict";var hb=Object.defineProperty,fb=Object.defineProperties,pb=Object.getOwnPropertyDescriptors,VE=Object.getOwnPropertySymbols,gb=Object.prototype.hasOwnProperty,mb=Object.prototype.propertyIsEnumerable,jE=(Ft,je,L)=>je in Ft?hb(Ft,je,{enumerable:!0,configurable:!0,writable:!0,value:L}):Ft[je]=L,$E=(Ft,je)=>{for(var L in je||(je={}))gb.call(je,L)&&jE(Ft,L,je[L]);if(VE)for(var L of VE(je))mb.call(je,L)&&jE(Ft,L,je[L]);return Ft},HE=(Ft,je)=>fb(Ft,pb(je));(self.webpackChunkPersonalWeb=self.webpackChunkPersonalWeb||[]).push([[179],{440:(Ft,je,L)=>{L.d(je,{nm:()=>Qr});var _=L(5813);L(5e3),L(5867);var $e=L(5861),ve=L(9681),Ue=L(4859),wt=L(2090),vt=L(1877);const X=new Map,tt={activated:!1,tokenObservers:[]},ue={initialized:!1,enabled:!1};function Pe(Oe){return X.get(Oe)||tt}function Ne(Oe,ge){X.set(Oe,ge)}function Ge(){return ue}class et{constructor(ge,Je,yt,kt,zt){if(this.operation=ge,this.retryPolicy=Je,this.getWaitDuration=yt,this.lowerBound=kt,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=kt,kt>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ge){var Je=this;return(0,$e.Z)(function*(){Je.stop();try{Je.pending=new wt.BH,yield function gt(Oe){return new Promise(ge=>{setTimeout(ge,Oe)})}(Je.getNextRun(ge)),Je.pending.resolve(),yield Je.pending.promise,Je.pending=new wt.BH,yield Je.operation(),Je.pending.resolve(),yield Je.pending.promise,Je.process(!0).catch(()=>{})}catch(yt){Je.retryPolicy(yt)?Je.process(!1).catch(()=>{}):Je.stop()}})()}getNextRun(ge){if(ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Je}}}const Ut=new wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rn(Oe){if(!Pe(Oe).activated)throw Ut.create("use-before-activation",{appName:Oe.name})}function $n(Oe,ge){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,$e.Z)(function*({url:Oe,body:ge},Je){var yt,kt;const zt={"Content-Type":"application/json"},_r=Je.getImmediate({optional:!0});if(_r){const Di=yield _r.getHeartbeatsHeader();Di&&(zt["X-Firebase-Client"]=Di)}const Pr={method:"POST",body:JSON.stringify(ge),headers:zt};let or,Mi;try{or=yield fetch(Oe,Pr)}catch(Di){throw Ut.create("fetch-network-error",{originalErrorMessage:null===(yt=Di)||void 0===yt?void 0:yt.message})}if(200!==or.status)throw Ut.create("fetch-status-error",{httpStatus:or.status});try{Mi=yield or.json()}catch(Di){throw Ut.create("fetch-parse-error",{originalErrorMessage:null===(kt=Di)||void 0===kt?void 0:kt.message})}const gs=Mi.ttl.match(/^([\d.]+)(s)$/);if(!gs||!gs[2]||isNaN(Number(gs[1])))throw Ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Mi.ttl}`});const Zi=1e3*Number(gs[1]),os=Date.now();return{token:Mi.token,expireTimeMillis:os+Zi,issuedAtTimeMillis:os}})).apply(this,arguments)}function Cn(Oe,ge){const{projectId:Je,appId:yt,apiKey:kt}=Oe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Je}/apps/${yt}:exchangeDebugToken?key=${kt}`,body:{debug_token:ge}}}const Fr="firebase-app-check-store";let lr=null;function Kr(){return lr||(lr=new Promise((Oe,ge)=>{var Je;try{const yt=indexedDB.open("firebase-app-check-database",1);yt.onsuccess=kt=>{Oe(kt.target.result)},yt.onerror=kt=>{var zt;ge(Ut.create("storage-open",{originalErrorMessage:null===(zt=kt.target.error)||void 0===zt?void 0:zt.message}))},yt.onupgradeneeded=kt=>{0===kt.oldVersion&&kt.target.result.createObjectStore(Fr,{keyPath:"compositeKey"})}}catch(yt){ge(Ut.create("storage-open",{originalErrorMessage:null===(Je=yt)||void 0===Je?void 0:Je.message}))}}),lr)}function ze(){return(ze=(0,$e.Z)(function*(Oe,ge){const yt=(yield Kr()).transaction(Fr,"readwrite"),zt=yt.objectStore(Fr).put({compositeKey:Oe,value:ge});return new Promise((_r,Pr)=>{zt.onsuccess=or=>{_r()},yt.onerror=or=>{var Mi;Pr(Ut.create("storage-set",{originalErrorMessage:null===(Mi=or.target.error)||void 0===Mi?void 0:Mi.message}))}})})).apply(this,arguments)}const pn=new vt.Yd("@firebase/app-check");function cr(Oe,ge){return(0,wt.hl)()?function ct(Oe,ge){return function _t(Oe,ge){return ze.apply(this,arguments)}(function wn(Oe){return`${Oe.options.appId}-${Oe.name}`}(Oe),ge)}(Oe,ge).catch(Je=>{pn.warn(`Failed to write token to IndexedDB. Error: ${Je}`)}):Promise.resolve()}function me(){return Ge().enabled}function Ie(){return lt.apply(this,arguments)}function lt(){return(lt=(0,$e.Z)(function*(){const Oe=Ge();if(Oe.enabled&&Oe.token)return Oe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Be={error:"UNKNOWN_ERROR"};function ot(Oe){return wt.US.encodeString(JSON.stringify(Oe),!1)}function Bt(Oe){return sn.apply(this,arguments)}function sn(){return(sn=(0,$e.Z)(function*(Oe,ge=!1){const Je=Oe.app;rn(Je);const yt=Pe(Je);let zt,kt=yt.token;if(!kt){const or=yield yt.cachedTokenPromise;or&&gi(or)&&(kt=or)}if(!ge&&kt&&gi(kt))return{token:kt.token};let Pr,_r=!1;if(me()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=$n(Cn(Je,yield Ie()),Oe.heartbeatServiceProvider).then(Mi=>(yt.exchangeTokenPromise=void 0,Mi)),_r=!0);const or=yield yt.exchangeTokenPromise;return yield cr(Je,or),Ne(Je,Object.assign(Object.assign({},yt),{token:or})),{token:or.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().then(or=>(yt.exchangeTokenPromise=void 0,or)),_r=!0),kt=yield yt.exchangeTokenPromise}catch(or){"appCheck/throttled"===or.code?pn.warn(or.message):pn.error(or),zt=or}return kt?(Pr={token:kt.token},Ne(Je,Object.assign(Object.assign({},yt),{token:kt})),yield cr(Je,kt)):Pr=We(zt),_r&&mr(Je,Pr),Pr})).apply(this,arguments)}function gr(Oe,ge){const Je=Pe(Oe),yt=Je.tokenObservers.filter(kt=>kt.next!==ge);0===yt.length&&Je.tokenRefresher&&Je.tokenRefresher.isRunning()&&Je.tokenRefresher.stop(),Ne(Oe,Object.assign(Object.assign({},Je),{tokenObservers:yt}))}function gn(Oe){const{app:ge}=Oe,Je=Pe(ge);let yt=Je.tokenRefresher;yt||(yt=function Zn(Oe){const{app:ge}=Oe;return new et((0,$e.Z)(function*(){let yt;if(yt=Pe(ge).token?yield Bt(Oe,!0):yield Bt(Oe),yt.error)throw yt.error}),()=>!0,()=>{const Je=Pe(ge);if(Je.token){let yt=Je.token.issuedAtTimeMillis+.5*(Je.token.expireTimeMillis-Je.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,Je.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},3e4,96e4)}(Oe),Ne(ge,Object.assign(Object.assign({},Je),{tokenRefresher:yt}))),!yt.isRunning()&&Je.isTokenAutoRefreshEnabled&&yt.start()}function mr(Oe,ge){const Je=Pe(Oe).tokenObservers;for(const yt of Je)try{"EXTERNAL"===yt.type&&null!=ge.error?yt.error(ge.error):yt.next(ge)}catch(kt){}}function gi(Oe){return Oe.expireTimeMillis-Date.now()>0}function We(Oe){return{token:ot(Be),error:Oe}}class Ee{constructor(ge,Je){this.app=ge,this.heartbeatServiceProvider=Je}_delete(){const{tokenObservers:ge}=Pe(this.app);for(const Je of ge)gr(this.app,Je.next);return Promise.resolve()}}const li="app-check-internal";!function Ur(){(0,ve._registerComponent)(new Ue.wA("app-check",Oe=>function ne(Oe,ge){return new Ee(Oe,ge)}(Oe.getProvider("app").getImmediate(),Oe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Oe,ge,Je)=>{Oe.getProvider(li).initialize()})),(0,ve._registerComponent)(new Ue.wA(li,Oe=>function ke(Oe){return{getToken:ge=>Bt(Oe,ge),addTokenListener:ge=>function Yt(Oe,ge,Je,yt){const{app:kt}=Oe,zt=Pe(kt),_r={next:Je,error:yt,type:ge};if(Ne(kt,Object.assign(Object.assign({},zt),{tokenObservers:[...zt.tokenObservers,_r]})),zt.token&&gi(zt.token)){const Pr=zt.token;Promise.resolve().then(()=>{Je({token:Pr.token}),gn(Oe)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>gn(Oe))}(Oe,"INTERNAL",ge),removeTokenListener:ge=>gr(Oe.app,ge)}}(Oe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/app-check","0.5.9")}();class Qr{constructor(){return(0,_.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(Ft,je,L)=>{L.d(je,{zQ:()=>Pe,ww:()=>Ne,rT:()=>vt,f7:()=>tt,L6:()=>Ue,_Q:()=>wt,lh:()=>X,Qv:()=>ve,nw:()=>ue});var _=L(5e3),K=L(7579),W=L(9646),ce=L(8306),ye=L(8996),Te=L(6451),Re=L(3900),Se=L(576);function Ce(Ge,Ve){return(0,Se.m)(Ve)?(0,Re.w)(()=>Ge,Ve):(0,Re.w)(()=>Ge)}var ae=L(5363),oe=L(4004),Me=L(3151),Tt=L(590),Xe=L(9468),at=L(9300),Ct=L(5813),Ke=L(2011),st=L(9808),be=L(440),ut=L(127);const ve=new _.OlP("angularfire2.auth.use-emulator"),Ue=new _.OlP("angularfire2.auth.settings"),wt=new _.OlP("angularfire2.auth.tenant-id"),vt=new _.OlP("angularfire2.auth.langugage-code"),X=new _.OlP("angularfire2.auth.use-device-language"),tt=new _.OlP("angularfire.auth.persistence"),ue=(Ge,Ve,Et,Kt,Ye,At,ee,et)=>(0,Ke.cc)(`${Ge.name}.auth`,"AngularFireAuth",Ge.name,()=>{const gt=Ve.runOutsideAngular(()=>Ge.auth());if(Et&&gt.useEmulator(...Et),Kt&&(gt.tenantId=Kt),gt.languageCode=Ye,At&&gt.useDeviceLanguage(),ee)for(const[xt,Ut]of Object.entries(ee))gt.settings[xt]=Ut;return et&&gt.setPersistence(et),gt},[Et,Kt,Ye,At,ee,et]);let Pe=(()=>{class Ge{constructor(Et,Kt,Ye,At,ee,et,gt,xt,Ut,xn,rn,on){const Gn=new K.x,Bn=(0,W.of)(void 0).pipe((0,ae.Q)(ee.outsideAngular),(0,Re.w)(()=>At.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9916)))),(0,oe.U)(()=>(0,Ke.on)(Et,At,Kt)),(0,oe.U)($n=>ue($n,At,et,xt,Ut,xn,gt,rn)),(0,Me.d)({bufferSize:1,refCount:!1}));if((0,st.PM)(Ye))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Bn.pipe((0,Tt.P)()).subscribe();const Nn=Bn.pipe((0,Re.w)(Cn=>Cn.getRedirectResult().then(Mn=>Mn,()=>null)),Ct.iC,(0,Me.d)({bufferSize:1,refCount:!1})),Kn=Bn.pipe((0,Re.w)(Cn=>new ce.y(Mn=>({unsubscribe:At.runOutsideAngular(()=>Cn.onAuthStateChanged(jt=>Mn.next(jt),jt=>Mn.error(jt),()=>Mn.complete()))})))),Qn=Bn.pipe((0,Re.w)(Cn=>new ce.y(Mn=>({unsubscribe:At.runOutsideAngular(()=>Cn.onIdTokenChanged(jt=>Mn.next(jt),jt=>Mn.error(jt),()=>Mn.complete()))}))));this.authState=Nn.pipe(Ce(Kn),(0,Xe.R)(ee.outsideAngular),(0,ae.Q)(ee.insideAngular)),this.user=Nn.pipe(Ce(Qn),(0,Xe.R)(ee.outsideAngular),(0,ae.Q)(ee.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(Cn=>Cn?(0,ye.D)(Cn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(Cn=>Cn?(0,ye.D)(Cn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,Te.T)(Nn,Gn,this.authState.pipe((0,at.h)(Cn=>!Cn))).pipe((0,oe.U)(Cn=>(null==Cn?void 0:Cn.user)?Cn:null),(0,Xe.R)(ee.outsideAngular),(0,ae.Q)(ee.insideAngular))}return(0,Ke.pX)(this,Bn,At,{spy:{apply:($n,Nn,Kn)=>{($n.startsWith("signIn")||$n.startsWith("createUser"))&&Kn.then(Qn=>Gn.next(Qn))}}})}}return Ge.\u0275fac=function(Et){return new(Et||Ge)(_.LFG(Ke.Dh),_.LFG(Ke.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ct.HU),_.LFG(ve,8),_.LFG(Ue,8),_.LFG(wt,8),_.LFG(vt,8),_.LFG(X,8),_.LFG(tt,8),_.LFG(be.nm,8))},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"any"}),Ge})(),Ne=(()=>{class Ge{constructor(){ut.Z.registerVersion("angularfire",Ct.q4.full,"auth-compat")}}return Ge.\u0275fac=function(Et){return new(Et||Ge)},Ge.\u0275mod=_.oAB({type:Ge}),Ge.\u0275inj=_.cJS({providers:[Pe]}),Ge})()},7407:(Ft,je,L)=>{L.d(je,{ST:()=>Py,yb:()=>Oy});var _=L(5e3),K=L(4986),W=L(8306),ce=L(8996),ye=L(9646),Te=L(5813),Re=L(4482),Se=L(5403);function Ce(){return(0,Re.e)((i,e)=>{let t,s=!1;i.subscribe((0,Se.x)(e,u=>{const d=t;t=u,s&&e.next([d,u]),s=!0}))})}var X,ae=L(8675),oe=L(4004),Me=L(5026),Tt=L(1884),Xe=L(9300),at=L(2011),Ct=L(9808),st=(L(9916),L(3942)),be=L(5861),ut=L(9681),$e=L(4859),ve=L(1877),Ue=L(2090),wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt={},tt=tt||{},ue=wt||self;function Pe(){}function Ne(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ge(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Et="closure_uid_"+(1e9*Math.random()>>>0),Kt=0;function Ye(i,e,t){return i.call.apply(i.bind,arguments)}function At(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ee(i,e,t){return(ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ye:At).apply(null,arguments)}function et(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function gt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(s,u,d){for(var m=Array(arguments.length-2),T=2;T<arguments.length;T++)m[T-2]=arguments[T];return e.prototype[u].apply(s,m)}}function xt(){this.s=this.s,this.o=this.o}var xn={};xt.prototype.s=!1,xt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ve(i){return Object.prototype.hasOwnProperty.call(i,Et)&&i[Et]||(i[Et]=++Kt)}(this);delete xn[i]}},xt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},on=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const s=i.length,u="string"==typeof i?i.split(""):i;for(let d=0;d<s;d++)d in u&&e.call(t,u[d],d,i)};function Bn(i){return Array.prototype.concat.apply([],arguments)}function $n(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Nn(i){return/^[\s\xa0]*$/.test(i)}var Mn,Kn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Qn(i,e){return-1!=i.indexOf(e)}function Cn(i,e){return i<e?-1:i>e?1:0}e:{var jt=ue.navigator;if(jt){var Fr=jt.userAgent;if(Fr){Mn=Fr;break e}}Mn=""}function Ir(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function lr(i){const e={};for(const t in i)e[t]=i[t];return e}var Kr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ti(i,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)i[t]=s[t];for(let d=0;d<Kr.length;d++)t=Kr[d],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function ct(i){return ct[" "](i),i}ct[" "]=Pe;var ln,i,xe=Qn(Mn,"Opera"),_t=Qn(Mn,"Trident")||Qn(Mn,"MSIE"),ze=Qn(Mn,"Edge"),mt=ze||_t,Nt=Qn(Mn,"Gecko")&&!(Qn(Mn.toLowerCase(),"webkit")&&!Qn(Mn,"Edge"))&&!(Qn(Mn,"Trident")||Qn(Mn,"MSIE"))&&!Qn(Mn,"Edge"),wn=Qn(Mn.toLowerCase(),"webkit")&&!Qn(Mn,"Edge");function pn(){var i=ue.document;return i?i.documentMode:void 0}e:{var Nr="",cr=(i=Mn,Nt?/rv:([^\);]+)(\)|;)/.exec(i):ze?/Edge\/([\d\.]+)/.exec(i):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):wn?/WebKit\/(\S+)/.exec(i):xe?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(cr&&(Nr=cr?cr[1]:""),_t){var Un=pn();if(null!=Un&&Un>parseFloat(Nr)){ln=String(Un);break e}}ln=Nr}var ie={};var fe=ue.document&&_t&&(pn()||parseInt(ln,10))||void 0,Be=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ue.addEventListener("test",Pe,e),ue.removeEventListener("test",Pe,e)}catch(t){}return i}();function ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Bt(i,e){if(ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Nt){e:{try{ct(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:sn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Bt.Z.h.call(this)}}ot.prototype.h=function(){this.defaultPrevented=!0},gt(Bt,ot);var sn={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),gr=0;function gn(i,e,t,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=u,this.key=++gr,this.ca=this.fa=!1}function Zn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function mr(i){this.src=i,this.g={},this.h=0}function gi(i,e){var t=e.type;if(t in i.g){var d,s=i.g[t],u=rn(s,e);(d=0<=u)&&Array.prototype.splice.call(s,u,1),d&&(Zn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function We(i,e,t,s){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==s)return u}return-1}mr.prototype.add=function(i,e,t,s,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=We(i,e,s,u);return-1<m?(e=i[m],t||(e.fa=!1)):((e=new gn(e,this.src,d,!!s,u)).fa=t,i.push(e)),e};var Ee="closure_lm_"+(1e6*Math.random()|0),ne={};function ke(i,e,t,s,u){if(s&&s.once)return yn(i,e,t,s,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)ke(i,e[d],t,s,u);return null}return t=ni(t),i&&i[Yt]?i.N(e,t,Ge(s)?!!s.capture:!!s,u):pt(i,e,t,!1,s,u)}function pt(i,e,t,s,u,d){if(!e)throw Error("Invalid event type");var m=Ge(u)?!!u.capture:!!u,T=ai(i);if(T||(i[Ee]=T=new mr(i)),(t=T.add(e,t,s,m,d)).proxy)return t;if(s=function en(){var e=vr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)Be||(u=m),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(Fi(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function yn(i,e,t,s,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)yn(i,e[d],t,s,u);return null}return t=ni(t),i&&i[Yt]?i.O(e,t,Ge(s)?!!s.capture:!!s,u):pt(i,e,t,!0,s,u)}function Pn(i,e,t,s,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Pn(i,e[d],t,s,u);else s=Ge(s)?!!s.capture:!!s,t=ni(t),i&&i[Yt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=We(d=i.g[e],t,s,u))&&(Zn(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=ai(i))&&(e=i.g[e.toString()],i=-1,e&&(i=We(e,t,s,u)),(t=-1<i?e[i]:null)&&Hr(t))}function Hr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Yt])gi(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Fi(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=ai(e))?(gi(t,i),0==t.h&&(t.src=null,e[Ee]=null)):Zn(i)}}}function Fi(i){return i in ne?ne[i]:ne[i]="on"+i}function vr(i,e){if(i.ca)i=!0;else{e=new Bt(e,this);var t=i.listener,s=i.ia||i.src;i.fa&&Hr(i),i=t.call(s,e)}return i}function ai(i){return(i=i[Ee])instanceof mr?i:null}var Mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ni(i){return"function"==typeof i?i:(i[Mr]||(i[Mr]=function(e){return i.handleEvent(e)}),i[Mr])}function ir(){xt.call(this),this.i=new mr(this),this.P=this,this.I=null}function Pt(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new ot(e,i);else if(e instanceof ot)e.target=e.target||i;else{var u=e;ti(e=new ot(s,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];u=tn(m,s,!0,e)&&u}if(u=tn(m=e.g=i,s,!0,e)&&u,u=tn(m,s,!1,e)&&u,t)for(d=0;d<t.length;d++)u=tn(m=e.g=t[d],s,!1,e)&&u}function tn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ca&&m.capture==t){var T=m.listener,U=m.ia||m.src;m.fa&&gi(i.i,m),u=!1!==T.call(U,s)&&u}}return u&&!s.defaultPrevented}gt(ir,xt),ir.prototype[Yt]=!0,ir.prototype.removeEventListener=function(i,e,t,s){Pn(this,i,e,t,s)},ir.prototype.M=function(){if(ir.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)Zn(t[s]);delete i.g[e],i.h--}}this.I=null},ir.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},ir.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var Xn=ue.JSON.stringify;function wi(){var i=ns;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Cr,sr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Gr,i=>i.reset());class Gr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dr(i){ue.setTimeout(()=>{throw i},0)}function ui(i,e){Cr||function In(){var i=ue.Promise.resolve(void 0);Cr=function(){i.then(Es)}}(),bi||(Cr(),bi=!0),ns.add(i,e)}var bi=!1,ns=new class Ii{constructor(){this.h=this.g=null}add(e,t){const s=sr.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Es(){for(var i;i=wi();){try{i.h.call(i.g)}catch(t){dr(t)}var e=sr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}bi=!1}function li(i,e){ir.call(this),this.h=i||1,this.g=e||ue,this.j=ee(this.kb,this),this.l=Date.now()}function Ur(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Yr(i,e,t){if("function"==typeof i)t&&(i=ee(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ee(i.handleEvent,i)}return 2147483647<Number(e)?-1:ue.setTimeout(i,e||0)}function ci(i){i.g=Yr(()=>{i.g=null,i.i&&(i.i=!1,ci(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gt(li,ir),(X=li.prototype).da=!1,X.S=null,X.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pt(this,"tick"),this.da&&(Ur(this),this.start()))}},X.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.M=function(){li.Z.M.call(this),Ur(this),delete this.g};class Qr extends xt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ci(this)}M(){super.M(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(i){xt.call(this),this.h=i,this.g={}}gt(er,xt);var Ui=[];function xi(i,e,t,s){Array.isArray(t)||(t&&(Ui[0]=t.toString()),t=Ui);for(var u=0;u<t.length;u++){var d=ke(e,t[u],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Sr(i){Ir(i.g,function(e,t){this.g.hasOwnProperty(t)&&Hr(e)},i),i.g={}}function mi(){this.g=!0}function di(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<u.length;m++)u[m]=""}}}return Xn(t)}catch(T){return e}}(i,t)+(s?" "+s:"")})}er.prototype.M=function(){er.Z.M.call(this),Sr(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mi.prototype.Aa=function(){this.g=!1},mi.prototype.info=function(){};var is={},vo=null;function yr(){return vo=vo||new ir}function ss(i){ot.call(this,is.Ma,i)}function ps(i){const e=yr();Pt(e,new ss(e,i))}function Oe(i,e){ot.call(this,is.STAT_EVENT,i),this.stat=e}function ge(i){const e=yr();Pt(e,new Oe(e,i))}function Je(i,e){ot.call(this,is.Na,i),this.size=e}function yt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){i()},e)}is.Ma="serverreachability",gt(ss,ot),is.STAT_EVENT="statevent",gt(Oe,ot),is.Na="timingevent",gt(Je,ot);var kt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _r(){}function or(){}_r.prototype.h=null;var os,Mi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gs(){ot.call(this,"d")}function Zi(){ot.call(this,"c")}function Di(){}function Yi(i,e,t,s){this.l=i,this.j=e,this.m=t,this.X=s||1,this.V=new er(this),this.P=_o,this.W=new li(i=mt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new no}function no(){this.i=null,this.g="",this.h=!1}gt(gs,ot),gt(Zi,ot),gt(Di,_r),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},os=new Di;var _o=45e3,hi={},ms={};function Bi(i,e,t){i.K=1,i.v=it(Jn(e)),i.s=t,i.U=!0,Fs(i,null)}function Fs(i,e){i.F=Date.now(),Jr(i),i.A=Jn(i.v);var t=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),Rs(t.h,"t",s),i.C=0,t=i.l.H,i.h=new no,i.g=Ks(i.l,t?e:null,!i.s),0<i.O&&(i.L=new Qr(ee(i.Ia,i,i.g),i.O)),xi(i.V,i.g,"readystatechange",i.gb),e=i.H?lr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ps(1),function rs(i,e,t,s,u,d){i.info(function(){if(i.g)if(d)for(var m="",T=d.split("&"),U=0;U<T.length;U++){var H=T[U].split("=");if(1<H.length){var te=H[0];H=H[1];var _e=te.split("_");m=2<=_e.length&&"type"==_e[1]?m+(te+"=")+H+"&":m+(te+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Hs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ys(i,e,t){let u,s=!0;for(;!i.I&&i.C<t.length;){if(u=Wo(i,t),u==ms){4==e&&(i.o=4,ge(14),s=!1),di(i.j,i.m,null,"[Incomplete Response]");break}if(u==hi){i.o=4,ge(15),di(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}di(i.j,i.m,u,null),Vi(i,u)}Hs(i)&&u!=ms&&u!=hi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ge(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ds(e),e.L=!0,ge(11))):(di(i.j,i.m,t,"[Invalid Chunked Response]"),Br(i),Gs(i))}function Wo(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?ms:(t=Number(e.substring(t,s)),isNaN(t)?hi:(s+=1)+t>e.length?ms:(e=e.substr(s,t),i.C=s+t,e))}function Jr(i){i.Y=Date.now()+i.P,Us(i,i.P)}function Us(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=yt(ee(i.eb,i),e)}function fi(i){i.B&&(ue.clearTimeout(i.B),i.B=null)}function Gs(i){0==i.l.G||i.I||Sn(i.l,i)}function Br(i){fi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ur(i.W),Sr(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Vi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Ms(t.i,i)))if(t.I=i.N,!i.J&&Ms(t.i,i)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(H){s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=yt(ee(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Vt(t),Or(t)}zs(t),ge(18)}if(1>=Wn(t.i)&&t.ka){try{t.ka()}catch(H){}t.ka=void 0}}else Er(t,11)}else if((i.J||t.g==i)&&Vt(t),!Nn(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(t.U=H[0],H=H[1],2==t.G)if("c"==H[0]){t.J=H[1],t.la=H[2];const te=H[3];null!=te&&(t.ma=te,t.h.info("VER="+t.ma));const _e=H[4];null!=_e&&(t.za=_e,t.h.info("SVER="+t.za));const rt=H[5];null!=rt&&"number"==typeof rt&&0<rt&&(t.K=s=1.5*rt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const bt=i.g;if(bt){const Mt=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var d=s.i;!d.g&&(Qn(Mt,"spdy")||Qn(Mt,"quic")||Qn(Mt,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(qr(d,d.h),d.h=null))}if(s.D){const dn=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;dn&&(s.sa=dn,pe(s.F,s.D,dn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=i;if((s=t).oa=si(s,s.H?s.la:null,s.W),m.J){Bs(s.i,m);var T=m,U=s.K;U&&T.setTimeout(U),T.B&&(fi(T),Jr(T)),s.g=m}else Vo(s);0<t.l.length&&ls(t)}else"stop"!=H[0]&&"close"!=H[0]||Er(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Er(t,7):Vr(t):"noop"!=H[0]&&t.j&&t.j.wa(H),t.A=0)}ps(4)}catch(H){}}function vi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ne(i)||"string"==typeof i)on(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ne(i)||"string"==typeof i){t=[];for(var s=i.length,u=0;u<s;u++)t.push(u)}else for(u in t=[],s=0,i)t[s++]=u;s=function yi(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ne(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),u=s.length;for(var d=0;d<u;d++)e.call(void 0,s[d],t&&t[d],i)}}function Qi(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Qi)for(t=i.T(),s=0;s<t.length;s++)this.set(t[s],i.get(t[s]));else for(s in i)this.set(s,i[s])}function vs(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var s=i.g[e];ji(i.h,s)&&(i.g[t++]=s),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)ji(u,s=i.g[e])||(i.g[t++]=s,u[s]=1),e++;i.g.length=t}}function ji(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(X=Yi.prototype).setTimeout=function(i){this.P=i},X.gb=function(i){i=i.target;const e=this.L;e&&3==qt(i)?e.l():this.Ia(i)},X.Ia=function(i){try{if(i==this.g)e:{const te=qt(this.g);var e=this.g.Da();const _e=this.g.ba();if(!(3>te)&&(3!=te||mt||this.g&&(this.h.h||this.g.ga()||vn(this.g)))){this.I||4!=te||7==e||ps(8==e||0>=_e?3:2),fi(this);var t=this.g.ba();this.N=t;t:if(Hs(this)){var s=vn(this.g);i="";var u=s.length,d=4==qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Br(this),Gs(this);var m="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function ws(i,e,t,s,u,d,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,te,t),this.i){if(this.$&&!this.J){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nn(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,ge(12),Br(this),Gs(this);break e}di(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vi(this,t)}this.U?(ys(this,te,m),mt&&this.i&&3==te&&(xi(this.V,this.W,"tick",this.fb),this.W.start())):(di(this.j,this.m,m,null),Vi(this,m)),4==te&&Br(this),this.i&&!this.I&&(4==te?Sn(this.l,this):(this.i=!1,Jr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,ge(12)):(this.o=0,ge(13)),Br(this),Gs(this)}}}catch(te){}},X.fb=function(){if(this.g){var i=qt(this.g),e=this.g.ga();this.C<e.length&&(fi(this),ys(this,i,e),this.i&&4!=i&&Jr(this))}},X.cancel=function(){this.I=!0,Br(this)},X.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ps(3),ge(17)),Br(this),this.o=2,Gs(this)):Us(this,this.Y-i)},(X=Qi.prototype).R=function(){vs(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},X.T=function(){return vs(this),this.g.concat()},X.get=function(i,e){return ji(this.h,i)?this.h[i]:e},X.set=function(i,e){ji(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},X.forEach=function(i,e){for(var t=this.T(),s=0;s<t.length;s++){var u=t[s],d=this.get(u);i.call(e,d,u,this)}};var ro=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Is(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Is){this.g=void 0!==e?e:i.g,O(this,i.j),this.s=i.s,G(this,i.i),P(this,i.m),this.l=i.l,e=i.h;var t=new ri;t.i=e.i,e.g&&(t.g=new Qi(e.g),t.h=e.h),Q(this,t),this.o=i.o}else i&&(t=String(i).match(ro))?(this.g=!!e,O(this,t[1]||"",!0),this.s=bn(t[2]||""),G(this,t[3]||"",!0),P(this,t[4]),this.l=bn(t[5]||"",!0),Q(this,t[6]||"",!0),this.o=bn(t[7]||"")):(this.g=!!e,this.h=new ri(null,this.g))}function Jn(i){return new Is(i)}function O(i,e,t){i.j=t?bn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function G(i,e,t){i.i=t?bn(e,!0):e}function P(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Q(i,e,t){e instanceof ri?(i.h=e,function wo(i,e){e&&!i.j&&(hn(i),i.i=null,i.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&($i(this,s),Rs(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Yn(e,nr)),i.h=new ri(e,i.g))}function pe(i,e,t){i.h.set(e,t)}function it(i){return pe(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function bn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Yn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,kn),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function kn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Is.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Yn(e,jn,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Yn(e,jn,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Yn(t,"/"==t.charAt(0)?tr:kr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Yn(t,Pi)),i.join("")};var jn=/[#\/\?@]/g,kr=/[#\?:]/g,tr=/[#\?]/g,nr=/[#\?@]/g,Pi=/#/g;function ri(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function hn(i){i.g||(i.g=new Qi,i.h=0,i.i&&function as(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),u=null;if(0<=s){var d=i[t].substring(0,s);u=i[t].substring(s+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $i(i,e){hn(i),e=bs(i,e),ji(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ji((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&vs(i)))}function Eo(i,e){return hn(i),e=bs(i,e),ji(i.g.h,e)}function Rs(i,e,t){$i(i,e),0<t.length&&(i.i=null,i.g.set(bs(i,e),$n(t)),i.h+=t.length)}function bs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Io(i){this.l=i||xs,i=ue.PerformanceNavigationTiming?0<(i=ue.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ue.g&&ue.g.Ea&&ue.g.Ea()&&ue.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=ri.prototype).add=function(i,e){hn(this),this.i=null,i=bs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},X.forEach=function(i,e){hn(this),this.g.forEach(function(t,s){on(t,function(u){i.call(e,u,s,this)},this)},this)},X.T=function(){hn(this);for(var i=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var u=i[s],d=0;d<u.length;d++)t.push(e[s]);return t},X.R=function(i){hn(this);var e=[];if("string"==typeof i)Eo(this,i)&&(e=Bn(e,this.g.get(bs(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Bn(e,i[t])}return e},X.set=function(i,e){return hn(this),this.i=null,Eo(this,i=bs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},X.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],u=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var m=u;""!==s[d]&&(m+="="+encodeURIComponent(String(s[d]))),i.push(m)}}return this.i=i.join("&")};var xs=10;function Dt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Wn(i){return i.h?1:i.g?i.g.size:0}function Ms(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function qr(i,e){i.g?i.g.add(e):i.h=e}function Bs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function io(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return $n(i.i)}function us(){}function so(){this.g=new us}function ua(i,e,t){const s=t||"";try{vi(i,function(u,d){let m=u;Ge(u)&&(m=Xn(u)),e.push(s+d+"="+encodeURIComponent(m))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function bo(i,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch(d){}}function Bo(i){this.l=i.$b||null,this.j=i.ib||!1}function F(i,e){ir.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=N,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Io.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},us.prototype.stringify=function(i){return ue.JSON.stringify(i,void 0)},us.prototype.parse=function(i){return ue.JSON.parse(i,void 0)},gt(Bo,_r),Bo.prototype.g=function(){return new F(this.l,this.j)},Bo.prototype.i=function(i){return function(){return i}}({}),gt(F,ir);var N=0;function J(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function S(i){i.readyState=4,i.l=null,i.j=null,i.A=null,p(i)}function p(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(X=F.prototype).open=function(i,e){if(this.readyState!=N)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,p(this)},X.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ue).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,S(this)),this.readyState=N},X.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,p(this)),this.g&&(this.readyState=3,p(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ue.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},X.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?S(this):p(this),3==this.readyState&&J(this)}},X.Ua=function(i){this.g&&(this.response=this.responseText=i,S(this))},X.Ta=function(i){this.g&&(this.response=i,S(this))},X.ha=function(){this.g&&S(this)},X.setRequestHeader=function(i,e){this.v.append(i,e)},X.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(F.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var g=ue.JSON.parse;function C(i){ir.call(this),this.headers=new Qi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=V,this.K=this.L=!1}gt(C,ir);var V="",q=/^https?$/i,le=["POST","PUT"];function Le(i){return"content-type"==i.toLowerCase()}function nt(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Lt(i),cn(i)}function Lt(i){i.D||(i.D=!0,Pt(i,"complete"),Pt(i,"error"))}function Ht(i){if(i.h&&void 0!==tt&&(!i.C[1]||4!=qt(i)||2!=i.ba()))if(i.v&&4==qt(i))Yr(i.Fa,0,i);else if(Pt(i,"readystatechange"),4==qt(i)){i.h=!1;try{const T=i.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===T){var u=String(i.H).match(ro)[1]||null;if(!u&&ue.self&&ue.self.location){var d=ue.self.location.protocol;u=d.substr(0,d.length-1)}s=!q.test(u?u.toLowerCase():"")}t=s}if(t)Pt(i,"complete"),Pt(i,"success");else{i.m=6;try{var m=2<qt(i)?i.g.statusText:""}catch(U){m=""}i.j=m+" ["+i.ba()+"]",Lt(i)}}finally{cn(i)}}}function cn(i,e){if(i.g){an(i);const t=i.g,s=i.C[0]?Pe:null;i.g=null,i.C=null,e||Pt(i,"ready");try{t.onreadystatechange=s}catch(u){}}}function an(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ue.clearTimeout(i.A),i.A=null)}function qt(i){return i.g?i.g.readyState:0}function vn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case V:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zn(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Ln(i){let e="";return Ir(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):pe(i,e,t))}function hr(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ii(i){this.za=0,this.l=[],this.h=new mi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hr("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hr("baseRetryDelayMs",5e3,i),this.$a=hr("retryDelaySeedMs",1e4,i),this.Ya=hr("forwardChannelMaxRetries",2,i),this.ra=hr("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Io(i&&i.concurrentRequestLimit),this.Ca=new so,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Vr(i){if(Ti(i),3==i.G){var e=i.V++,t=Jn(i.F);pe(t,"SID",i.J),pe(t,"RID",e),pe(t,"TYPE","terminate"),Co(i,t),(e=new Yi(i,i.h,e,void 0)).K=2,e.v=it(Jn(t)),t=!1,ue.navigator&&ue.navigator.sendBeacon&&(t=ue.navigator.sendBeacon(e.v.toString(),"")),!t&&ue.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ks(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Jr(e)}Ci(i)}function Or(i){i.g&&(Ds(i),i.g.cancel(),i.g=null)}function Ti(i){Or(i),i.u&&(ue.clearTimeout(i.u),i.u=null),Vt(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ue.clearTimeout(i.m),i.m=null)}function ar(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ls(i)}function ls(i){Dt(i.i)||i.m||(i.m=!0,ui(i.Ha,i),i.C=0)}function To(i,e){var t;t=e?e.m:i.V++;const s=Jn(i.F);pe(s,"SID",i.J),pe(s,"RID",t),pe(s,"AID",i.U),Co(i,s),i.o&&i.s&&zn(s,i.o,i.s),t=new Yi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=la(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),qr(i.i,t),Bi(t,s,e)}function Co(i,e){i.j&&vi({},function(t,s){pe(e,s,t)})}function la(i,e,t){t=Math.min(i.l.length,t);var s=i.j?ee(i.j.Oa,i.j,i):null;e:{var u=i.l;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=u[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let T=!0;for(let U=0;U<t;U++){let H=u[U].h;const te=u[U].g;if(H-=d,0>H)d=Math.max(0,u[U].h-100),T=!1;else try{ua(te,m,"req"+H+"_")}catch(_e){s&&s(te)}}if(T){s=m.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,s}function Vo(i){i.g||i.u||(i.Y=1,ui(i.Ga,i),i.A=0)}function zs(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=yt(ee(i.Ga,i),fr(i,i.A)),i.A++,0))}function Ds(i){null!=i.B&&(ue.clearTimeout(i.B),i.B=null)}function Jt(i){i.g=new Yi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Jn(i.oa);pe(e,"RID","rpc"),pe(e,"SID",i.J),pe(e,"CI",i.N?"0":"1"),pe(e,"AID",i.U),Co(i,e),pe(e,"TYPE","xmlhttp"),i.o&&i.s&&zn(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=it(Jn(e)),t.s=null,t.U=!0,Fs(t,i)}function Vt(i){null!=i.v&&(ue.clearTimeout(i.v),i.v=null)}function Sn(i,e){var t=null;if(i.g==e){Vt(i),Ds(i),i.g=null;var s=2}else{if(!Ms(i.i,e))return;t=e.D,Bs(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Pt(s=yr(),new Je(s,t,e,u)),ls(i)}else Vo(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==s&&function Do(i,e){return!(Wn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=yt(ee(i.Ha,i,e),fr(i,i.C)),i.C++,0)))}(i,e)||2==s&&zs(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:Er(i,5);break;case 4:Er(i,10);break;case 3:Er(i,6);break;default:Er(i,2)}}function fr(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Er(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var s=ee(i.jb,i);t||(t=new Is("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||O(t,"https"),it(t)),function Zo(i,e){const t=new mi;if(ue.Image){const s=new Image;s.onload=et(bo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=et(bo,t,s,"TestLoadImage: error",!1,e),s.onabort=et(bo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=et(bo,t,s,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else ge(2);i.G=0,i.j&&i.j.va(e),Ci(i),Ti(i)}function Ci(i){i.G=0,i.I=-1,i.j&&((0!=io(i.i).length||0!=i.l.length)&&(i.i.i.length=0,$n(i.l),i.l.length=0),i.j.ua())}function si(i,e,t){let s=function ft(i){return i instanceof Is?Jn(i):new Is(i,void 0)}(t);if(""!=s.i)e&&G(s,e+"."+s.i),P(s,s.m);else{const u=ue.location;s=function Qt(i,e,t,s){var u=new Is(null,void 0);return i&&O(u,i),e&&G(u,e),t&&P(u,t),s&&(u.l=s),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Ir(i.aa,function(u,d){pe(s,d,u)}),t=i.sa,(e=i.D)&&t&&pe(s,e,t),pe(s,"VER",i.ma),Co(i,s),s}function Ks(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new C(t&&i.Ba&&!i.qa?new Bo({ib:!0}):i.qa)).L=i.H,e}function wr(){}function oo(){if(_t&&!(10<=Number(fe)))throw Error("Environmental error: no available transport.")}function Ts(i,e){ir.call(this),this.g=new ii(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Nn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zr(this)}function Hi(i){gs.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function So(){Zi.call(this),this.status=1}function Zr(i){this.g=i}(X=C.prototype).ea=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():os.g(),this.C=function Pr(i){return i.h||(i.h=i.i())}(this.u?this.u:os),this.g.onreadystatechange=ee(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void nt(this,d)}i=t||"";const u=new Qi(this.headers);s&&vi(s,function(d,m){u.set(m,d)}),s=function Gn(i){e:{var e=Le;const t=i.length,s="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in s&&e.call(void 0,s[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=ue.FormData&&i instanceof ue.FormData,!(0<=rn(le,e))||s||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{an(this),0<this.B&&((this.K=function de(i){return _t&&function me(){return function we(i){var e=ie;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Kn(String(ln)).split("."),t=Kn("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==i&&m<s;m++){var u=e[m]||"",d=t[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Cn(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Cn(0==u[2].length,0==d[2].length)||Cn(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ee(this.pa,this)):this.A=Yr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){nt(this,d)}},X.pa=function(){void 0!==tt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pt(this,"timeout"),this.abort(8))},X.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Pt(this,"complete"),Pt(this,"abort"),cn(this))},X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cn(this,!0)),C.Z.M.call(this)},X.Fa=function(){this.s||(this.F||this.v||this.l?Ht(this):this.cb())},X.cb=function(){Ht(this)},X.ba=function(){try{return 2<qt(this)?this.g.status:-1}catch(i){return-1}},X.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},X.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),g(e)}},X.Da=function(){return this.m},X.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=ii.prototype).ma=8,X.G=1,X.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},X.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Yi(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=lr(d),ti(d,this.P)):d=this.P),null===this.o&&(u.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=la(this,u,e),pe(t=Jn(this.F),"RID",i),pe(t,"CVER",22),this.D&&pe(t,"X-HTTP-Session-Id",this.D),Co(this,t),this.o&&d&&zn(t,this.o,d),qr(this.i,u),this.Ra&&pe(t,"TYPE","init"),this.ja?(pe(t,"$req",e),pe(t,"SID","null"),u.$=!0,Bi(u,t,null)):Bi(u,t,e),this.G=2}}else 3==this.G&&(i?To(this,i):0==this.l.length||Dt(this.i)||To(this))},X.Ga=function(){if(this.u=null,Jt(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=yt(ee(this.bb,this),i)}},X.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ge(10),Or(this),Jt(this))},X.ab=function(){null!=this.v&&(this.v=null,Or(this),zs(this),ge(19))},X.jb=function(i){i?(this.h.info("Successfully pinged google.com"),ge(2)):(this.h.info("Failed to ping google.com"),ge(1))},(X=wr.prototype).xa=function(){},X.wa=function(){},X.va=function(){},X.ua=function(){},X.Oa=function(){},oo.prototype.g=function(i,e){return new Ts(i,e)},gt(Ts,ir),Ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),ui(ee(i.hb,i,e))),ge(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=si(i,null,i.W),ls(i)},Ts.prototype.close=function(){Vr(this.g)},Ts.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,ar(this.g,e)}else this.v?((e={}).__data__=Xn(i),ar(this.g,e)):ar(this.g,i)},Ts.prototype.M=function(){this.g.j=null,delete this.j,Vr(this.g),delete this.g,Ts.Z.M.call(this)},gt(Hi,gs),gt(So,Zi),gt(Zr,wr),Zr.prototype.xa=function(){Pt(this.g,"a")},Zr.prototype.wa=function(i){Pt(this.g,new Hi(i))},Zr.prototype.va=function(i){Pt(this.g,new So(i))},Zr.prototype.ua=function(){Pt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Ts.prototype.send=Ts.prototype.u,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,zt.COMPLETE="complete",or.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",ir.prototype.listen=ir.prototype.N,C.prototype.listenOnce=C.prototype.O,C.prototype.getLastError=C.prototype.La,C.prototype.getLastErrorCode=C.prototype.Da,C.prototype.getStatus=C.prototype.ba,C.prototype.getResponseJson=C.prototype.Qa,C.prototype.getResponseText=C.prototype.ga,C.prototype.send=C.prototype.ea;var Ps=vt.createWebChannelTransport=function(){return new oo},ao=vt.getStatEventTarget=function(){return yr()},Vs=vt.ErrorCode=kt,Ra=vt.EventType=zt,xu=vt.Event=is,ca=vt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yo=vt.FetchXmlHttpFactory=Bo,Si=vt.WebChannel=or,Qo=vt.XhrIo=C;const Jo="@firebase/firestore";class _i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let da="9.8.3";const jo=new ve.Yd("@firebase/firestore");function wa(){return jo.logLevel}function Ot(i,...e){if(jo.logLevel<=ve.in.DEBUG){const t=e.map(Xo);jo.debug(`Firestore (${da}): ${i}`,...t)}}function zr(i,...e){if(jo.logLevel<=ve.in.ERROR){const t=e.map(Xo);jo.error(`Firestore (${da}): ${i}`,...t)}}function Ao(i,...e){if(jo.logLevel<=ve.in.WARN){const t=e.map(Xo);jo.warn(`Firestore (${da}): ${i}`,...t)}}function Xo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function b(i="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+i;throw zr(e),new Error(e)}function w(i,e){i||b()}function A(i,e){return i}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Ue.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class re{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class De{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ht{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_i.UNAUTHENTICATED))}shutdown(){}}class Xt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qn{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const d=H=>this.i!==u?(u=this.i,t(H)):Promise.resolve();let m=new re;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new re,e.enqueueRetryable(()=>d(this.currentUser))};const T=()=>{const H=m;e.enqueueRetryable((0,be.Z)(function*(){yield H.promise,yield d(s.currentUser)}))},U=H=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>U(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?U(H):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new re)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(w("string"==typeof s.accessToken),new De(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return w(null===e||"string"==typeof e),new _i(e)}}class fn{constructor(e,t,s){this.type="FirstParty",this.user=_i.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Ar{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new fn(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cs{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=d=>{null!=d.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.p;return this.p=d.token,Ot("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const u=d=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?u(d):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(w("string"==typeof t.token),this.p=t.token,new Rr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ha(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Ia{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=ha(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<t&&(s+=e.charAt(u[d]%e.length))}return s}}function Dn(i,e){return i<e?-1:i>e?1:0}function uo(i,e,t){return i.length===e.length&&i.every((s,u)=>t(s,e[u]))}function fa(i){return i+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new oi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dn(this.nanoseconds,e.nanoseconds):Dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new oi(0,0))}static max(){return new Fn(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ea{constructor(e,t,s){void 0===t?t=0:t>e.length&&b(),void 0===s?s=e.length-t:s>e.length-t&&b(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===ea.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const d=e.get(u),m=t.get(u);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dr extends ea{construct(e,t,s){return new Dr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new B(x.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new Dr(t)}static emptyPath(){return new Dr([])}}const Yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends ea{construct(e,t,s){return new rr(e,t,s)}static isValidIdentifier(e){return Yl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rr(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const d=()=>{if(0===s.length)throw new B(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new B(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new B(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,u+=2}else"`"===T?(m=!m,u++):"."!==T||m?(s+=T,u++):(d(),u++)}if(d(),m)throw new B(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(t)}static emptyPath(){return new rr([])}}class Wt{constructor(e){this.path=e}static fromPath(e){return new Wt(Dr.fromString(e))}static fromName(e){return new Wt(Dr.fromString(e).popFirst(5))}static empty(){return new Wt(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wt(new Dr(e.slice()))}}class Ql{constructor(e,t,s,u){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=u}}function Jl(i){return i.fields.find(e=>2===e.kind)}function xa(i){return i.fields.filter(e=>2!==e.kind)}Ql.UNKNOWN_ID=-1;class uu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pu(0,Ws.min())}}function id(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=Fn.fromTimestamp(1e9===s?new oi(t+1,0):new oi(t,s));return new Ws(u,Wt.empty(),e)}function Ka(i){return new Ws(i.readTime,i.key,-1)}class Ws{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ws(Fn.min(),Wt.empty(),-1)}static max(){return new Ws(Fn.max(),Wt.empty(),-1)}}function Gi(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Wt.comparator(i.documentKey,e.documentKey),0!==t?t:Dn(i.largestBatchId,e.largestBatchId))}const Wa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pa(i){return yl.apply(this,arguments)}function yl(){return yl=(0,be.Z)(function*(i){if(i.code!==x.FAILED_PRECONDITION||i.message!==Wa)throw i;Ot("LocalStore","Unexpectedly lost primary lease")}),yl.apply(this,arguments)}class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&b(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qe((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Qe?t:Qe.resolve(t)}catch(t){return Qe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Qe.reject(t)}static resolve(e){return new Qe((t,s)=>{t(e)})}static reject(e){return new Qe((t,s)=>{s(e)})}static waitFor(e){return new Qe((t,s)=>{let u=0,d=0,m=!1;e.forEach(T=>{++u,T.next(()=>{++d,m&&d===u&&t()},U=>s(U))}),m=!0,d===u&&t()})}static or(e){let t=Qe.resolve(!1);for(const s of e)t=t.next(u=>u?Qe.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,d)=>{s.push(t.call(this,u,d))}),this.waitFor(s)}static mapArray(e,t){return new Qe((s,u)=>{const d=e.length,m=new Array(d);let T=0;for(let U=0;U<d;U++){const H=U;t(e[H]).next(te=>{m[H]=te,++T,T===d&&s(m)},te=>u(te))}})}static doWhile(e,t){return new Qe((s,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):s()};d()})}}class Os{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new re,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new lo(e,t.error)):this.T.resolve()},this.transaction.onerror=s=>{const u=Ou(s.target.error);this.T.reject(new lo(e,u))}}static open(e,t,s,u){try{return new Os(t,e.transaction(u,s))}catch(d){throw new lo(t,d)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ga(t)}}class qs{constructor(e,t,s){this.name=e,this.version=t,this.P=s,12.2===qs.v((0,Ue.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ot("SimpleDb","Removing database:",e),Ho(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ue.hl)())return!1;if(qs.S())return!0;const e=(0,Ue.z$)(),t=qs.v(e),s=0<t&&t<10,u=qs.D(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static D(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}k(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ot("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{u(new lo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const T=m.target.error;u("VersionError"===T.name?new B(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new B(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new lo(e,T))},d.onupgradeneeded=m=>{Ot("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.P.O(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{Ot("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=s=>t.M(s)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,u){var d=this;return(0,be.Z)(function*(){const m="readonly"===t;let T=0;for(;;){++T;try{d.db=yield d.k(e);const U=Os.open(d.db,e,m?"readonly":"readwrite",s),H=u(U).next(te=>(U.R(),te)).catch(te=>(U.abort(te),Qe.reject(te))).toPromise();return H.catch(()=>{}),yield U.A,H}catch(U){const H="FirebaseError"!==U.name&&T<3;if(Ot("SimpleDb","Transaction failed with error:",U.message,"Retrying:",H),d.close(),!H)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qa{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Ho(this.$.delete())}}class lo extends B{constructor(e,t){super(x.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function js(i){return"IndexedDbTransactionError"===i.name}class ga{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ot("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ho(s)}add(e){return Ot("SimpleDb","ADD",this.store.name,e,e),Ho(this.store.add(e))}get(e){return Ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ot("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ot("SimpleDb","DELETE",this.store.name,e),Ho(this.store.delete(e))}count(){return Ot("SimpleDb","COUNT",this.store.name),Ho(this.store.count())}K(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),d=[];return this.G(u,(m,T)=>{d.push(T)}).next(()=>d)}{const u=this.store.getAll(s.range);return new Qe((d,m)=>{u.onerror=T=>{m(T.target.error)},u.onsuccess=T=>{d(T.target.result)}})}}j(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Qe((u,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}W(e,t){Ot("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.H=!1;const u=this.cursor(s);return this.G(u,(d,m,T)=>T.delete())}J(e,t){let s;t?s=e:(s={},t=e);const u=this.cursor(s);return this.G(u,t)}Y(e){const t=this.cursor({});return new Qe((s,u)=>{t.onerror=d=>{const m=Ou(d.target.error);u(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(T=>{T?m.continue():s()}):s()}})}G(e,t){const s=[];return new Qe((u,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const T=m.target.result;if(!T)return void u();const U=new qa(T),H=t(T.primaryKey,T.value,U);if(H instanceof Qe){const te=H.catch(_e=>(U.done(),Qe.reject(_e)));s.push(te)}U.isDone?u():null===U.U?T.continue():T.continue(U.U)}}).next(()=>Qe.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ho(i){return new Qe((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=Ou(s.target.error);t(u)}})}let vl=!1;function Ou(i){const e=qs.v((0,Ue.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vl||(vl=!0,setTimeout(()=>{throw s},0)),s}}return i}class sd{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ot("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Ot("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(s){js(s)?Ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield pa(s)}yield t.Z(1)}))}}class Zs{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.et(s,e))})()}et(e,t){const s=new Set;let u=t,d=!0;return Qe.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return Ot("IndexBackiller",`Processing collection: ${m}`),this.nt(e,m,u).next(T=>{u-=T,s.add(m)});d=!1})).next(()=>t-u)}nt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,s).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.st(u,d)).next(T=>(Ot("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,t,T))).next(()=>m.size)}))}st(e,t){let s=e;return t.changes.forEach((u,d)=>{const m=Ka(d);Gi(m,s)>0&&(s=m)}),new Ws(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ns{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.it(s),this.rt=s=>t.writeSequenceNumber(s))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Ma(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Za(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ta(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ns.ot=-1;class Oi{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new Oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ya(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ya(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ya(this.root,e,this.comparator,!0)}}class Ya{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,s,u,d){this.key=e,this.value=t,this.color=null!=s?s:Cs.RED,this.left=null!=u?u:Cs.EMPTY,this.right=null!=d?d:Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,d){return new Cs(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Cs.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw b();const e=this.left.check();if(e!==this.right.check())throw b();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw b()}get value(){throw b()}get color(){throw b()}get left(){throw b()}get right(){throw b()}copy(i,e,t,s,u){return this}insert(i,e,t){return new Cs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new Oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nu(this.data.getIterator())}getIteratorFrom(e){return new Nu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class Nu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function co(i){return i.hasNext()?i.getNext():void 0}class ds{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new ds([])}unionWith(e){let t=new br(rr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hs(t)}static fromUint8Array(e){const t=function(s){let u="";for(let d=0;d<s.length;++d)u+=String.fromCharCode(s[d]);return u}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const Pa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(i){if(w(!!i),"string"==typeof i){let e=0;const t=Pa.exec(i);if(w(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pi(i.seconds),nanos:pi(i.nanos)}}function pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function M(i){return"string"==typeof i?hs.fromBase64String(i):hs.fromUint8Array(i)}function k(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Z(i){const e=i.mapValue.fields.__previous_value__;return k(e)?Z(e):e}function he(i){const e=Ro(i.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}class He{constructor(e,t,s,u,d,m,T,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=T,this.useFetchStreams=U}}class Ze{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ze("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ze&&e.projectId===this.projectId&&e.database===this.database}}function St(i){return null==i}function nn(i){return 0===i&&1/i==-1/0}function mn(i){return"number"==typeof i&&Number.isInteger(i)&&!nn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Hn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tr={nullValue:"NULL_VALUE"};function Tn(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?k(i)?4:Xl(i)?9007199254740991:10:b()}function Xr(i,e){if(i===e)return!0;const t=Tn(i);if(t!==Tn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return he(i).isEqual(he(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const d=Ro(s.timestampValue),m=Ro(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,M(i.bytesValue).isEqual(M(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,u){return pi(s.geoPointValue.latitude)===pi(u.geoPointValue.latitude)&&pi(s.geoPointValue.longitude)===pi(u.geoPointValue.longitude)}(i,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return pi(s.integerValue)===pi(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const d=pi(s.doubleValue),m=pi(u.doubleValue);return d===m?nn(d)===nn(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(s,u){const d=s.mapValue.fields||{},m=u.mapValue.fields||{};if(Ma(d)!==Ma(m))return!1;for(const T in d)if(d.hasOwnProperty(T)&&(void 0===m[T]||!Xr(d[T],m[T])))return!1;return!0}(i,e);default:return b()}var u}function Ss(i,e){return void 0!==(i.values||[]).find(t=>Xr(t,e))}function ho(i,e){if(i===e)return 0;const t=Tn(i),s=Tn(e);if(t!==s)return Dn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const m=pi(u.integerValue||u.doubleValue),T=pi(d.integerValue||d.doubleValue);return m<T?-1:m>T?1:m===T?0:isNaN(m)?isNaN(T)?0:-1:1}(i,e);case 3:return ma(i.timestampValue,e.timestampValue);case 4:return ma(he(i),he(e));case 5:return Dn(i.stringValue,e.stringValue);case 6:return function(u,d){const m=M(u),T=M(d);return m.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),T=d.split("/");for(let U=0;U<m.length&&U<T.length;U++){const H=Dn(m[U],T[U]);if(0!==H)return H}return Dn(m.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Dn(pi(u.latitude),pi(d.latitude));return 0!==m?m:Dn(pi(u.longitude),pi(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const m=u.values||[],T=d.values||[];for(let U=0;U<m.length&&U<T.length;++U){const H=ho(m[U],T[U]);if(H)return H}return Dn(m.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Hn.mapValue&&d===Hn.mapValue)return 0;if(u===Hn.mapValue)return 1;if(d===Hn.mapValue)return-1;const m=u.fields||{},T=Object.keys(m),U=d.fields||{},H=Object.keys(U);T.sort(),H.sort();for(let te=0;te<T.length&&te<H.length;++te){const _e=Dn(T[te],H[te]);if(0!==_e)return _e;const rt=ho(m[T[te]],U[H[te]]);if(0!==rt)return rt}return Dn(T.length,H.length)}(i.mapValue,e.mapValue);default:throw b()}}function ma(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Dn(i,e);const t=Ro(i),s=Ro(e),u=Dn(t.seconds,s.seconds);return 0!==u?u:Dn(t.nanos,s.nanos)}function ks(i){return ba(i)}function ba(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const u=Ro(s);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?M(i.bytesValue).toBase64():"referenceValue"in i?Wt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let u="[",d=!0;for(const m of s.values||[])d?d=!1:u+=",",u+=ba(m);return u+"]"}(i.arrayValue):"mapValue"in i?function(s){const u=Object.keys(s.fields||{}).sort();let d="{",m=!0;for(const T of u)m?m=!1:d+=",",d+=`${T}:${ba(s.fields[T])}`;return d+"}"}(i.mapValue):b();var e}function xo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Go(i){return!!i&&"integerValue"in i}function Mo(i){return!!i&&"arrayValue"in i}function ya(i){return!!i&&"nullValue"in i}function Qa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function cu(i){return!!i&&"mapValue"in i}function du(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Za(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=du(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Xl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Df(i){return"nullValue"in i?Tr:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?xo(Ze.empty(),Wt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:b()}function ku(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?xo(Ze.empty(),Wt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Hn:b()}function Lu(i,e){const t=ho(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ec(i,e){const t=ho(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!cu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=rr.emptyPath(),s={},u=[];e.forEach((m,T)=>{if(!t.isImmediateParentOf(T)){const U=this.getFieldsMap(t);this.applyChanges(U,s,u),s={},u=[],t=T.popLast()}m?s[T.lastSegment()]=du(m):u.push(T.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,u)}delete(e){const t=this.field(e.popLast());cu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];cu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){Za(t,(u,d)=>e[u]=d);for(const u of s)delete e[u]}clone(){return new Ys(du(this.value))}}function od(i){const e=[];return Za(i.fields,(t,s)=>{const u=new rr([t]);if(cu(s)){const d=od(s.mapValue).fields;if(0===d.length)e.push(u);else for(const m of d)e.push(u.child(m))}else e.push(u)}),new ds(e)}class Ei{constructor(e,t,s,u,d,m){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ei(e,0,Fn.min(),Fn.min(),Ys.empty(),0)}static newFoundDocument(e,t,s){return new Ei(e,1,t,Fn.min(),s,0)}static newNoDocument(e,t){return new Ei(e,2,t,Fn.min(),Ys.empty(),0)}static newUnknownDocument(e,t){return new Ei(e,3,t,Fn.min(),Ys.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mg{constructor(e,t=null,s=[],u=[],d=null,m=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=m,this.endAt=T,this.ut=null}}function El(i,e=null,t=[],s=[],u=null,d=null,m=null){return new mg(i,e,t,s,u,d,m)}function hu(i){const e=A(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(u=s).field.canonicalString()+u.op.toString()+ks(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),St(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ks(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ks(s)).join(",")),e.ut=t}return e.ut}function Ja(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Sf(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(s=e.filters[u]).op||!t.field.isEqual(s.field)||!Xr(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!pu(i.startAt,e.startAt)&&pu(i.endAt,e.endAt)}function Fu(i){return Wt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Oa(i,e){return i.filters.filter(t=>t instanceof Qs&&t.field.isEqual(e))}function Jd(i,e,t){let s=Tr,u=!0;for(const d of Oa(i,e)){let m=Tr,T=!0;switch(d.op){case"<":case"<=":m=Df(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,T=!1;break;case"!=":case"not-in":m=Tr}Lu({value:s,inclusive:u},{value:m,inclusive:T})<0&&(s=m,u=T)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];Lu({value:s,inclusive:u},{value:m,inclusive:t.inclusive})<0&&(s=m,u=t.inclusive);break}return{value:s,inclusive:u}}function Xd(i,e,t){let s=Hn,u=!0;for(const d of Oa(i,e)){let m=Hn,T=!0;switch(d.op){case">=":case">":m=ku(d.value),T=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,T=!1;break;case"!=":case"not-in":m=Hn}ec({value:s,inclusive:u},{value:m,inclusive:T})>0&&(s=m,u=T)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];ec({value:s,inclusive:u},{value:m,inclusive:t.inclusive})>0&&(s=m,u=t.inclusive);break}return{value:s,inclusive:u}}class Qs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,s):new Uu(e,t,s):"array-contains"===t?new th(e,s):"in"===t?new fu(e,s):"not-in"===t?new nh(e,s):"array-contains-any"===t?new Cf(e,s):new Qs(e,t,s)}static ct(e,t,s){return"in"===t?new ad(e,s):new eh(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ho(t,this.value)):null!==t&&Tn(this.value)===Tn(t)&&this.at(ho(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return b()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Uu extends Qs{constructor(e,t,s){super(e,t,s),this.key=Wt.fromName(s.referenceValue)}matches(e){const t=Wt.comparator(e.key,this.key);return this.at(t)}}class ad extends Qs{constructor(e,t){super(e,"in",t),this.keys=ud(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eh extends Qs{constructor(e,t){super(e,"not-in",t),this.keys=ud(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ud(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Wt.fromName(s.referenceValue))}class th extends Qs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mo(t)&&Ss(t.arrayValue,this.value)}}class fu extends Qs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ss(this.value.arrayValue,t)}}class nh extends Qs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ss(this.value.arrayValue,t)}}class Cf extends Qs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ss(this.value.arrayValue,s))}}class Xa{constructor(e,t){this.position=e,this.inclusive=t}}class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function na(i,e,t){let s=0;for(let u=0;u<i.position.length;u++){const d=e[u],m=i.position[u];if(s=d.field.isKeyField()?Wt.comparator(Wt.fromName(m.referenceValue),t.key):ho(m,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function pu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Xr(i.position[t],e.position[t]))return!1;return!0}class ra{constructor(e,t=null,s=[],u=[],d=null,m="F",T=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=m,this.startAt=T,this.endAt=U,this.lt=null,this.ft=null}}function rh(i,e,t,s,u,d,m,T){return new ra(i,e,t,s,u,d,m,T)}function gu(i){return new ra(i)}function wl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ld(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Il(i){return null!==i.collectionGroup}function mu(i){const e=A(i);if(null===e.lt){e.lt=[];const t=ld(e),s=wl(e);if(null!==t&&null===s)t.isKeyField()||e.lt.push(new Bu(t)),e.lt.push(new Bu(rr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.lt.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Bu(rr.keyField(),d))}}}return e.lt}function ia(i){const e=A(i);if(!e.ft)if("F"===e.limitType)e.ft=El(e.path,e.collectionGroup,mu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of mu(e))t.push(new Bu(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new Xa(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Xa(e.startAt.position,e.startAt.inclusive):null;e.ft=El(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e.ft}function ih(i,e,t){return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function bl(i,e){return Ja(ia(i),ia(e))&&i.limitType===e.limitType}function yg(i){return`${hu(ia(i))}|lt:${i.limitType}`}function Na(i){return`Query(target=${function Tf(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${ks(s.value)}`;var s}).join(", ")}]`),St(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ks(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ks(t)).join(",")),`Target(${e})`}(ia(i))}; limitType=${i.limitType})`}function yu(i,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Wt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,s){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(i,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(u,d,m){const T=na(u,d,m);return u.inclusive?T<=0:T<0}(t.startAt,mu(t),s)||t.endAt&&!function(u,d,m){const T=na(u,d,m);return u.inclusive?T>=0:T>0}(t.endAt,mu(t),s)));var t,s}function cd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zo(i){return(e,t)=>{let s=!1;for(const u of mu(i)){const d=Dl(u,e,t);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function Dl(i,e,t){const s=i.field.isKeyField()?Wt.comparator(e.key,t.key):function(u,d,m){const T=d.data.field(u),U=m.data.field(u);return null!==T&&null!==U?ho(T,U):b()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return b()}}function Tl(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nn(e)?"-0":e}}function dd(i){return{integerValue:""+i}}function hd(i,e){return mn(e)?dd(e):Tl(i,e)}class Cl{constructor(){this._=void 0}}function vg(i,e,t){return i instanceof eu?function(s,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof ka?Rf(i,e):i instanceof ju?fd(i,e):function(s,u){const d=Vu(s,u),m=tc(d)+tc(s._t);return Go(d)&&Go(s._t)?dd(m):Tl(s.wt,m)}(i,e)}function _g(i,e,t){return i instanceof ka?Rf(i,e):i instanceof ju?fd(i,e):t}function Vu(i,e){return i instanceof vu?Go(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class eu extends Cl{}class ka extends Cl{constructor(e){super(),this.elements=e}}function Rf(i,e){const t=sh(e);for(const s of i.elements)t.some(u=>Xr(u,s))||t.push(s);return{arrayValue:{values:t}}}class ju extends Cl{constructor(e){super(),this.elements=e}}function fd(i,e){let t=sh(e);for(const s of i.elements)t=t.filter(u=>!Xr(u,s));return{arrayValue:{values:t}}}class vu extends Cl{constructor(e,t){super(),this.wt=e,this._t=t}}function tc(i){return pi(i.integerValue||i.doubleValue)}function sh(i){return Mo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Sl{constructor(e,t){this.field=e,this.transform=t}}class $u{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class _u{}function Ji(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ku(i.key,Li.none()):new Gu(i.key,i.data,Li.none());{const t=i.data,s=Ys.empty();let u=new br(rr.comparator);for(let d of e.fields)if(!u.has(d)){let m=t.field(d);null===m&&d.length>1&&(d=d.popLast(),m=t.field(d)),null===m?s.delete(d):s.set(d,m),u=u.add(d)}return new La(i.key,s,new ds(u.toArray()),Li.none())}}function xf(i,e,t){i instanceof Gu?function(s,u,d){const m=s.value.clone(),T=zu(s.fieldTransforms,u,d.transformResults);m.setAll(T),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof La?function(s,u,d){if(!Hu(s.precondition,u))return void u.convertToUnknownDocument(d.version);const m=zu(s.fieldTransforms,u,d.transformResults),T=u.data;T.setAll(oh(s)),T.setAll(m),u.convertToFoundDocument(d.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Al(i,e,t,s){return i instanceof Gu?function(u,d,m,T){if(!Hu(u.precondition,d))return m;const U=u.value.clone(),H=ah(u.fieldTransforms,T,d);return U.setAll(H),d.convertToFoundDocument(d.version,U).setHasLocalMutations(),null}(i,e,t,s):i instanceof La?function(u,d,m,T){if(!Hu(u.precondition,d))return m;const U=ah(u.fieldTransforms,T,d),H=d.data;return H.setAll(oh(u)),H.setAll(U),d.convertToFoundDocument(d.version,H).setHasLocalMutations(),null===m?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(te=>te.field))}(i,e,t,s):(m=t,Hu(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function rc(i,e){let t=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),d=Vu(s.transform,u||null);null!=d&&(null===t&&(t=Ys.empty()),t.set(s.field,d))}return t||null}function ic(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&uo(t,s,(u,d)=>function nc(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof ka&&s instanceof ka||t instanceof ju&&s instanceof ju?uo(t.elements,s.elements,Xr):t instanceof vu&&s instanceof vu?Xr(t._t,s._t):t instanceof eu&&s instanceof eu);var t,s}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Gu extends _u{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class La extends _u{constructor(e,t,s,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function oh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function zu(i,e,t){const s=new Map;w(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],m=d.transform,T=e.data.field(d.field);s.set(d.field,_g(m,T,t[u]))}return s}function ah(i,e,t){const s=new Map;for(const u of i){const d=u.transform,m=t.data.field(u.field);s.set(u.field,vg(d,m,e))}return s}class Ku extends _u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uh extends _u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rl{constructor(e){this.count=e}}var Lr,xr;function sc(i){switch(i){default:return b();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function xl(i){if(void 0===i)return zr("GRPC error has no .code"),x.UNKNOWN;switch(i){case Lr.OK:return x.OK;case Lr.CANCELLED:return x.CANCELLED;case Lr.UNKNOWN:return x.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return x.INTERNAL;case Lr.UNAVAILABLE:return x.UNAVAILABLE;case Lr.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Lr.NOT_FOUND:return x.NOT_FOUND;case Lr.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Lr.ABORTED:return x.ABORTED;case Lr.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Lr.DATA_LOSS:return x.DATA_LOSS;default:return b()}}(xr=Lr||(Lr={}))[xr.OK=0]="OK",xr[xr.CANCELLED=1]="CANCELLED",xr[xr.UNKNOWN=2]="UNKNOWN",xr[xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xr[xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xr[xr.NOT_FOUND=5]="NOT_FOUND",xr[xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",xr[xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",xr[xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",xr[xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xr[xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xr[xr.ABORTED=10]="ABORTED",xr[xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",xr[xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",xr[xr.INTERNAL=13]="INTERNAL",xr[xr.UNAVAILABLE=14]="UNAVAILABLE",xr[xr.DATA_LOSS=15]="DATA_LOSS";class Ni{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,s)=>{for(const[u,d]of s)e(u,d)})}isEmpty(){return ta(this.inner)}size(){return this.innerSize}}const Wu=new Oi(Wt.comparator);function Js(){return Wu}const oc=new Oi(Wt.comparator);function Ml(...i){let e=oc;for(const t of i)e=e.insert(t.key,t);return e}function fo(i){let e=oc;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Po(){return Pl()}function ac(){return Pl()}function Pl(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const uc=new Oi(Wt.comparator),pd=new br(Wt.comparator);function pr(...i){let e=pd;for(const t of i)e=e.add(t);return e}const lc=new br(Dn);function cc(){return lc}class sa{constructor(e,t,s,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t)),new sa(Fn.min(),s,cc(),Js(),pr())}}class tu{constructor(e,t,s,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new tu(hs.EMPTY_BYTE_STRING,t,pr(),pr(),pr())}}class dc{constructor(e,t,s,u){this.gt=e,this.removedTargetIds=t,this.key=s,this.yt=u}}class lh{constructor(e,t){this.targetId=e,this.It=t}}class Ol{constructor(e,t,s=hs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class gd{constructor(){this.Tt=0,this.Et=fc(),this.At=hs.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=pr(),t=pr(),s=pr();return this.Et.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:b()}}),new tu(this.At,this.Rt,e,t,s)}Dt(){this.bt=!1,this.Et=fc()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Oo{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Js(),this.Bt=hc(),this.Lt=new br(Dn)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const s=this.Qt(t);switch(e.state){case 0:this.jt(t)&&s.Vt(e.resumeToken);break;case 1:s.kt(),s.Pt||s.Dt(),s.Vt(e.resumeToken);break;case 2:s.kt(),s.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(s.Ot(),s.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),s.Vt(e.resumeToken));break;default:b()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((s,u)=>{this.jt(u)&&t(u)})}zt(e){const t=e.targetId,s=e.It.count,u=this.Ht(t);if(u){const d=u.target;if(Fu(d))if(0===s){const m=new Wt(d.path);this.Kt(t,m,Ei.newNoDocument(m,Fn.min()))}else w(1===s);else this.Jt(t)!==s&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((d,m)=>{const T=this.Ht(m);if(T){if(d.current&&Fu(T.target)){const U=new Wt(T.target.path);null!==this.$t.get(U)||this.Xt(m,U)||this.Kt(m,U,Ei.newNoDocument(U,e))}d.vt&&(t.set(m,d.St()),d.Dt())}});let s=pr();this.Bt.forEach((d,m)=>{let T=!0;m.forEachWhile(U=>{const H=this.Ht(U);return!H||2===H.purpose||(T=!1,!1)}),T&&(s=s.add(d))}),this.$t.forEach((d,m)=>m.setReadTime(e));const u=new sa(e,t,this.Lt,this.$t,s);return this.$t=Js(),this.Bt=hc(),this.Lt=new br(Dn),u}qt(e,t){if(!this.jt(e))return;const s=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,s),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,s){if(!this.jt(e))return;const u=this.Qt(e);this.Xt(e,t)?u.Ct(t,1):u.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),s&&(this.$t=this.$t.insert(t,s))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new gd,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new br(Dn),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new gd),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function hc(){return new Oi(Wt.comparator)}function fc(){return new Oi(Wt.comparator)}const Mf={asc:"ASCENDING",desc:"DESCENDING"},Da={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nl{constructor(e,t){this.databaseId=e,this.dt=t}}function qu(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function md(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Pf(i,e){return qu(i,e.toTimestamp())}function _s(i){return w(!!i),Fn.fromTimestamp(function(e){const t=Ro(e);return new oi(t.seconds,t.nanos)}(i))}function yd(i,e){return(t=i,new Dr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ch(i){const e=Dr.fromString(i);return w(_d(e)),e}function kl(i,e){return yd(i.databaseId,e.path)}function po(i,e){const t=ch(e);if(t.get(1)!==i.databaseId.projectId)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new B(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Wt(I(t))}function y(i,e){return yd(i.databaseId,e)}function c(i){const e=ch(i);return 4===e.length?Dr.emptyPath():I(e)}function h(i){return new Dr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function I(i){return w(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function j(i,e,t){return{name:kl(i,e),fields:t.value.mapValue.fields}}function Y(i,e,t){const s=po(i,e.name),u=_s(e.updateTime),d=new Ys({mapValue:{fields:e.fields}}),m=Ei.newFoundDocument(s,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function $t(i,e){let t;if(e instanceof Gu)t={update:j(i,e.key,e.value)};else if(e instanceof Ku)t={delete:kl(i,e.key)};else if(e instanceof La)t={update:j(i,e.key,e.data),updateMask:vd(e.fieldMask)};else{if(!(e instanceof uh))return b();t={verify:kl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const m=d.transform;if(m instanceof eu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ka)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ju)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vu)return{fieldPath:d.field.canonicalString(),increment:m._t};throw b()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Pf(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:b()),t;var u}function un(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Li.updateTime(_s(u.updateTime)):void 0!==u.exists?Li.exists(u.exists):Li.none():Li.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(d,m){let T=null;"setToServerValue"in m?(w("REQUEST_TIME"===m.setToServerValue),T=new eu):"appendMissingElements"in m?T=new ka(m.appendMissingElements.values||[]):"removeAllFromArray"in m?T=new ju(m.removeAllFromArray.values||[]):"increment"in m?T=new vu(d,m.increment):b();const U=rr.fromServerFormat(m.fieldPath);return new Sl(U,T)}(i,u)):[];var u;if(e.update){const u=po(i,e.update.name),d=new Ys({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new ds((e.updateMask.fieldPaths||[]).map(H=>rr.fromServerFormat(H)));return new La(u,d,m,t,s)}return new Gu(u,d,t,s)}if(e.delete){const u=po(i,e.delete);return new Ku(u,t)}if(e.verify){const u=po(i,e.verify);return new uh(u,t)}return b()}function An(i,e){return{documents:[y(i,e.path)]}}function fs(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=y(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=y(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(U){if(0===U.length)return;const H=U.map(te=>function(_e){if("=="===_e.op){if(Qa(_e.value))return{unaryFilter:{field:Fa(_e.field),op:"IS_NAN"}};if(ya(_e.value))return{unaryFilter:{field:Fa(_e.field),op:"IS_NULL"}}}else if("!="===_e.op){if(Qa(_e.value))return{unaryFilter:{field:Fa(_e.field),op:"IS_NOT_NAN"}};if(ya(_e.value))return{unaryFilter:{field:Fa(_e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(_e.field),op:Eu(_e.op),value:_e.value}}}(te));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(U){if(0!==U.length)return U.map(H=>{return{field:Fa((te=H).field),direction:dh(te.dir)};var te})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(H=e.limit,i.dt||St(H)?H:{value:H});var H,T,U;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function No(i){let e=c(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){w(1===s);const te=t.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let d=[];t.where&&(d=pc(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(te=>{return new Bu(Ua((_e=te).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));let T=null;t.limit&&(T=function(te){let _e;return _e="object"==typeof te?te.value:te,St(_e)?null:_e}(t.limit));let U=null;var te;t.startAt&&(U=new Xa((te=t.startAt).values||[],!!te.before));let H=null;return t.endAt&&(H=function(te){return new Xa(te.values||[],!te.before)}(t.endAt)),rh(e,u,m,d,T,"F",U,H)}function pc(i){return i?void 0!==i.unaryFilter?[gc(i)]:void 0!==i.fieldFilter?[hh(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>pc(e)).reduce((e,t)=>e.concat(t)):b():[]}function dh(i){return Mf[i]}function Eu(i){return Da[i]}function Fa(i){return{fieldPath:i.canonicalString()}}function Ua(i){return rr.fromServerFormat(i.fieldPath)}function hh(i){return Qs.create(Ua(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return b()}}(i.fieldFilter.op),i.fieldFilter.value)}function gc(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ua(i.unaryFilter.field);return Qs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ua(i.unaryFilter.field);return Qs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ua(i.unaryFilter.field);return Qs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ua(i.unaryFilter.field);return Qs.create(u,"!=",{nullValue:"NULL_VALUE"});default:return b()}}function vd(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _d(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function go(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=fh(e)),e=Ed(i.get(t),e);return fh(e)}function Ed(i,e){let t=e;const s=i.length;for(let u=0;u<s;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function fh(i){return i+"\x01\x01"}function nu(i){const e=i.length;if(w(e>=2),2===e)return w("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Dr.emptyPath();const t=e-2,s=[];let u="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>t)&&b(),i.charAt(m+1)){case"\x01":const T=i.substring(d,m);let U;0===u.length?U=T:(u+=T,U=u,u=""),s.push(U);break;case"\x10":u+=i.substring(d,m),u+="\0";break;case"\x11":u+=i.substring(d,m+1);break;default:b()}d=m+2}return new Dr(s)}const Of=["userId","batchId"];function mc(i,e){return[i,go(e)]}function Nf(i,e,t){return[i,go(e),t]}const kf={},Hy=["prefixPath","collectionGroup","readTime","documentId"],Gy=["prefixPath","collectionGroup","documentId"],Eg=["collectionGroup","readTime","prefixPath","documentId"],wg=["canonicalId","targetId"],Ll=["targetId","path"],Ig=["path","targetId"],bg=["collectionId","parent"],zy=["indexId","uid"],ph=["uid","sequenceNumber"],Ky=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dg=["indexId","uid","orderedDocumentKey"],Tg=["userId","collectionPath","documentId"],Cg=["userId","collectionPath","largestBatchId"],Lf=["userId","collectionGroup","largestBatchId"],Ff=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gh=[...Ff,"documentOverlays"],wd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uf=wd,Bf=[...Uf,"indexConfiguration","indexState","indexEntries"];class mh extends lu{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ls(i,e){const t=A(i);return qs.N(t.ee,e)}class Fl{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&xf(d,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Al(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Al(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ac();return this.mutations.forEach(u=>{const d=e.get(u.key),m=d.overlayedDocument;let T=this.applyToLocalView(m,d.mutatedFields);T=t.has(u.key)?null:T;const U=Ji(m,T);null!==U&&s.set(u.key,U),m.isValidDocument()||m.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pr())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(t,s)=>ic(t,s))&&uo(this.baseMutations,e.baseMutations,(t,s)=>ic(t,s))}}class Vf{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){w(e.mutations.length===s.length);let u=uc;const d=e.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,s[m].version);return new Vf(e,t,s,u)}}class yh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yu{constructor(e,t,s,u,d=Fn.min(),m=Fn.min(),T=hs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=T}withSequenceNumber(e){return new Yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Sg{constructor(e){this.ne=e}}function vh(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Id(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:kl(u=i.ne,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:qu(u,d.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:yc(e.version)};else{if(!e.isUnknownDocument())return b();s.unknownDocument={path:t.path.toArray(),version:yc(e.version)}}var u,d;return s}function Id(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function yc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qu(i){const e=new oi(i.seconds,i.nanoseconds);return Fn.fromTimestamp(e)}function Ul(i,e){const t=(e.baseMutations||[]).map(d=>un(i.ne,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>un(i.ne,d)),u=oi.fromMillis(e.localWriteTimeMs);return new Fl(e.batchId,u,t,s)}function vc(i){const e=Qu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Qu(i.lastLimboFreeSnapshotVersion):Fn.min();let s;var u;return void 0!==i.query.documents?(w(1===(u=i.query).documents.length),s=ia(gu(c(u.documents[0])))):s=ia(No(i.query)),new Yu(s,i.targetId,0,i.lastListenSequenceNumber,e,t,hs.fromBase64String(i.resumeToken))}function Rg(i,e){const t=yc(e.snapshotVersion),s=yc(e.lastLimboFreeSnapshotVersion);let u;u=Fu(e.target)?An(i.ne,e.target):fs(i.ne,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hu(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function jf(i){const e=No({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ih(e,e.limit,"L"):e}function va(i,e){return new yh(e.largestBatchId,un(i.ne,e.overlayMutation))}function xg(i,e){const t=e.path.lastSegment();return[i,go(e.path.popLast()),t]}function $f(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:yc(s.readTime),documentKey:go(s.documentKey.path),largestBatchId:s.largestBatchId}}class Wy{getBundleMetadata(e,t){return Mg(e).get(t).next(s=>{if(s)return{id:(u=s).bundleId,createTime:Qu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Mg(e).put({bundleId:(s=t).id,createTime:yc(_s(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Pg(e).get(t).next(s=>{if(s)return{name:(u=s).name,query:jf(u.bundledQuery),readTime:Qu(u.readTime)};var u})}saveNamedQuery(e,t){return Pg(e).put({name:(s=t).name,readTime:yc(_s(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Mg(i){return Ls(i,"bundles")}function Pg(i){return Ls(i,"namedQueries")}class _h{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new _h(e,t.uid||"")}getOverlay(e,t){return _c(e).get(xg(this.userId,t)).next(s=>s?va(this.wt,s):null)}getOverlays(e,t){const s=Po();return Qe.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,t,s){const u=[];return s.forEach((d,m)=>{const T=new yh(t,m);u.push(this.ie(e,T))}),Qe.waitFor(u)}removeOverlaysForBatchId(e,t,s){const u=new Set;t.forEach(m=>u.add(go(m.getCollectionPath())));const d=[];return u.forEach(m=>{const T=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);d.push(_c(e).W("collectionPathOverlayIndex",T))}),Qe.waitFor(d)}getOverlaysForCollection(e,t,s){const u=Po(),d=go(t),m=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return _c(e).K("collectionPathOverlayIndex",m).next(T=>{for(const U of T){const H=va(this.wt,U);u.set(H.getKey(),H)}return u})}getOverlaysForCollectionGroup(e,t,s,u){const d=Po();let m;const T=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _c(e).J({index:"collectionGroupOverlayIndex",range:T},(U,H,te)=>{const _e=va(this.wt,H);d.size()<u||_e.largestBatchId===m?(d.set(_e.getKey(),_e),m=_e.largestBatchId):te.done()}).next(()=>d)}ie(e,t){return _c(e).put(function(s,u,d){const[m,T,U]=xg(u,d.mutation.key);return{userId:u,collectionPath:T,documentId:U,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:$t(s.ne,d.mutation)}}(this.wt,this.userId,t))}}function _c(i){return Ls(i,"documentOverlays")}class Bl{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(pi(e.integerValue));else if("doubleValue"in e){const s=pi(e.doubleValue);isNaN(s)?this.ce(t,13):(this.ce(t,15),nn(s)?t.ae(0):t.ae(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ce(t,20),"string"==typeof s?t.he(s):(t.he(`${s.seconds||""}`),t.ae(s.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(M(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ce(t,45),t.ae(s.latitude||0),t.ae(s.longitude||0)}else"mapValue"in e?Xl(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):b()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const s=e.fields||{};this.ce(t,55);for(const u of Object.keys(s))this.le(u,t),this.oe(s[u],t)}me(e,t){const s=e.values||[];this.ce(t,50);for(const u of s)this.oe(u,t)}_e(e,t){this.ce(t,37),Wt.fromName(e).path.forEach(s=>{this.ce(t,60),this.ge(s,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function qy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Og(i){const e=64-function(t){let s=0;for(let u=0;u<8;++u){const d=qy(255&t[u]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}Bl.ye=new Bl;class ur{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ie(s.value),s=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ie(s);else if(s<2048)this.Ie(960|s>>>6),this.Ie(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s);else{const u=t.codePointAt(0);this.Ie(240|u>>>18),this.Ie(128|63&u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u)}}this.Te()}Pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}ve(e){const t=this.Ve(e),s=Og(t);this.Se(1+s),this.buffer[this.position++]=255&s;for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=255&t[u]}De(e){const t=this.Ve(e),s=Og(t);this.Se(1+s),this.buffer[this.position++]=~(255&s);for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let u=1;u<t.length;++u)t[u]^=s?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Ng{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class kg{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Ec{constructor(){this.Me=new ur,this.Fe=new Ng(this.Me),this.$e=new kg(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class ru{constructor(e,t,s,u){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=u}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ru(this.indexId,this.documentKey,this.arrayValue,s)}}function mo(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Hf(i.arrayValue,e.arrayValue),0!==t?t:(t=Hf(i.directionalValue,e.directionalValue),0!==t?t:Wt.comparator(i.documentKey,e.documentKey)))}function Hf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Zy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const s=t;s.ht()?this.Ke=s:this.qe.push(s)}}Ge(e){const t=Jl(e);if(void 0!==t&&!this.Qe(t))return!1;const s=xa(e);let u=0,d=0;for(;u<s.length&&this.Qe(s[u]);++u);if(u===s.length)return!0;if(void 0!==this.Ke){const m=s[u];if(!this.je(this.Ke,m)||!this.We(this.Ue[d++],m))return!1;++u}for(;u<s.length;++u){const m=s[u];if(d>=this.Ue.length||!this.We(this.Ue[d++],m))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Gf{constructor(){this.ze=new Ba}addToCollectionParentIndex(e,t){return this.ze.add(t),Qe.resolve()}getCollectionParents(e,t){return Qe.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Qe.resolve()}deleteFieldIndex(e,t){return Qe.resolve()}getDocumentsMatchingTarget(e,t){return Qe.resolve(null)}getIndexType(e,t){return Qe.resolve(0)}getFieldIndexes(e,t){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,t){return Qe.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return Qe.resolve(Ws.min())}updateCollectionGroup(e,t,s){return Qe.resolve()}updateIndexEntries(e,t){return Qe.resolve()}}class Ba{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new br(Dr.comparator),d=!u.has(s);return this.index[t]=u.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new br(Dr.comparator)).toArray()}}const wc=new Uint8Array(0);class Lg{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Ba,this.Je=new Ni(s=>hu(s),(s,u)=>Ja(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const d={collectionId:s,parent:go(u)};return Eh(e).put(d)}return Qe.resolve()}getCollectionParents(e,t){const s=[],u=IDBKeyRange.bound([t,""],[fa(t),""],!1,!0);return Eh(e).K(u).next(d=>{for(const m of d){if(m.collectionId!==t)break;s.push(nu(m.parent))}return s})}addFieldIndex(e,t){const s=bd(e),u={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var m;delete u.indexId;const d=s.add(u);if(t.indexState){const m=Ih(e);return d.next(T=>{m.put($f(T,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=bd(e),u=Ih(e),d=wh(e);return s.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=wh(e);let u=!0;const d=new Map;return Qe.forEach(this.Ye(t),m=>this.Xe(e,m).next(T=>{u&&(u=!!T),d.set(m,T)})).next(()=>{if(u){let m=pr();const T=[];return Qe.forEach(d,(U,H)=>{var te;Ot("IndexedDbIndexManager",`Using index ${te=U,`id=${te.indexId}|cg=${te.collectionGroup}|f=${te.fields.map(Ai=>`${Ai.fieldPath}:${Ai.kind}`).join(",")}`} to execute ${hu(t)}`);const _e=function(Ai,Ki){const Wi=Jl(Ki);if(void 0===Wi)return null;for(const ts of Oa(Ai,Wi.fieldPath))switch(ts.op){case"array-contains-any":return ts.value.arrayValue.values||[];case"array-contains":return[ts.value]}return null}(H,U),rt=function(Ai,Ki){const Wi=new Map;for(const ts of xa(Ki))for(const Uo of Oa(Ai,ts.fieldPath))switch(Uo.op){case"==":case"in":Wi.set(ts.fieldPath.canonicalString(),Uo.value);break;case"not-in":case"!=":return Wi.set(ts.fieldPath.canonicalString(),Uo.value),Array.from(Wi.values())}return null}(H,U),bt=function(Ai,Ki){const Wi=[];let ts=!0;for(const Uo of xa(Ki)){const rd=0===Uo.kind?Jd(Ai,Uo.fieldPath,Ai.startAt):Xd(Ai,Uo.fieldPath,Ai.startAt);Wi.push(rd.value),ts&&(ts=rd.inclusive)}return new Xa(Wi,ts)}(H,U),Mt=function(Ai,Ki){const Wi=[];let ts=!0;for(const Uo of xa(Ki)){const rd=0===Uo.kind?Xd(Ai,Uo.fieldPath,Ai.endAt):Jd(Ai,Uo.fieldPath,Ai.endAt);Wi.push(rd.value),ts&&(ts=rd.inclusive)}return new Xa(Wi,ts)}(H,U),dn=this.Ze(U,H,bt),Rn=this.Ze(U,H,Mt),ei=this.tn(U,H,rt),zi=this.en(U.indexId,_e,dn,bt.inclusive,Rn,Mt.inclusive,ei);return Qe.forEach(zi,Ai=>s.j(Ai,t.limit).next(Ki=>{Ki.forEach(Wi=>{const ts=Wt.fromSegments(Wi.documentKey);m.has(ts)||(m=m.add(ts),T.push(ts))})}))}).next(()=>T)}return Qe.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,s,u,d,m,T){const U=(null!=t?t.length:1)*Math.max(s.length,d.length),H=U/(null!=t?t.length:1),te=[];for(let _e=0;_e<U;++_e){const rt=t?this.nn(t[_e/H]):wc,bt=this.sn(e,rt,s[_e%H],u),Mt=this.rn(e,rt,d[_e%H],m),dn=T.map(Rn=>this.sn(e,rt,Rn,!0));te.push(...this.createRange(bt,Mt,dn))}return te}sn(e,t,s,u){const d=new ru(e,Wt.empty(),t,s);return u?d:d.Le()}rn(e,t,s,u){const d=new ru(e,Wt.empty(),t,s);return u?d.Le():d}Xe(e,t){const s=new Zy(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let m=null;for(const T of d)s.Ge(T)&&(!m||T.fields.length>m.fields.length)&&(m=T);return m})}getIndexType(e,t){let s=2;return Qe.forEach(this.Ye(t),u=>this.Xe(e,u).next(d=>{d?0!==s&&d.fields.length<function(m){let T=new br(rr.comparator),U=!1;for(const H of m.filters){const te=H;te.field.isKeyField()||("array-contains"===te.op||"array-contains-any"===te.op?U=!0:T=T.add(te.field))}for(const H of m.orderBy)H.field.isKeyField()||(T=T.add(H.field));return T.size+(U?1:0)}(u)&&(s=1):s=0})).next(()=>s)}on(e,t){const s=new Ec;for(const u of xa(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const m=s.Be(u.kind);Bl.ye.re(d,m)}return s.Oe()}nn(e){const t=new Ec;return Bl.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const s=new Ec;return Bl.ye.re(xo(this.databaseId,t),s.Be(function(u){const d=xa(u);return 0===d.length?0:d[d.length-1].kind}(e))),s.Oe()}tn(e,t,s){if(null===s)return[];let u=[];u.push(new Ec);let d=0;for(const m of xa(e)){const T=s[d++];for(const U of u)if(this.cn(t,m.fieldPath)&&Mo(T))u=this.an(u,m,T);else{const H=U.Be(m.kind);Bl.ye.re(T,H)}}return this.hn(u)}Ze(e,t,s){return this.tn(e,t,s.position)}hn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Oe();return t}an(e,t,s){const u=[...e],d=[];for(const m of s.arrayValue.values||[])for(const T of u){const U=new Ec;U.seed(T.Oe()),Bl.ye.re(m,U.Be(t.kind)),d.push(U)}return d}cn(e,t){return!!e.filters.find(s=>s instanceof Qs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=bd(e),u=Ih(e);return(t?s.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.K()).next(d=>{const m=[];return Qe.forEach(d,T=>u.get([T.indexId,this.uid]).next(U=>{m.push(function(H,te){const _e=te?new Pu(te.sequenceNumber,new Ws(Qu(te.readTime),new Wt(nu(te.documentKey)),te.largestBatchId)):Pu.empty(),rt=H.fields.map(([bt,Mt])=>new uu(rr.fromServerFormat(bt),Mt));return new Ql(H.indexId,H.collectionGroup,rt,_e)}(T,U))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,u)=>{const d=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Dn(s.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const u=bd(e),d=Ih(e);return this.ln(e).next(m=>u.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>Qe.forEach(T,U=>d.put($f(U.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return Qe.forEach(t,(u,d)=>{const m=s.get(u.collectionGroup);return(m?Qe.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(s.set(u.collectionGroup,T),Qe.forEach(T,U=>this.fn(e,u,U).next(H=>{const te=this.dn(d,U);return H.isEqual(te)?Qe.resolve():this._n(e,d,U,H,te)}))))})}wn(e,t,s,u){return wh(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.un(s,t.key),documentKey:t.key.path.toArray()})}mn(e,t,s,u){return wh(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.un(s,t.key),t.key.path.toArray()])}fn(e,t,s){const u=wh(e);let d=new br(mo);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.un(s,t)])},(m,T)=>{d=d.add(new ru(s.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>d)}dn(e,t){let s=new br(mo);const u=this.on(t,e);if(null==u)return s;const d=Jl(t);if(null!=d){const m=e.data.field(d.fieldPath);if(Mo(m))for(const T of m.arrayValue.values||[])s=s.add(new ru(t.indexId,e.key,this.nn(T),u))}else s=s.add(new ru(t.indexId,e.key,wc,u));return s}_n(e,t,s,u,d){Ot("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(T,U,H,te,_e){const rt=T.getIterator(),bt=U.getIterator();let Mt=co(rt),dn=co(bt);for(;Mt||dn;){let Rn=!1,ei=!1;if(Mt&&dn){const zi=H(Mt,dn);zi<0?ei=!0:zi>0&&(Rn=!0)}else null!=Mt?ei=!0:Rn=!0;Rn?(te(dn),dn=co(bt)):ei?(_e(Mt),Mt=co(rt)):(Mt=co(rt),dn=co(bt))}}(u,d,mo,T=>{m.push(this.wn(e,t,s,T))},T=>{m.push(this.mn(e,t,s,T))}),Qe.waitFor(m)}ln(e){let t=1;return Ih(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,T)=>mo(m,T)).filter((m,T,U)=>!T||0!==mo(m,U[T-1]));const u=[];u.push(e);for(const m of s){const T=mo(m,e),U=mo(m,t);if(0===T)u[0]=e.Le();else if(T>0&&U<0)u.push(m),u.push(m.Le());else if(U>0)break}u.push(t);const d=[];for(let m=0;m<u.length;m+=2)d.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,wc,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,wc,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Dd)}getMinOffset(e,t){return Qe.mapArray(this.Ye(t),s=>this.Xe(e,s).next(u=>u||b())).next(Dd)}}function Eh(i){return Ls(i,"collectionParents")}function wh(i){return Ls(i,"indexEntries")}function bd(i){return Ls(i,"indexConfiguration")}function Ih(i){return Ls(i,"indexState")}function Dd(i){w(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;Gi(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Ws(e.readTime,e.documentKey,t)}const Td={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bh(i,e,t){const s=i.store("mutations"),u=i.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let T=0;const U=s.J({range:m},(te,_e,rt)=>(T++,rt.delete()));d.push(U.next(()=>{w(1===T)}));const H=[];for(const te of t.mutations){const _e=Nf(e,te.key.path,t.batchId);d.push(u.delete(_e)),H.push(te.key)}return Qe.waitFor(d).next(()=>H)}function Ic(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw b();e=i.noDocument}return JSON.stringify(e).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class zf{constructor(e,t,s,u){this.userId=e,this.wt=t,this.indexManager=s,this.referenceDelegate=u,this.gn={}}static se(e,t,s,u){w(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new zf(d,t,s,u)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ju(e).J({index:"userMutationsIndex",range:s},(u,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,u){const d=bc(e),m=Ju(e);return m.add({}).next(T=>{w("number"==typeof T);const U=new Fl(T,t,s,u),H=function(rt,bt,Mt){const dn=Mt.baseMutations.map(ei=>$t(rt.ne,ei)),Rn=Mt.mutations.map(ei=>$t(rt.ne,ei));return{userId:bt,batchId:Mt.batchId,localWriteTimeMs:Mt.localWriteTime.toMillis(),baseMutations:dn,mutations:Rn}}(this.wt,this.userId,U),te=[];let _e=new br((rt,bt)=>Dn(rt.canonicalString(),bt.canonicalString()));for(const rt of u){const bt=Nf(this.userId,rt.key.path,T);_e=_e.add(rt.key.path.popLast()),te.push(m.put(H)),te.push(d.put(bt,kf))}return _e.forEach(rt=>{te.push(this.indexManager.addToCollectionParentIndex(e,rt))}),e.addOnCommittedListener(()=>{this.gn[T]=U.keys()}),Qe.waitFor(te).next(()=>U)})}lookupMutationBatch(e,t){return Ju(e).get(t).next(s=>s?(w(s.userId===this.userId),Ul(this.wt,s)):null)}yn(e,t){return this.gn[t]?Qe.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const u=s.keys();return this.gn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Ju(e).J({index:"userMutationsIndex",range:u},(m,T,U)=>{T.userId===this.userId&&(w(T.batchId>=s),d=Ul(this.wt,T)),U.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ju(e).J({index:"userMutationsIndex",range:t,reverse:!0},(u,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ju(e).K("userMutationsIndex",t).next(s=>s.map(u=>Ul(this.wt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=mc(this.userId,t.path),u=IDBKeyRange.lowerBound(s),d=[];return bc(e).J({range:u},(m,T,U)=>{const[H,te,_e]=m,rt=nu(te);if(H===this.userId&&t.path.isEqual(rt))return Ju(e).get(_e).next(bt=>{if(!bt)throw b();w(bt.userId===this.userId),d.push(Ul(this.wt,bt))});U.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new br(Dn);const u=[];return t.forEach(d=>{const m=mc(this.userId,d.path),T=IDBKeyRange.lowerBound(m),U=bc(e).J({range:T},(H,te,_e)=>{const[rt,bt,Mt]=H,dn=nu(bt);rt===this.userId&&d.path.isEqual(dn)?s=s.add(Mt):_e.done()});u.push(U)}),Qe.waitFor(u).next(()=>this.pn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1,d=mc(this.userId,s),m=IDBKeyRange.lowerBound(d);let T=new br(Dn);return bc(e).J({range:m},(U,H,te)=>{const[_e,rt,bt]=U,Mt=nu(rt);_e===this.userId&&s.isPrefixOf(Mt)?Mt.length===u&&(T=T.add(bt)):te.done()}).next(()=>this.pn(e,T))}pn(e,t){const s=[],u=[];return t.forEach(d=>{u.push(Ju(e).get(d).next(m=>{if(null===m)throw b();w(m.userId===this.userId),s.push(Ul(this.wt,m))}))}),Qe.waitFor(u).next(()=>s)}removeMutationBatch(e,t){return bh(e.ee,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Qe.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Qe.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return bc(e).J({range:s},(d,m,T)=>{if(d[0]===this.userId){const U=nu(d[1]);u.push(U)}else T.done()}).next(()=>{w(0===u.length)})})}containsKey(e,t){return Fg(e,this.userId,t)}Tn(e){return Ug(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fg(i,e,t){const s=mc(e,t.path),u=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return bc(i).J({range:d,H:!0},(T,U,H)=>{const[te,_e,rt]=T;te===e&&_e===u&&(m=!0),H.done()}).next(()=>m)}function Ju(i){return Ls(i,"mutations")}function bc(i){return Ls(i,"documentMutations")}function Ug(i){return Ls(i,"mutationQueues")}class Xu{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Xu(0)}static Rn(){return new Xu(-1)}}class t0{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const s=new Xu(t.highestTargetId);return t.highestTargetId=s.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Fn.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.bn(e).next(u=>(u.highestListenSequenceNumber=t,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Pn(e,u)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(s=>(s.targetCount+=1,this.Vn(t,s),this.Pn(e,s))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dc(e).delete(t.targetId)).next(()=>this.bn(e)).next(s=>(w(s.targetCount>0),s.targetCount-=1,this.Pn(e,s)))}removeTargets(e,t,s){let u=0;const d=[];return Dc(e).J((m,T)=>{const U=vc(T);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(u++,d.push(this.removeTargetData(e,U)))}).next(()=>Qe.waitFor(d)).next(()=>u)}forEachTarget(e,t){return Dc(e).J((s,u)=>{const d=vc(u);t(d)})}bn(e){return Yy(e).get("targetGlobalKey").next(t=>(w(null!==t),t))}Pn(e,t){return Yy(e).put("targetGlobalKey",t)}vn(e,t){return Dc(e).put(Rg(this.wt,t))}Vn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=hu(t),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Dc(e).J({range:u,index:"queryTargetsIndex"},(m,T,U)=>{const H=vc(T);Ja(t,H.target)&&(d=H,U.done())}).next(()=>d)}addMatchingKeys(e,t,s){const u=[],d=wu(e);return t.forEach(m=>{const T=go(m.path);u.push(d.put({targetId:s,path:T})),u.push(this.referenceDelegate.addReference(e,s,m))}),Qe.waitFor(u)}removeMatchingKeys(e,t,s){const u=wu(e);return Qe.forEach(t,d=>{const m=go(d.path);return Qe.waitFor([u.delete([s,m]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=wu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),u=wu(e);let d=pr();return u.J({range:s,H:!0},(m,T,U)=>{const H=nu(m[1]),te=new Wt(H);d=d.add(te)}).next(()=>d)}containsKey(e,t){const s=go(t.path),u=IDBKeyRange.bound([s],[fa(s)],!1,!0);let d=0;return wu(e).J({index:"documentTargetsIndex",H:!0,range:u},([m,T],U,H)=>{0!==m&&(d++,H.done())}).next(()=>d>0)}te(e,t){return Dc(e).get(t).next(s=>s?vc(s):null)}}function Dc(i){return Ls(i,"targets")}function Yy(i){return Ls(i,"targetGlobal")}function wu(i){return Ls(i,"targetDocuments")}function Kf([i,e],[t,s]){const u=Dn(i,t);return 0===u?Dn(e,s):u}class Qy{constructor(e){this.Sn=e,this.buffer=new br(Kf),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Kf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wf{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){js(s)?Ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield pa(s)}yield t.kn(3e5)}))}}class n0{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Qe.resolve(Ns.ot);const s=new Qy(t);return this.On.forEachTarget(e,u=>s.xn(u.sequenceNumber)).next(()=>this.On.Fn(e,u=>s.xn(u))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.On.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(Td)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Td):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let s,u,d,m,T,U,H;const te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),u=this.params.maximumSequenceNumbersToCollect):u=_e,m=Date.now(),this.nthSequenceNumber(e,u))).next(_e=>(s=_e,T=Date.now(),this.removeTargets(e,s,t))).next(_e=>(d=_e,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(_e=>(H=Date.now(),wa()<=ve.in.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-te}ms\n\tDetermined least recently used ${u} in `+(T-m)+`ms\n\tRemoved ${d} targets in `+(U-T)+`ms\n\tRemoved ${_e} documents in `+(H-U)+`ms\nTotal Duration: ${H-te}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:_e})))}}class r0{constructor(e,t){this.db=e,this.garbageCollector=new n0(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(u=>s+u))}Bn(e){let t=0;return this.Fn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(s,u)=>t(u))}addReference(e,t,s){return qf(e,s)}removeReference(e,t,s){return qf(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return qf(e,t)}Un(e,t){return function(s,u){let d=!1;return Ug(s).Y(m=>Fg(s,m,u).next(T=>(T&&(d=!0),Qe.resolve(!T)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Ln(e,(m,T)=>{if(T<=t){const U=this.Un(e,m).next(H=>{if(!H)return d++,s.getEntry(e,m).next(()=>(s.removeEntry(m,Fn.min()),wu(e).delete([0,go(m.path)])))});u.push(U)}}).next(()=>Qe.waitFor(u)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return qf(e,t)}Ln(e,t){const s=wu(e);let u,d=Ns.ot;return s.J({index:"documentTargetsIndex"},([m,T],{path:U,sequenceNumber:H})=>{0===m?(d!==Ns.ot&&t(new Wt(nu(u)),d),d=H,u=U):d=Ns.ot}).next(()=>{d!==Ns.ot&&t(new Wt(nu(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qf(i,e){return wu(i).put((s=i.currentSequenceNumber,{targetId:0,path:go(e.path),sequenceNumber:s}));var s}class Jy{constructor(){this.changes=new Ni(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Qe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s0{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Tc(e).put(s)}removeEntry(e,t,s){return Tc(e).delete(function(u,d){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Id(d),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.qn(e,s)))}getEntry(e,t){let s=Ei.newInvalidDocument(t);return Tc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(u,d)=>{s=this.Kn(t,d)}).next(()=>s)}Gn(e,t){let s={size:0,document:Ei.newInvalidDocument(t)};return Tc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Dh(t))},(u,d)=>{s={document:this.Kn(t,d),size:Ic(d)}}).next(()=>s)}getEntries(e,t){let s=Js();return this.Qn(e,t,(u,d)=>{const m=this.Kn(u,d);s=s.insert(u,m)}).next(()=>s)}jn(e,t){let s=Js(),u=new Oi(Wt.comparator);return this.Qn(e,t,(d,m)=>{const T=this.Kn(d,m);s=s.insert(d,T),u=u.insert(d,Ic(m))}).next(()=>({documents:s,Wn:u}))}Qn(e,t,s){if(t.isEmpty())return Qe.resolve();let u=new br(Th);t.forEach(U=>u=u.add(U));const d=IDBKeyRange.bound(Dh(u.first()),Dh(u.last())),m=u.getIterator();let T=m.getNext();return Tc(e).J({index:"documentKeyIndex",range:d},(U,H,te)=>{const _e=Wt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;T&&Th(T,_e)<0;)s(T,null),T=m.getNext();T&&T.isEqual(_e)&&(s(T,H),T=m.hasNext()?m.getNext():null),T?te.q(Dh(T)):te.done()}).next(()=>{for(;T;)s(T,null),T=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const u=[t.popLast().toArray(),t.lastSegment(),Id(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tc(e).K(IDBKeyRange.bound(u,d,!0)).next(m=>{let T=Js();for(const U of m){const H=this.Kn(Wt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);T=T.insert(H.key,H)}return T})}getAllFromCollectionGroup(e,t,s,u){let d=Js();const m=Iu(t,s),T=Iu(t,Ws.max());return Tc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,T,!0)},(U,H,te)=>{const _e=this.Kn(Wt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(_e.key,_e),d.size===u&&te.done()}).next(()=>d)}newChangeBuffer(e){return new o0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ev(e).get("remoteDocumentGlobalKey").next(t=>(w(!!t),t))}qn(e,t){return ev(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const s=function Ag(i,e){let t;if(e.document)t=Y(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Wt.fromSegments(e.noDocument.path),u=Qu(e.noDocument.readTime);t=Ei.newNoDocument(s,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return b();{const s=Wt.fromSegments(e.unknownDocument.path),u=Qu(e.unknownDocument.version);t=Ei.newUnknownDocument(s,u)}}return e.readTime&&t.setReadTime(function(s){const u=new oi(s[0],s[1]);return Fn.fromTimestamp(u)}(e.readTime)),t}(this.wt,t);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return Ei.newInvalidDocument(e)}}function Xy(i){return new s0(i)}class o0 extends Jy{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Ni(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const t=[];let s=0,u=new br((d,m)=>Dn(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const T=this.Hn.get(d);if(t.push(this.zn.removeEntry(e,d,T.readTime)),m.isValidDocument()){const U=vh(this.zn.wt,m);u=u.add(d.path.popLast()),s+=Ic(U)-T.size,t.push(this.zn.addEntry(e,d,U))}else if(s-=T.size,this.trackRemovals){const U=vh(this.zn.wt,m.convertToNoDocument(Fn.min()));t.push(this.zn.addEntry(e,d,U))}}),u.forEach(d=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.zn.updateMetadata(e,s)),Qe.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(s=>(this.Hn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:s,Wn:u})=>(u.forEach((d,m)=>{this.Hn.set(d,{size:m,readTime:s.get(d).readTime})}),s))}}function ev(i){return Ls(i,"remoteDocumentGlobal")}function Tc(i){return Ls(i,"remoteDocumentsV14")}function Dh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Iu(i,e){const t=e.documentKey.path.toArray();return[i,Id(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Th(i,e){const t=i.path.toArray(),s=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(u=Dn(t[d],s[d]),u)return u;return u=Dn(t.length,s.length),u||(u=Dn(t[t.length-2],s[s.length-2]),u||Dn(t[t.length-1],s[s.length-1]))}class tv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zf{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.getBaseDocument(e,t,s))).next(u=>(null!==s&&Al(s.mutation,u,ds.empty(),oi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,pr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=pr()){const u=Po();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(d=>{let m=Ml();return d.forEach((T,U)=>{m=m.insert(T,U.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=Po();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,pr()))}populateOverlays(e,t,s){const u=[];return s.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((m,T)=>{t.set(m,T)})})}computeViews(e,t,s,u){let d=Js();const m=Pl(),T=Pl();return t.forEach((U,H)=>{const te=s.get(H.key);u.has(H.key)&&(void 0===te||te.mutation instanceof La)?d=d.insert(H.key,H):void 0!==te&&(m.set(H.key,te.mutation.getFieldMask()),Al(te.mutation,H,te.mutation.getFieldMask(),oi.now()))}),this.recalculateAndSaveOverlays(e,d).next(U=>(U.forEach((H,te)=>m.set(H,te)),t.forEach((H,te)=>{var _e;return T.set(H,new tv(te,null!==(_e=m.get(H))&&void 0!==_e?_e:null))}),T))}recalculateAndSaveOverlays(e,t){const s=Pl();let u=new Oi((m,T)=>m-T),d=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const T of m)T.keys().forEach(U=>{const H=t.get(U);if(null===H)return;let te=s.get(U)||ds.empty();te=T.applyToLocalView(H,te),s.set(U,te);const _e=(u.get(T.batchId)||pr()).add(U);u=u.insert(T.batchId,_e)})}).next(()=>{const m=[],T=u.getReverseIterator();for(;T.hasNext();){const U=T.getNext(),H=U.key,te=U.value,_e=ac();te.forEach(rt=>{if(!d.has(rt)){const bt=Ji(t.get(rt),s.get(rt));null!==bt&&_e.set(rt,bt),d=d.add(rt)}}),m.push(this.documentOverlayCache.saveOverlays(e,H,_e))}return Qe.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Wt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Il(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(d=>{const m=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-d.size):Qe.resolve(Po());let T=-1,U=d;return m.next(H=>Qe.forEach(H,(te,_e)=>(T<_e.largestBatchId&&(T=_e.largestBatchId),d.get(te)?Qe.resolve():this.getBaseDocument(e,te,_e).next(rt=>{U=U.insert(te,rt)}))).next(()=>this.populateOverlays(e,H,d)).next(()=>this.computeViews(e,U,H,pr())).next(te=>({batchId:T,changes:fo(te)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wt(t)).next(s=>{let u=Ml();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,u).next(m=>Qe.forEach(m,T=>{const U=(H=t,te=T.child(u),new ra(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(H=>{H.forEach((te,_e)=>{d=d.insert(te,_e)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(d=>{d.forEach((T,U)=>{const H=U.getKey();null===u.get(H)&&(u=u.insert(H,Ei.newInvalidDocument(H)))});let m=Ml();return u.forEach((T,U)=>{const H=d.get(T);void 0!==H&&Al(H.mutation,U,ds.empty(),oi.now()),yu(t,U)&&(m=m.insert(T,U))}),m})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):Qe.resolve(Ei.newInvalidDocument(t))}}class Yf{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Qe.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var s;return this.Jn.set(t.id,{id:(s=t).id,version:s.version,createTime:_s(s.createTime)}),Qe.resolve()}getNamedQuery(e,t){return Qe.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(s=t).name,query:jf(s.bundledQuery),readTime:_s(s.readTime)}),Qe.resolve();var s}}class Bg{constructor(){this.overlays=new Oi(Wt.comparator),this.Xn=new Map}getOverlay(e,t){return Qe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Po();return Qe.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,d)=>{this.ie(e,t,d)}),Qe.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.Xn.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.Xn.delete(s)),Qe.resolve()}getOverlaysForCollection(e,t,s){const u=Po(),d=t.length+1,m=new Wt(t.child("")),T=this.overlays.getIteratorFrom(m);for(;T.hasNext();){const U=T.getNext().value,H=U.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===d&&U.largestBatchId>s&&u.set(U.getKey(),U)}return Qe.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let d=new Oi((H,te)=>H-te);const m=this.overlays.getIterator();for(;m.hasNext();){const H=m.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let te=d.get(H.largestBatchId);null===te&&(te=Po(),d=d.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const T=Po(),U=d.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((H,te)=>T.set(H,te)),!(T.size()>=u)););return Qe.resolve(T)}ie(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.Xn.get(u.largestBatchId).delete(s.key);this.Xn.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new yh(t,s));let d=this.Xn.get(t);void 0===d&&(d=pr(),this.Xn.set(t,d)),this.Xn.set(t,d.add(s.key))}}class Cd{constructor(){this.Zn=new br(Xs.ts),this.es=new br(Xs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Xs(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Xs(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new Wt(new Dr([])),s=new Xs(t,e),u=new Xs(t,e+1),d=[];return this.es.forEachInRange([s,u],m=>{this.rs(m),d.push(m.key)}),d}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Wt(new Dr([])),s=new Xs(t,e),u=new Xs(t,e+1);let d=pr();return this.es.forEachInRange([s,u],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new Xs(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Xs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Wt.comparator(e.key,t.key)||Dn(e.ls,t.ls)}static ns(e,t){return Dn(e.ls,t.ls)||Wt.comparator(e.key,t.key)}}class el{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new br(Xs.ts)}checkEmpty(e){return Qe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const d=this.fs;this.fs++;const m=new Fl(d,t,s,u);this.mutationQueue.push(m);for(const T of u)this.ds=this.ds.add(new Xs(T.key,d)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Qe.resolve(m)}lookupMutationBatch(e,t){return Qe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ws(t+1),d=u<0?0:u;return Qe.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xs(t,0),u=new Xs(t,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,u],m=>{const T=this._s(m.ls);d.push(T)}),Qe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new br(Dn);return t.forEach(u=>{const d=new Xs(u,0),m=new Xs(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,m],T=>{s=s.add(T.ls)})}),Qe.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let d=s;Wt.isDocumentKey(d)||(d=d.child(""));const m=new Xs(new Wt(d),0);let T=new br(Dn);return this.ds.forEachWhile(U=>{const H=U.key.path;return!!s.isPrefixOf(H)&&(H.length===u&&(T=T.add(U.ls)),!0)},m),Qe.resolve(this.gs(T))}gs(e){const t=[];return e.forEach(s=>{const u=this._s(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){w(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let s=this.ds;return Qe.forEach(t.mutations,u=>{const d=new Xs(u.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ds=s})}In(e){}containsKey(e,t){const s=new Xs(t,0),u=this.ds.firstAfterOrEqual(s);return Qe.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Qe.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vg{constructor(e){this.ps=e,this.docs=new Oi(Wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),d=u?u.size:0,m=this.ps(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Qe.resolve(s?s.document.mutableCopy():Ei.newInvalidDocument(t))}getEntries(e,t){let s=Js();return t.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():Ei.newInvalidDocument(u))}),Qe.resolve(s)}getAllFromCollection(e,t,s){let u=Js();const d=new Wt(t.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:T,value:{document:U}}=m.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||Gi(Ka(U),s)<=0||(u=u.insert(U.key,U.mutableCopy()))}return Qe.resolve(u)}getAllFromCollectionGroup(e,t,s,u){b()}Is(e,t){return Qe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new nv(this)}getSize(e){return Qe.resolve(this.size)}}class nv extends Jy{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.zn.addEntry(e,u)):this.zn.removeEntry(s)}),Qe.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Qf{constructor(e){this.persistence=e,this.Ts=new Ni(t=>hu(t),Ja),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Es=0,this.As=new Cd,this.targetCount=0,this.Rs=Xu.An()}forEachTarget(e,t){return this.Ts.forEach((s,u)=>t(u)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Es&&(this.Es=t),Qe.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Xu(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Qe.resolve()}updateTargetData(e,t){return this.vn(t),Qe.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,t,s){let u=0;const d=[];return this.Ts.forEach((m,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.Ts.delete(m),d.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),Qe.waitFor(d).next(()=>u)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,t){const s=this.Ts.get(t)||null;return Qe.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Qe.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(m=>{d.push(u.markPotentiallyOrphaned(e,m))}),Qe.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Qe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Qe.resolve(s)}containsKey(e,t){return Qe.resolve(this.As.containsKey(t))}}class jg{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ns(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Qf(this),this.indexManager=new Gf,this.remoteDocumentCache=new Vg(s=>this.referenceDelegate.Ss(s)),this.wt=new Sg(t),this.Ds=new Yf(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.bs[e.toKey()];return s||(s=new el(t,this.referenceDelegate),this.bs[e.toKey()]=s),s}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,s){Ot("MemoryPersistence","Starting transaction:",e);const u=new $g(this.Ps.next());return this.referenceDelegate.Cs(),s(u).next(d=>this.referenceDelegate.xs(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ns(e,t){return Qe.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class $g extends lu{constructor(e){super(),this.currentSequenceNumber=e}}class Ch{constructor(e){this.persistence=e,this.ks=new Cd,this.Os=null}static Ms(e){return new Ch(e)}get Fs(){if(this.Os)return this.Os;throw b()}addReference(e,t,s){return this.ks.addReference(s,t),this.Fs.delete(s.toString()),Qe.resolve()}removeReference(e,t,s){return this.ks.removeReference(s,t),this.Fs.add(s.toString()),Qe.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Qe.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(u=>this.Fs.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Fs.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Fs,s=>{const u=Wt.fromPath(s);return this.$s(e,u).next(d=>{d||t.removeEntry(u,Fn.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Qe.or([()=>Qe.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class rv{constructor(e){this.wt=e}O(e,t,s,u){const d=new Os("createOrUpgrade",t);var T;s<1&&u>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Of,{unique:!0}),T.createObjectStore("documentMutations"),Cc(e),function(T){T.createObjectStore("remoteDocuments")}(e));let m=Qe.resolve();return s<3&&u>=3&&(0!==s&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),Cc(e)),m=m.next(()=>function(T){const U=T.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",H)}(d))),s<4&&u>=4&&(0!==s&&(m=m.next(()=>function(T,U){return U.store("mutations").K().next(H=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Of,{unique:!0});const te=U.store("mutations"),_e=H.map(rt=>te.put(rt));return Qe.waitFor(_e)})}(e,d))),m=m.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(m=m.next(()=>this.Bs(d))),s<6&&u>=6&&(m=m.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(d)))),s<7&&u>=7&&(m=m.next(()=>this.Us(d))),s<8&&u>=8&&(m=m.next(()=>this.qs(e,d))),s<9&&u>=9&&(m=m.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(m=m.next(()=>this.Ks(d))),s<11&&u>=11&&(m=m.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(m=m.next(()=>{!function(T){const U=T.createObjectStore("documentOverlays",{keyPath:Tg});U.createIndex("collectionPathOverlayIndex",Cg,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",Lf,{unique:!1})}(e)})),s<13&&u>=13&&(m=m.next(()=>function(T){const U=T.createObjectStore("remoteDocumentsV14",{keyPath:Hy});U.createIndex("documentKeyIndex",Gy),U.createIndex("collectionGroupIndex",Eg)}(e)).next(()=>this.Gs(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(m=m.next(()=>this.Qs(e,d))),s<15&&u>=15&&(m=m.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:zy}).createIndex("sequenceNumberIndex",ph,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Ky}).createIndex("documentKeyIndex",Dg,{unique:!1})}(e))),m}Ls(e){let t=0;return e.store("remoteDocuments").J((s,u)=>{t+=Ic(u)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Bs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.K().next(u=>Qe.forEach(u,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.K("userMutationsIndex",m).next(T=>Qe.forEach(T,U=>{w(U.userId===d.userId);const H=Ul(this.wt,U);return bh(e,d.userId,H).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return s.J((m,T)=>{const U=new Dr(m),H=[0,go(U)];d.push(t.get(H).next(te=>te?Qe.resolve():t.put({targetId:0,path:go(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Qe.waitFor(d))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:bg});const s=t.store("collectionParents"),u=new Ba,d=m=>{if(u.add(m)){const T=m.lastSegment(),U=m.popLast();return s.put({collectionId:T,parent:go(U)})}};return t.store("remoteDocuments").J({H:!0},(m,T)=>{const U=new Dr(m);return d(U.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([m,T,U],H)=>{const te=nu(T);return d(te.popLast())}))}Ks(e){const t=e.store("targets");return t.J((s,u)=>{const d=vc(u),m=Rg(this.wt,d);return t.put(m)})}Gs(e,t){const s=t.store("remoteDocuments"),u=[];return s.J((d,m)=>{const T=t.store("remoteDocumentsV14"),U=(H=m,H.document?new Wt(Dr.fromString(H.document.name).popFirst(5)):H.noDocument?Wt.fromSegments(H.noDocument.path):H.unknownDocument?Wt.fromSegments(H.unknownDocument.path):b()).path.toArray();var H;const te={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};u.push(T.put(te))}).next(()=>Qe.waitFor(u))}Qs(e,t){const s=t.store("mutations"),u=Xy(this.wt),d=new jg(Ch.Ms,this.wt.ne);return s.K().next(m=>{const T=new Map;return m.forEach(U=>{var H;let te=null!==(H=T.get(U.userId))&&void 0!==H?H:pr();Ul(this.wt,U).keys().forEach(_e=>te=te.add(_e)),T.set(U.userId,te)}),Qe.forEach(T,(U,H)=>{const te=new _i(H),_e=_h.se(this.wt,te),rt=d.getIndexManager(te),bt=zf.se(te,this.wt,rt,d.referenceDelegate);return new Zf(u,bt,_e,rt).recalculateAndSaveOverlaysForDocumentKeys(new mh(t,Ns.ot),U).next()})})}}function Cc(i){i.createObjectStore("targetDocuments",{keyPath:Ll}).createIndex("documentTargetsIndex",Ig,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wg,{unique:!0}),i.createObjectStore("targetGlobal")}const tl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sd{constructor(e,t,s,u,d,m,T,U,H,te,_e=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.js=d,this.window=m,this.document=T,this.Ws=H,this.zs=te,this.Hs=_e,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=rt=>Promise.resolve(),!Sd.V())throw new B(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new r0(this,u),this.ei=t+"main",this.wt=new Sg(U),this.ni=new qs(this.ei,this.Hs,new rv(this.wt)),this.Vs=new t0(this.referenceDelegate,this.wt),this.remoteDocumentCache=Xy(this.wt),this.Ds=new Wy,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===te&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(x.FAILED_PRECONDITION,tl);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ns(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var s=(0,be.Z)(function*(u){if(t.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,be.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nl(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(js(e))return Ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return iu(e).get("owner").next(t=>Qe.resolve(this.di(t)))}_i(e){return nl(e).delete(this.clientId)}wi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Ls(s,"clientMetadata");return u.K().next(d=>{const m=e.gi(d,18e5),T=d.filter(U=>-1===m.indexOf(U));return Qe.forEach(T,U=>u.delete(U.clientId)).next(()=>T)})}).catch(()=>[]);if(e.si)for(const s of t)e.si.removeItem(e.yi(s.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Qe.resolve(!0):iu(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new B(x.FAILED_PRECONDITION,tl);return!1}}return!(!this.networkEnabled||!this.inForeground)||nl(e).K().next(s=>void 0===this.gi(s,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,T=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ot("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new mh(t,Ns.ot);return e.li(s).next(()=>e._i(s))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(s=>this.mi(s.updateTimeMs,t)&&!this.pi(s.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>nl(e).K().next(t=>this.gi(t,18e5).map(s=>s.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return zf.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lg(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return _h.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,s){Ot("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(m=this.Hs)?Bf:14===m?Uf:13===m?wd:12===m?gh:11===m?Ff:void b();var m;let T;return this.ni.runTransaction(e,u,d,U=>(T=new mh(U,this.Ps?this.Ps.next():Ns.ot),"readwrite-primary"===t?this.ai(T).next(H=>!!H||this.hi(T)).next(H=>{if(!H)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new B(x.FAILED_PRECONDITION,Wa);return s(T)}).next(H=>this.fi(T).next(()=>H)):this.bi(T).next(()=>s(T)))).then(U=>(T.raiseOnCommittedEvent(),U))}bi(e){return iu(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new B(x.FAILED_PRECONDITION,tl)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iu(e).put("owner",t)}static V(){return qs.V()}li(e){const t=iu(e);return t.get("owner").next(s=>this.di(s)?(Ot("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Qe.resolve())}mi(e,t){const s=Date.now();return!(e<s-t||e>s&&(zr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ue.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const s=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ot("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return zr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function iu(i){return Ls(i,"owner")}function nl(i){return Ls(i,"clientMetadata")}function rl(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Jf{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Pi=s,this.vi=u}static Vi(e,t){let s=pr(),u=pr();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Jf(e,t.fromCache,s,u)}}class Xf{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,s,u){return this.Ci(e,t).next(d=>d||this.xi(e,t,u,s)).next(d=>d||this.Ni(e,t))}Ci(e,t){return Qe.resolve(null)}xi(e,t,s,u){return function Af(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||u.isEqual(Fn.min())?this.Ni(e,t):this.Di.getDocuments(e,s).next(d=>{const m=this.ki(t,d);return this.Oi(t,m,s,u)?this.Ni(e,t):(wa()<=ve.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Na(t)),this.Mi(e,m,t,id(u,-1)))})}ki(e,t){let s=new br(zo(e));return t.forEach((u,d)=>{yu(e,d)&&(s=s.add(d))}),s}Oi(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Ni(e,t){return wa()<=ve.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Na(t)),this.Di.getDocumentsMatchingQuery(e,t,Ws.min())}Mi(e,t,s,u){return this.Di.getDocumentsMatchingQuery(e,s,u).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class Hg{constructor(e,t,s,u){this.persistence=e,this.Fi=t,this.wt=u,this.$i=new Oi(Dn),this.Bi=new Ni(d=>hu(d),Ja),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(s)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zf(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Sh(i,e,t,s){return new Hg(i,e,t,s)}function Ah(i,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,be.Z)(function*(i,e){const t=A(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,t.qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const m=[],T=[];let U=pr();for(const H of u){m.push(H.batchId);for(const te of H.mutations)U=U.add(te.key)}for(const H of d){T.push(H.batchId);for(const te of H.mutations)U=U.add(te.key)}return t.localDocuments.getDocuments(s,U).next(H=>({Ki:H,removedBatchIds:m,addedBatchIds:T}))})})}),Rh.apply(this,arguments)}function xh(i,e){const t=A(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),d=t.Ui.newChangeBuffer({trackRemovals:!0});return function(m,T,U,H){const te=U.batch,_e=te.keys();let rt=Qe.resolve();return _e.forEach(bt=>{rt=rt.next(()=>H.getEntry(T,bt)).next(Mt=>{const dn=U.docVersions.get(bt);w(null!==dn),Mt.version.compareTo(dn)<0&&(te.applyToRemoteDocument(Mt,U),Mt.isValidDocument()&&(Mt.setReadTime(U.commitVersion),H.addEntry(Mt)))})}),rt.next(()=>m.mutationQueue.removeMutationBatch(T,te))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let T=pr();for(let U=0;U<m.mutationResults.length;++U)m.mutationResults[U].transformResults.length>0&&(T=T.add(m.batch.mutations[U].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}function Gg(i){const e=A(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function zg(i,e){const t=A(i),s=e.snapshotVersion;let u=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.Ui.newChangeBuffer({trackRemovals:!0});u=t.$i;const T=[];e.targetChanges.forEach((te,_e)=>{const rt=u.get(_e);if(!rt)return;T.push(t.Vs.removeMatchingKeys(d,te.removedDocuments,_e).next(()=>t.Vs.addMatchingKeys(d,te.addedDocuments,_e)));let bt=rt.withSequenceNumber(d.currentSequenceNumber);var Mt,dn,Rn;e.targetMismatches.has(_e)?bt=bt.withResumeToken(hs.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):te.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(te.resumeToken,s)),u=u.insert(_e,bt),dn=bt,Rn=te,(0===(Mt=rt).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Mt.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&T.push(t.Vs.updateTargetData(d,bt))});let U=Js(),H=pr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(d,te))}),T.push(iv(d,m,e.documentUpdates).next(te=>{U=te.Gi,H=te.Qi})),!s.isEqual(Fn.min())){const te=t.Vs.getLastRemoteSnapshotVersion(d).next(_e=>t.Vs.setTargetsMetadata(d,d.currentSequenceNumber,s));T.push(te)}return Qe.waitFor(T).next(()=>m.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,U,H)).next(()=>U)}).then(d=>(t.$i=u,d))}function iv(i,e,t){let s=pr(),u=pr();return t.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let m=Js();return t.forEach((T,U)=>{const H=d.get(T);U.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(T)),U.isNoDocument()&&U.version.isEqual(Fn.min())?(e.removeEntry(T,U.readTime),m=m.insert(T,U)):!H.isValidDocument()||U.version.compareTo(H.version)>0||0===U.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(U),m=m.insert(T,U)):Ot("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",U.version)}),{Gi:m,Qi:u}})}function Kg(i,e){const t=A(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Vl(i,e){const t=A(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Vs.getTargetData(s,e).next(d=>d?(u=d,Qe.resolve(u)):t.Vs.allocateTargetId(s).next(m=>(u=new Yu(e,m,0,s.currentSequenceNumber),t.Vs.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.$i.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.$i=t.$i.insert(s.targetId,s),t.Bi.set(e,s.targetId)),s})}function Sc(i,e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,be.Z)(function*(i,e,t){const s=A(i),u=s.$i.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!js(m))throw m;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.$i=s.$i.remove(e),s.Bi.delete(u.target)}),Mh.apply(this,arguments)}function Ph(i,e,t){const s=A(i);let u=Fn.min(),d=pr();return s.persistence.runTransaction("Execute query","readonly",m=>function(T,U,H){const te=A(T),_e=te.Bi.get(H);return void 0!==_e?Qe.resolve(te.$i.get(_e)):te.Vs.getTargetData(U,H)}(s,m,ia(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,s.Vs.getMatchingKeysForTargetId(m,T.targetId).next(U=>{d=U})}).next(()=>s.Fi.getDocumentsMatchingQuery(m,e,t?u:Fn.min(),t?d:pr())).next(T=>(qg(s,cd(e),T),{documents:T,ji:d})))}function Wg(i,e){const t=A(i),s=A(t.Vs),u=t.$i.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>s.te(d,e).next(m=>m?m.target:null))}function oa(i,e){const t=A(i),s=t.Li.get(e)||Fn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Ui.getAllFromCollectionGroup(u,e,id(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(qg(t,e,u),u))}function qg(i,e,t){let s=Fn.min();t.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Li.set(e,s)}function Zg(){return Zg=(0,be.Z)(function*(i,e,t,s){const u=A(i);let d=pr(),m=Js();for(const H of t){const te=e.Wi(H.metadata.name);H.document&&(d=d.add(te));const _e=e.zi(H);_e.setReadTime(e.Hi(H.metadata.readTime)),m=m.insert(te,_e)}const T=u.Ui.newChangeBuffer({trackRemovals:!0}),U=yield Vl(u,(H=s,ia(gu(Dr.fromString(`__bundle__/docs/${H}`)))));var H;return u.persistence.runTransaction("Apply bundle documents","readwrite",H=>iv(H,T,m).next(te=>(T.apply(H),te)).next(te=>u.Vs.removeMatchingKeysForTargetId(H,U.targetId).next(()=>u.Vs.addMatchingKeys(H,d,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(H,te.Gi,te.Qi)).next(()=>te.Gi)))}),Zg.apply(this,arguments)}function a0(i,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,be.Z)(function*(i,e,t=pr()){const s=yield Vl(i,ia(jf(e.bundledQuery))),u=A(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const m=_s(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return u.Ds.saveNamedQuery(d,e);const T=s.withResumeToken(hs.EMPTY_BYTE_STRING,m);return u.$i=u.$i.insert(T.targetId,T),u.Vs.updateTargetData(d,T).next(()=>u.Vs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>u.Vs.addMatchingKeys(d,t,s.targetId)).next(()=>u.Ds.saveNamedQuery(d,e))})}),Oh.apply(this,arguments)}function ov(i,e){return`firestore_clients_${i}_${e}`}function Yg(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ad(i,e){return`firestore_targets_${i}_${e}`}class Rd{constructor(e,t,s,u){this.user=e,this.batchId=t,this.state=s,this.error=u}static Ji(e,t,s){const u=JSON.parse(s);let d,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(d=new B(u.error.code,u.error.message))),m?new Rd(e,t,u.state,d):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Ji(e,t){const s=JSON.parse(t);let u,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new B(s.error.code,s.error.message))),d?new xd(e,s.state,u):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const s=JSON.parse(t);let u="object"==typeof s&&s.activeTargetIds instanceof Array,d=cc();for(let m=0;u&&m<s.activeTargetIds.length;++m)u=mn(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return u?new Nh(e,d):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ep{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ep(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kh{constructor(){this.activeTargetIds=cc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tp{constructor(e,t,s,u,d){this.window=e,this.js=t,this.persistenceKey=s,this.tr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Oi(Dn),this.started=!1,this.ir=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.rr=ov(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new kh),this.cr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Ri();for(const u of t){if(u===e.tr)continue;const d=e.getItem(ov(e.persistenceKey,u));if(d){const m=Nh.Ji(u,d);m&&(e.sr=e.sr.insert(m.clientId,m))}}e._r();const s=e.storage.getItem(e.lr);if(s){const u=e.wr(s);u&&e.mr(u)}for(const u of e.ir)e.nr(u);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((s,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,s){this.yr(e,t,s),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ad(this.persistenceKey,e));if(s){const u=xd.Ji(e,s);u&&(t=u.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ad(this.persistenceKey,e))}updateQueryState(e,t,s){this.Tr(e,t,s)}handleUserChange(e,t,s){t.forEach(u=>{this.pr(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ot("SharedClientState","READ",e,t),t}setItem(e,t){Ot("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ot("SharedClientState","EVENT",s.key,s.newValue),s.key===this.rr)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==s.key)if(t.cr.test(s.key)){if(null==s.newValue){const u=t.Rr(s.key);return t.br(u,null)}{const u=t.Pr(s.key,s.newValue);if(u)return t.br(u.clientId,u)}}else if(t.ar.test(s.key)){if(null!==s.newValue){const u=t.vr(s.key,s.newValue);if(u)return t.Vr(u)}}else if(t.hr.test(s.key)){if(null!==s.newValue){const u=t.Sr(s.key,s.newValue);if(u)return t.Dr(u)}}else if(s.key===t.lr){if(null!==s.newValue){const u=t.wr(s.newValue);if(u)return t.mr(u)}}else if(s.key===t.ur){const u=function(d){let m=Ns.ot;if(null!=d)try{const T=JSON.parse(d);w("number"==typeof T),m=T}catch(T){zr("SharedClientState","Failed to read sequence number from WebStorage",T)}return m}(s.newValue);u!==Ns.ot&&t.sequenceNumberHandler(u)}else if(s.key===t.dr){const u=t.Cr(s.newValue);yield Promise.all(u.map(d=>t.syncEngine.Nr(d)))}}else t.ir.push(s)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,s){const u=new Rd(this.currentUser,e,t,s),d=Yg(this.persistenceKey,this.currentUser,e);this.setItem(d,u.Yi())}pr(e){const t=Yg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,s){const u=Ad(this.persistenceKey,e),d=new xd(e,t,s);this.setItem(u,d.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const s=this.Rr(e);return Nh.Ji(s,t)}vr(e,t){const s=this.ar.exec(e),u=Number(s[1]);return Rd.Ji(new _i(void 0!==s[2]?s[2]:null),u,t)}Sr(e,t){const s=this.hr.exec(e),u=Number(s[1]);return xd.Ji(u,t)}wr(e){return ep.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const s=t?this.sr.insert(e,t):this.sr.remove(e),u=this.gr(this.sr),d=this.gr(s),m=[],T=[];return d.forEach(U=>{u.has(U)||m.push(U)}),u.forEach(U=>{d.has(U)||T.push(U)}),this.syncEngine.Mr(m,T).then(()=>{this.sr=s})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=cc();return e.forEach((s,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class np{constructor(){this.Fr=new kh,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,s){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new kh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class av{Br(e){}shutdown(){}}class Qg{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Xg{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class uv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,s,u,d){const m=this.oo(e,t);Ot("RestConnection","Sending: ",m,s);const T={};return this.uo(T,u,d),this.co(e,m,T,s).then(U=>(Ot("RestConnection","Received: ",U),U),U=>{throw Ao("RestConnection",`${e} failed with error: `,U,"url: ",m,"request:",s),U})}ao(e,t,s,u,d){return this.ro(e,t,s,u,d)}uo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),s&&s.headers.forEach((u,d)=>e[d]=u)}oo(e,t){return`${this.so}/v1/${t}:${Jg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,s,u){return new Promise((d,m)=>{const T=new Qo;T.listenOnce(Ra.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Vs.NO_ERROR:const H=T.getResponseJson();Ot("Connection","XHR received:",JSON.stringify(H)),d(H);break;case Vs.TIMEOUT:Ot("Connection",'RPC "'+e+'" timed out'),m(new B(x.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:const te=T.getStatus();if(Ot("Connection",'RPC "'+e+'" failed with status:',te,"response text:",T.getResponseText()),te>0){const _e=T.getResponseJson().error;if(_e&&_e.status&&_e.message){const rt=function(bt){const Mt=bt.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(Mt)>=0?Mt:x.UNKNOWN}(_e.status);m(new B(rt,_e.message))}else m(new B(x.UNKNOWN,"Server responded with status "+T.getStatus()))}else m(new B(x.UNAVAILABLE,"Connection failed."));break;default:b()}}finally{Ot("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);T.send(t,"POST",U,s,15)})}ho(e,t,s){const u=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ps(),m=ao(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Yo({})),this.uo(T.initMessageHeaders,t,s),(0,Ue.uI)()||(0,Ue.b$)()||(0,Ue.d)()||(0,Ue.w1)()||(0,Ue.Mn)()||(0,Ue.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const U=u.join("");Ot("Connection","Creating WebChannel: "+U,T);const H=d.createWebChannel(U,T);let te=!1,_e=!1;const rt=new Xg({jr:Mt=>{_e?Ot("Connection","Not sending because WebChannel is closed:",Mt):(te||(Ot("Connection","Opening WebChannel transport."),H.open(),te=!0),Ot("Connection","WebChannel sending:",Mt),H.send(Mt))},Wr:()=>H.close()}),bt=(Mt,dn,Rn)=>{Mt.listen(dn,ei=>{try{Rn(ei)}catch(zi){setTimeout(()=>{throw zi},0)}})};return bt(H,Si.EventType.OPEN,()=>{_e||Ot("Connection","WebChannel transport opened.")}),bt(H,Si.EventType.CLOSE,()=>{_e||(_e=!0,Ot("Connection","WebChannel transport closed"),rt.eo())}),bt(H,Si.EventType.ERROR,Mt=>{_e||(_e=!0,Ao("Connection","WebChannel transport errored:",Mt),rt.eo(new B(x.UNAVAILABLE,"The operation could not be completed")))}),bt(H,Si.EventType.MESSAGE,Mt=>{var dn;if(!_e){const Rn=Mt.data[0];w(!!Rn);const ei=Rn,zi=ei.error||(null===(dn=ei[0])||void 0===dn?void 0:dn.error);if(zi){Ot("Connection","WebChannel received error:",zi);const Ai=zi.status;let Ki=function(ts){const Uo=Lr[ts];if(void 0!==Uo)return xl(Uo)}(Ai),Wi=zi.message;void 0===Ki&&(Ki=x.INTERNAL,Wi="Unknown error status: "+Ai+" with message "+zi.message),_e=!0,rt.eo(new B(Ki,Wi)),H.close()}else Ot("Connection","WebChannel received:",Rn),rt.no(Rn)}}),bt(m,xu.STAT_EVENT,Mt=>{Mt.stat===ca.PROXY?Ot("Connection","Detected buffering proxy"):Mt.stat===ca.NOPROXY&&Ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{rt.Zr()},0),rt}}function Va(){return"undefined"!=typeof window?window:null}function Ac(){return"undefined"!=typeof document?document:null}function Md(i){return new Nl(i,!0)}class rp{constructor(e,t,s=1e3,u=1.5,d=6e4){this.js=e,this.timerId=t,this.lo=s,this.fo=u,this._o=d,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),u=Math.max(0,t-s);u>0&&Ot("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,u,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class lv{constructor(e,t,s,u,d,m,T,U){this.js=e,this.Ao=s,this.Ro=u,this.bo=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=T,this.listener=U,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new rp(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,be.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,be.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var s=this;return(0,be.Z)(function*(){s.Fo(),s.$o(),s.So.cancel(),s.Po++,4!==e?s.So.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),s.So.po()):t&&t.code===x.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Bo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Po===t&&this.Uo(s,u)},s=>{e(()=>{const u=new B(x.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(u)})})}Uo(e,t){const s=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{s(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(u=>{s(()=>this.qo(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}xo(){var e=this;this.state=5,this.So.Io((0,be.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class em extends lv{constructor(e,t,s,u,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,m),this.wt=d}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function dt(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:b(),u=e.targetChange.targetIds||[],d=function(U,H){return U.dt?(w(void 0===H||"string"==typeof H),hs.fromBase64String(H||"")):(w(void 0===H||H instanceof Uint8Array),hs.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,T=m&&function(U){const H=void 0===U.code?x.UNKNOWN:xl(U.code);return new B(H,U.message||"")}(m);t=new Ol(s,u,d,T||null)}else if("documentChange"in e){const s=e.documentChange,u=po(i,s.document.name),d=_s(s.document.updateTime),m=new Ys({mapValue:{fields:s.document.fields}}),T=Ei.newFoundDocument(u,d,m);t=new dc(s.targetIds||[],s.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const s=e.documentDelete,u=po(i,s.document),d=s.readTime?_s(s.readTime):Fn.min(),m=Ei.newNoDocument(u,d);t=new dc([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,u=po(i,s.document);t=new dc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return b();{const s=e.filter,d=new Rl(s.count||0);t=new lh(s.targetId,d)}}var U;return t}(this.wt,e),s=function(u){if(!("targetChange"in u))return Fn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Fn.min():d.readTime?_s(d.readTime):Fn.min()}(e);return this.listener.Go(t,s)}Qo(e){const t={};t.database=h(this.wt),t.addTarget=function(u,d){let m;const T=d.target;return m=Fu(T)?{documents:An(u,T)}:{query:fs(u,T)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=md(u,d.resumeToken):d.snapshotVersion.compareTo(Fn.min())>0&&(m.readTime=qu(u,d.snapshotVersion.toTimestamp())),m}(this.wt,e);const s=function Zu(i,e){const t=function(s,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return b()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Mo(t)}jo(e){const t={};t.database=h(this.wt),t.removeTarget=e,this.Mo(t)}}class cv extends lv{constructor(e,t,s,u,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,m),this.wt=d,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(w(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function On(i,e){return i&&i.length>0?(w(void 0!==e),i.map(t=>function(s,u){let d=_s(s.updateTime?s.updateTime:u);return d.isEqual(Fn.min())&&(d=_s(u)),new $u(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=_s(e.commitTime);return this.listener.Jo(s,t)}return w(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=h(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$t(this.wt,s))};this.Mo(t)}}class dv extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.wt=u,this.Zo=!1}tu(){if(this.Zo)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ro(e,t,s,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new B(x.UNKNOWN,u.toString())})}ao(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ao(e,t,s,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new B(x.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(zr(t),this.su=!1):Ot("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class ip{constructor(e,t,s,u,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=d,this.du.Br(T=>{s.enqueueAndForget((0,be.Z)(function*(){var U;su(m)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,be.Z)(function*(H){const te=A(H);te.lu.add(4),yield bu(te),te._u.set("Unknown"),te.lu.delete(4),yield Pd(te)}),function(H){return U.apply(this,arguments)})(m))}))}),this._u=new hv(s,u)}}function Pd(i){return sp.apply(this,arguments)}function sp(){return sp=(0,be.Z)(function*(i){if(su(i))for(const e of i.fu)yield e(!0)}),sp.apply(this,arguments)}function bu(i){return Od.apply(this,arguments)}function Od(){return Od=(0,be.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Od.apply(this,arguments)}function Lh(i,e){const t=A(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),nm(t)?tm(t):Pc(t).Co()&&Nd(t,e))}function jl(i,e){const t=A(i),s=Pc(t);t.hu.delete(e),s.Co()&&op(t,e),0===t.hu.size&&(s.Co()?s.ko():su(t)&&t._u.set("Unknown"))}function Nd(i,e){i.wu.Nt(e.targetId),Pc(i).Qo(e)}function op(i,e){i.wu.Nt(e),Pc(i).jo(e)}function tm(i){i.wu=new Oo({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Pc(i).start(),i._u.iu()}function nm(i){return su(i)&&!Pc(i).Do()&&i.hu.size>0}function su(i){return 0===A(i).lu.size}function fv(i){i.wu=void 0}function pv(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,be.Z)(function*(i){i.hu.forEach((e,t)=>{Nd(i,e)})}),Fh.apply(this,arguments)}function rm(i,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,be.Z)(function*(i,e){fv(i),nm(i)?(i._u.uu(e),tm(i)):i._u.set("Unknown")}),Uh.apply(this,arguments)}function im(i,e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,be.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof Ol&&2===e.state&&e.cause)try{yield(s=(0,be.Z)(function*(u,d){const m=d.cause;for(const T of d.targetIds)u.hu.has(T)&&(yield u.remoteSyncer.rejectListen(T,m),u.hu.delete(T),u.wu.removeTarget(T))}),function(u,d){return s.apply(this,arguments)})(i,e)}catch(s){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ta(i,s)}else if(e instanceof dc?i.wu.Ut(e):e instanceof lh?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(Fn.min()))try{const s=yield Gg(i.localStore);t.compareTo(s)>=0&&(yield function(u,d){const m=u.wu.Yt(d);return m.targetChanges.forEach((T,U)=>{if(T.resumeToken.approximateByteSize()>0){const H=u.hu.get(U);H&&u.hu.set(U,H.withResumeToken(T.resumeToken,d))}}),m.targetMismatches.forEach(T=>{const U=u.hu.get(T);if(!U)return;u.hu.set(T,U.withResumeToken(hs.EMPTY_BYTE_STRING,U.snapshotVersion)),op(u,T);const H=new Yu(U.target,T,1,U.sequenceNumber);Nd(u,H)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(s){Ot("RemoteStore","Failed to raise snapshot:",s),yield Ta(i,s)}var s}),Bh.apply(this,arguments)}function Ta(i,e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,be.Z)(function*(i,e,t){if(!js(e))throw e;i.lu.add(1),yield bu(i),i._u.set("Offline"),t||(t=()=>Gg(i.localStore)),i.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Pd(i)}))}),Rc.apply(this,arguments)}function sm(i,e){return e().catch(t=>Ta(i,t,e))}function xc(i){return om.apply(this,arguments)}function om(){return om=(0,be.Z)(function*(i){const e=A(i),t=sl(e);let s=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;ap(e);)try{const u=yield Kg(e.localStore,s);if(null===u){0===e.au.length&&t.ko();break}s=u.batchId,am(e,u)}catch(u){yield Ta(e,u)}Vh(e)&&Mc(e)}),om.apply(this,arguments)}function ap(i){return su(i)&&i.au.length<10}function am(i,e){i.au.push(e);const t=sl(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function Vh(i){return su(i)&&!sl(i).Do()&&i.au.length>0}function Mc(i){sl(i).start()}function gv(i){return kd.apply(this,arguments)}function kd(){return kd=(0,be.Z)(function*(i){sl(i).Xo()}),kd.apply(this,arguments)}function um(i){return jh.apply(this,arguments)}function jh(){return jh=(0,be.Z)(function*(i){const e=sl(i);for(const t of i.au)e.Ho(t.mutations)}),jh.apply(this,arguments)}function lm(i,e,t){return up.apply(this,arguments)}function up(){return up=(0,be.Z)(function*(i,e,t){const s=i.au.shift(),u=Vf.from(s,e,t);yield sm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield xc(i)}),up.apply(this,arguments)}function lp(i,e){return cp.apply(this,arguments)}function cp(){return cp=(0,be.Z)(function*(i,e){var t;e&&sl(i).zo&&(yield(t=(0,be.Z)(function*(s,u){if(sc(d=u.code)&&d!==x.ABORTED){const m=s.au.shift();sl(s).No(),yield sm(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield xc(s)}var d}),function(s,u){return t.apply(this,arguments)})(i,e)),Vh(i)&&Mc(i)}),cp.apply(this,arguments)}function cm(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,be.Z)(function*(i,e){const t=A(i);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const s=su(t);t.lu.add(3),yield bu(t),s&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Pd(t)}),$h.apply(this,arguments)}function il(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,be.Z)(function*(i,e){const t=A(i);e?(t.lu.delete(2),yield Pd(t)):e||(t.lu.add(2),yield bu(t),t._u.set("Unknown"))}),Hh.apply(this,arguments)}function Pc(i){return i.mu||(i.mu=function(e,t,s){const u=A(e);return u.tu(),new em(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,s)}(i.datastore,i.asyncQueue,{zr:pv.bind(null,i),Jr:rm.bind(null,i),Go:im.bind(null,i)}),i.fu.push(function(){var e=(0,be.Z)(function*(t){t?(i.mu.No(),nm(i)?tm(i):i._u.set("Unknown")):(yield i.mu.stop(),fv(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function sl(i){return i.gu||(i.gu=function(e,t,s){const u=A(e);return u.tu(),new cv(t,u.bo,u.authCredentials,u.appCheckCredentials,u.wt,s)}(i.datastore,i.asyncQueue,{zr:gv.bind(null,i),Jr:lp.bind(null,i),Yo:um.bind(null,i),Jo:lm.bind(null,i)}),i.fu.push(function(){var e=(0,be.Z)(function*(t){t?(i.gu.No(),yield xc(i)):(yield i.gu.stop(),i.au.length>0&&(Ot("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class ol{constructor(e,t,s,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new re,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,u,d){const m=Date.now()+s,T=new ol(e,t,m,u,d);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oc(i,e){if(zr("AsyncQueue",`${e}: ${i}`),js(i))return new B(x.UNAVAILABLE,`${e}: ${i}`);throw i}class Nc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Wt.comparator(t.key,s.key):(t,s)=>Wt.comparator(t.key,s.key),this.keyedMap=Ml(),this.sortedSet=new Oi(this.comparator)}static emptySet(e){return new Nc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Nc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class dm{constructor(){this.yu=new Oi(Wt.comparator)}track(e){const t=e.doc.key,s=this.yu.get(t);s?0!==e.type&&3===s.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==s.type?this.yu=this.yu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.yu=this.yu.remove(t):1===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):b():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,s)=>{e.push(s)}),e}}class kc{constructor(e,t,s,u,d,m,T,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=T,this.excludesMetadataChanges=U}static fromInitialDocuments(e,t,s,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new kc(e,t,Nc.emptySet(t),d,s,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class ou{constructor(){this.Iu=void 0,this.listeners=[]}}class dp{constructor(){this.queries=new Ni(e=>yg(e),bl),this.onlineState="Unknown",this.Tu=new Set}}function Gh(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,be.Z)(function*(i,e){const t=A(i),s=e.query;let u=!1,d=t.queries.get(s);if(d||(u=!0,d=new ou),u)try{d.Iu=yield t.onListen(s)}catch(m){const T=Oc(m,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,d),d.listeners.push(e),e.Eu(t.onlineState),d.Iu&&e.Au(d.Iu)&&hp(t)}),zh.apply(this,arguments)}function Kh(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,be.Z)(function*(i,e){const t=A(i),s=e.query;let u=!1;const d=t.queries.get(s);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),u=0===d.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),Wh.apply(this,arguments)}function mv(i,e){const t=A(i);let s=!1;for(const u of e){const m=t.queries.get(u.query);if(m){for(const T of m.listeners)T.Au(u)&&(s=!0);m.Iu=u}}s&&hp(t)}function yv(i,e,t){const s=A(i),u=s.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);s.queries.delete(e)}function hp(i){i.Tu.forEach(e=>{e.next()})}class fp{constructor(e,t,s){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new kc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class hm{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class vv{constructor(e){this.wt=e}Wi(e){return po(this.wt,e)}zi(e){return e.metadata.exists?Y(this.wt,e.document,!1):Ei.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return _s(e)}}class fm{constructor(e,t,s){this.xu=e,this.localStore=t,this.wt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pm(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=Dr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,s=new vv(this.wt);for(const u of e)if(u.metadata.queries){const d=s.Wi(u.metadata.name);for(const m of u.metadata.queries){const T=(t.get(m)||pr()).add(d);t.set(m,T)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function sv(i,e,t,s){return Zg.apply(this,arguments)}(e.localStore,new vv(e.wt),e.documents,e.xu.id),s=e.ku(e.documents);for(const u of e.queries)yield a0(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function pm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class gm{constructor(e){this.key=e}}class _v{constructor(e){this.key=e}}class Ev{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=pr(),this.mutatedKeys=pr(),this.Lu=zo(e),this.Uu=new Nc(this.Lu)}get qu(){return this.Fu}Ku(e,t){const s=t?t.Gu:new dm,u=t?t.Uu:this.Uu;let d=t?t.mutatedKeys:this.mutatedKeys,m=u,T=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,_e)=>{const rt=u.get(te),bt=yu(this.query,_e)?_e:null,Mt=!!rt&&this.mutatedKeys.has(rt.key),dn=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let Rn=!1;rt&&bt?rt.data.isEqual(bt.data)?Mt!==dn&&(s.track({type:3,doc:bt}),Rn=!0):this.Qu(rt,bt)||(s.track({type:2,doc:bt}),Rn=!0,(U&&this.Lu(bt,U)>0||H&&this.Lu(bt,H)<0)&&(T=!0)):!rt&&bt?(s.track({type:0,doc:bt}),Rn=!0):rt&&!bt&&(s.track({type:1,doc:rt}),Rn=!0,(U||H)&&(T=!0)),Rn&&(bt?(m=m.add(bt),d=dn?d.add(te):d.delete(te)):(m=m.delete(te),d=d.delete(te)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const te="F"===this.query.limitType?m.last():m.first();m=m.delete(te.key),d=d.delete(te.key),s.track({type:1,doc:te})}return{Uu:m,Gu:s,Oi:T,mutatedKeys:d}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const d=e.Gu.pu();d.sort((H,te)=>function(_e,rt){const bt=Mt=>{switch(Mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return b()}};return bt(_e)-bt(rt)}(H.type,te.type)||this.Lu(H.doc,te.doc)),this.ju(s);const m=t?this.Wu():[],T=0===this.Bu.size&&this.current?1:0,U=T!==this.$u;return this.$u=T,0!==d.length||U?{snapshot:new kc(this.query,e.Uu,u,d,e.mutatedKeys,0===T,U,!1),zu:m}:{zu:m}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new dm,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=pr(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const t=[];return e.forEach(s=>{this.Bu.has(s)||t.push(new _v(s))}),this.Bu.forEach(s=>{e.has(s)||t.push(new gm(s))}),t}Ju(e){this.Fu=e.ji,this.Bu=pr();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return kc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class pp{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wv{constructor(e){this.key=e,this.Xu=!1}}class mm{constructor(e,t,s,u,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.Zu={},this.tc=new Ni(T=>yg(T),bl),this.ec=new Map,this.nc=new Set,this.sc=new Oi(Wt.comparator),this.ic=new Map,this.rc=new Cd,this.oc={},this.uc=new Map,this.cc=Xu.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function ym(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,be.Z)(function*(i,e){const t=Xh(i);let s,u;const d=t.tc.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),u=d.view.Yu();else{const m=yield Vl(t.localStore,ia(e));t.isPrimaryClient&&Lh(t.remoteStore,m);const T=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,u=yield _a(t,e,s,"current"===T)}return u}),vm.apply(this,arguments)}function _a(i,e,t,s){return _m.apply(this,arguments)}function _m(){return _m=(0,be.Z)(function*(i,e,t,s){i.hc=(te,_e,rt)=>{return(bt=(0,be.Z)(function*(Mt,dn,Rn,ei){let zi=dn.view.Ku(Rn);zi.Oi&&(zi=yield Ph(Mt.localStore,dn.query,!1).then(({documents:Wi})=>dn.view.Ku(Wi,zi)));const Ai=ei&&ei.targetChanges.get(dn.targetId),Ki=dn.view.applyChanges(zi,Mt.isPrimaryClient,Ai);return $l(Mt,dn.targetId,Ki.zu),Ki.snapshot}),function(Mt,dn,Rn,ei){return bt.apply(this,arguments)})(i,te,_e,rt);var bt};const u=yield Ph(i.localStore,e,!0),d=new Ev(e,u.ji),m=d.Ku(u.documents),T=tu.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState),U=d.applyChanges(m,i.isPrimaryClient,T);$l(i,t,U.zu);const H=new pp(e,t,d);return i.tc.set(e,H),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),U.snapshot}),_m.apply(this,arguments)}function u0(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,be.Z)(function*(i,e){const t=A(i),s=t.tc.get(e),u=t.ec.get(s.targetId);if(u.length>1)return t.ec.set(s.targetId,u.filter(d=>!bl(d,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Sc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),jl(t.remoteStore,s.targetId),ja(t,s.targetId)}).catch(pa))):(ja(t,s.targetId),yield Sc(t.localStore,s.targetId,!0))}),qh.apply(this,arguments)}function Zh(){return Zh=(0,be.Z)(function*(i,e,t){const s=ef(i);try{const u=yield function(d,m){const T=A(d),U=oi.now(),H=m.reduce((rt,bt)=>rt.add(bt.key),pr());let te,_e;return T.persistence.runTransaction("Locally write mutations","readwrite",rt=>{let bt=Js(),Mt=pr();return T.Ui.getEntries(rt,H).next(dn=>{bt=dn,bt.forEach((Rn,ei)=>{ei.isValidDocument()||(Mt=Mt.add(Rn))})}).next(()=>T.localDocuments.getOverlayedDocuments(rt,bt)).next(dn=>{te=dn;const Rn=[];for(const ei of m){const zi=rc(ei,te.get(ei.key).overlayedDocument);null!=zi&&Rn.push(new La(ei.key,zi,od(zi.value.mapValue),Li.exists(!0)))}return T.mutationQueue.addMutationBatch(rt,U,Rn,m)}).next(dn=>{_e=dn;const Rn=dn.applyToLocalDocumentSet(te,Mt);return T.documentOverlayCache.saveOverlays(rt,dn.batchId,Rn)})}).then(()=>({batchId:_e.batchId,changes:fo(te)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,m,T){let U=d.oc[d.currentUser.toKey()];U||(U=new Oi(Dn)),U=U.insert(m,T),d.oc[d.currentUser.toKey()]=U}(s,u.batchId,t),yield $a(s,u.changes),yield xc(s.remoteStore)}catch(u){const d=Oc(u,"Failed to persist write");t.reject(d)}}),Zh.apply(this,arguments)}function wm(i,e){return Im.apply(this,arguments)}function Im(){return Im=(0,be.Z)(function*(i,e){const t=A(i);try{const s=yield zg(t.localStore,e);e.targetChanges.forEach((u,d)=>{const m=t.ic.get(d);m&&(w(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.Xu=!0:u.modifiedDocuments.size>0?w(m.Xu):u.removedDocuments.size>0&&(w(m.Xu),m.Xu=!1))}),yield $a(t,s,e)}catch(s){yield pa(s)}}),Im.apply(this,arguments)}function gp(i,e,t){const s=A(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.tc.forEach((d,m)=>{const T=m.view.Eu(e);T.snapshot&&u.push(T.snapshot)}),function(d,m){const T=A(d);T.onlineState=m;let U=!1;T.queries.forEach((H,te)=>{for(const _e of te.listeners)_e.Eu(m)&&(U=!0)}),U&&hp(T)}(s.eventManager,e),u.length&&s.Zu.Go(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function mp(i,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,be.Z)(function*(i,e,t){const s=A(i);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.ic.get(e),d=u&&u.key;if(d){let m=new Oi(Wt.comparator);m=m.insert(d,Ei.newNoDocument(d,Fn.min()));const T=pr().add(d),U=new sa(Fn.min(),new Map,new br(Dn),m,T);yield wm(s,U),s.sc=s.sc.remove(d),s.ic.delete(e),bp(s)}else yield Sc(s.localStore,e,!1).then(()=>ja(s,e,t)).catch(pa)}),yp.apply(this,arguments)}function vp(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,be.Z)(function*(i,e){const t=A(i),s=e.batch.batchId;try{const u=yield xh(t.localStore,e);Lc(t,s,null),Ip(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield $a(t,u)}catch(u){yield pa(u)}}),_p.apply(this,arguments)}function Iv(i,e,t){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,be.Z)(function*(i,e,t){const s=A(i);try{const u=yield function(d,m){const T=A(d);return T.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let H;return T.mutationQueue.lookupMutationBatch(U,m).next(te=>(w(null!==te),H=te.keys(),T.mutationQueue.removeMutationBatch(U,te))).next(()=>T.mutationQueue.performConsistencyCheck(U)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(U,H,m)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,H)).next(()=>T.localDocuments.getDocuments(U,H))})}(s.localStore,e);Lc(s,e,t),Ip(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield $a(s,u)}catch(u){yield pa(u)}}),Ep.apply(this,arguments)}function wp(){return wp=(0,be.Z)(function*(i,e){const t=A(i);su(t.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const m=A(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>m.mutationQueue.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===s)return void e.resolve();const u=t.uc.get(s)||[];u.push(e),t.uc.set(s,u)}catch(s){const u=Oc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),wp.apply(this,arguments)}function Ip(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function Lc(i,e,t){const s=A(i);let u=s.oc[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),s.oc[s.currentUser.toKey()]=u}}function ja(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ec.get(e))i.tc.delete(s),t&&i.Zu.lc(s,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(s=>{i.rc.containsKey(s)||bm(i,s)})}function bm(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(jl(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),bp(i))}function $l(i,e,t){for(const s of t)s instanceof gm?(i.rc.addReference(s.key,e),Dv(i,s)):s instanceof _v?(Ot("SyncEngine","Document no longer in limbo: "+s.key),i.rc.removeReference(s.key,e),i.rc.containsKey(s.key)||bm(i,s.key)):b()}function Dv(i,e){const t=e.key,s=t.path.canonicalString();i.sc.get(t)||i.nc.has(s)||(Ot("SyncEngine","New document in limbo: "+t),i.nc.add(s),bp(i))}function bp(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new Wt(Dr.fromString(e)),s=i.cc.next();i.ic.set(s,new wv(t)),i.sc=i.sc.insert(t,s),Lh(i.remoteStore,new Yu(ia(gu(t.path)),s,2,Ns.ot))}}function $a(i,e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,be.Z)(function*(i,e,t){const s=A(i),u=[],d=[],m=[];var T;s.tc.isEmpty()||(s.tc.forEach((T,U)=>{m.push(s.hc(U,e,t).then(H=>{if(H){s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,H.fromCache?"not-current":"current"),u.push(H);const te=Jf.Vi(U.targetId,H);d.push(te)}}))}),yield Promise.all(m),s.Zu.Go(u),yield(T=(0,be.Z)(function*(U,H){const te=A(U);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>Qe.forEach(H,rt=>Qe.forEach(rt.Pi,bt=>te.persistence.referenceDelegate.addReference(_e,rt.targetId,bt)).next(()=>Qe.forEach(rt.vi,bt=>te.persistence.referenceDelegate.removeReference(_e,rt.targetId,bt)))))}catch(_e){if(!js(_e))throw _e;Ot("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of H){const rt=_e.targetId;if(!_e.fromCache){const bt=te.$i.get(rt),dn=bt.withLastLimboFreeSnapshotVersion(bt.snapshotVersion);te.$i=te.$i.insert(rt,dn)}}}),function(U,H){return T.apply(this,arguments)})(s.localStore,d))}),Ca.apply(this,arguments)}function Ld(i,e){return eo.apply(this,arguments)}function eo(){return eo=(0,be.Z)(function*(i,e){const t=A(i);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const s=yield Ah(t.localStore,e);t.currentUser=e,(u=t).uc.forEach(m=>{m.forEach(T=>{T.reject(new B(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.uc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield $a(t,s.Ki)}var u}),eo.apply(this,arguments)}function Hl(i,e){const t=A(i),s=t.ic.get(e);if(s&&s.Xu)return pr().add(s.key);{let u=pr();const d=t.ec.get(e);if(!d)return u;for(const m of d){const T=t.tc.get(m);u=u.unionWith(T.view.qu)}return u}}function Yh(i,e){return aa.apply(this,arguments)}function aa(){return aa=(0,be.Z)(function*(i,e){const t=A(i),s=yield Ph(t.localStore,e.query,!0),u=e.view.Ju(s);return t.isPrimaryClient&&$l(t,e.targetId,u.zu),u}),aa.apply(this,arguments)}function Dp(i,e){return al.apply(this,arguments)}function al(){return al=(0,be.Z)(function*(i,e){const t=A(i);return oa(t.localStore,e).then(s=>$a(t,s))}),al.apply(this,arguments)}function Fc(i,e,t,s){return ul.apply(this,arguments)}function ul(){return ul=(0,be.Z)(function*(i,e,t,s){const u=A(i),d=yield function(m,T){const U=A(m),H=A(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",te=>H.yn(te,T).next(_e=>_e?U.localDocuments.getDocuments(te,_e):Qe.resolve(null)))}(u.localStore,e);var T;null!==d?("pending"===t?yield xc(u.remoteStore):"acknowledged"===t||"rejected"===t?(Lc(u,e,s||null),Ip(u,e),T=e,A(A(u.localStore).mutationQueue).In(T)):b(),yield $a(u,d)):Ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),ul.apply(this,arguments)}function ll(){return ll=(0,be.Z)(function*(i,e){const t=A(i);if(Xh(t),ef(t),!0===e&&!0!==t.ac){const s=t.sharedClientState.getAllActiveQueryTargets(),u=yield Gl(t,s.toArray());t.ac=!0,yield il(t.remoteStore,!0);for(const d of u)Lh(t.remoteStore,d)}else if(!1===e&&!1!==t.ac){const s=[];let u=Promise.resolve();t.ec.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):u=u.then(()=>(ja(t,m),Sc(t.localStore,m,!0))),jl(t.remoteStore,m)}),yield u,yield Gl(t,s),function(d){const m=A(d);m.ic.forEach((T,U)=>{jl(m.remoteStore,U)}),m.rc.cs(),m.ic=new Map,m.sc=new Oi(Wt.comparator)}(t),t.ac=!1,yield il(t.remoteStore,!1)}}),ll.apply(this,arguments)}function Gl(i,e,t){return cl.apply(this,arguments)}function cl(){return cl=(0,be.Z)(function*(i,e,t){const s=A(i),u=[],d=[];for(const m of e){let T;const U=s.ec.get(m);if(U&&0!==U.length){T=yield Vl(s.localStore,ia(U[0]));for(const H of U){const te=s.tc.get(H),_e=yield Yh(s,te);_e.snapshot&&d.push(_e.snapshot)}}else{const H=yield Wg(s.localStore,m);T=yield Vl(s.localStore,H),yield _a(s,zl(H),m,!1)}u.push(T)}return s.Zu.Go(d),u}),cl.apply(this,arguments)}function zl(i){return rh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Bc(i){const e=A(i);return A(A(e.localStore).persistence).Ri()}function Dm(i,e,t,s){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,be.Z)(function*(i,e,t,s){const u=A(i);if(u.ac)return void Ot("SyncEngine","Ignoring unexpected query state notification.");const d=u.ec.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield oa(u.localStore,cd(d[0])),T=sa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield $a(u,m,T);break}case"rejected":yield Sc(u.localStore,e,!0),ja(u,e,s);break;default:b()}}),Qh.apply(this,arguments)}function Tm(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,be.Z)(function*(i,e,t){const s=Xh(i);if(s.ac){for(const u of e){if(s.ec.has(u)){Ot("SyncEngine","Adding an already active target "+u);continue}const d=yield Wg(s.localStore,u),m=yield Vl(s.localStore,d);yield _a(s,zl(d),m.targetId,!1),Lh(s.remoteStore,m)}for(const u of t)s.ec.has(u)&&(yield Sc(s.localStore,u,!1).then(()=>{jl(s.remoteStore,u),ja(s,u)}).catch(pa))}}),Jh.apply(this,arguments)}function Xh(i){const e=A(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mp.bind(null,e),e.Zu.Go=mv.bind(null,e.eventManager),e.Zu.lc=yv.bind(null,e.eventManager),e}function ef(i){const e=A(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iv.bind(null,e),e}class Tp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.wt=Md(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Sh(this.persistence,new Xf,e.initialUser,this.wt)}_c(e){return new jg(Ch.Ms,this.wt)}dc(e){return new np}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cp extends Tp{constructor(e,t,s){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e),yield s.yc.initialize(s,e),yield ef(s.yc.syncEngine),yield xc(s.yc.remoteStore),yield s.persistence.ci(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Sh(this.persistence,new Xf,e.initialUser,this.wt)}mc(e,t){return new Wf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const s=new Zs(t,this.persistence);return new sd(e.asyncQueue,s)}_c(e){const t=rl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new Sd(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Va(),Ac(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new np}}class Tv extends Cp{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e);const u=s.yc.syncEngine;s.sharedClientState instanceof tp&&(s.sharedClientState.syncEngine={kr:Fc.bind(null,u),Or:Dm.bind(null,u),Mr:Tm.bind(null,u),Ri:Bc.bind(null,u),Nr:Dp.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.ci(function(){var d=(0,be.Z)(function*(m){yield function Uc(i,e){return ll.apply(this,arguments)}(s.yc.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}dc(e){const t=Va();if(!tp.V(t))throw new B(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=rl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tp(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class tf{initialize(e,t){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>gp(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ld.bind(null,s.syncEngine),yield il(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dp}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=new uv(e.databaseInfo);return new dv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,d=T=>gp(this.syncEngine,T,0),m=Qg.V()?new Qg:new av,new ip(t,s,u,d,m);var t,s,u,d,m}createSyncEngine(e,t){return function(s,u,d,m,T,U,H){const te=new mm(s,u,d,m,T,U);return H&&(te.ac=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const s=A(t);Ot("RemoteStore","RemoteStore shutting down."),s.lu.add(5),yield bu(s),s.du.shutdown(),s._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Sm(i,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Am{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new re,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(s=>{s&&s.Cu()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,be.Z)(function*(){const t=yield e.bc();if(null===t)return null;const s=e.Ac.decode(t),u=Number(s);isNaN(u)&&e.Pc(`length string (${s}) is not valid number`);const d=yield e.vc(u);return new hm(JSON.parse(d),t.length+u)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,be.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}vc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const s=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Cv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new B(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,be.Z)(function*(d,m){const T=A(d),U=h(T.wt)+"/documents",H={documents:m.map(bt=>kl(T.wt,bt))},te=yield T.ao("BatchGetDocuments",U,H),_e=new Map;te.forEach(bt=>{const Mt=function Fe(i,e){return"found"in e?function(t,s){w(!!s.found);const u=po(t,s.found.name),d=_s(s.found.updateTime),m=new Ys({mapValue:{fields:s.found.fields}});return Ei.newFoundDocument(u,d,m)}(i,e):"missing"in e?function(t,s){w(!!s.missing),w(!!s.readTime);const u=po(t,s.missing),d=_s(s.readTime);return Ei.newNoDocument(u,d)}(i,e):b()}(T.wt,bt);_e.set(Mt.key.toString(),Mt)});const rt=[];return m.forEach(bt=>{const Mt=_e.get(bt.toString());w(!!Mt),rt.push(Mt)}),rt}),function(d,m){return u.apply(this,arguments)})(t.datastore,e);var u;return s.forEach(u=>t.recordVersion(u)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,u)=>{const d=Wt.fromPath(u);e.mutations.push(new uh(d,e.precondition(d)))}),yield(s=(0,be.Z)(function*(u,d){const m=A(u),T=h(m.wt)+"/documents",U={writes:d.map(H=>$t(m.wt,H))};yield m.ro("Commit",T,U)}),function(u,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw b();t=Fn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new B(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Li.updateTime(t):Li.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fn.min()))throw new B(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Li.updateTime(t)}return Li.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Sv{constructor(e,t,s,u,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=u,this.deferred=d,this.Dc=s.maxAttempts,this.So=new rp(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,be.Z)(function*(){const t=new Cv(e.datastore),s=e.xc(t);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Nc(d)}))}).catch(u=>{e.Nc(u)})}))}xc(e){try{const t=this.updateFunction(e);return!St(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sc(t)}return!1}}class Rm{constructor(e,t,s,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=_i.UNAUTHENTICATED,this.clientId=Ia.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,be.Z)(function*(T){Ot("FirestoreClient","Received user=",T.uid),yield d.authCredentialListener(T),d.user=T});return function(T){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(Ot("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new re;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=Oc(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function xm(i,e){return rf.apply(this,arguments)}function rf(){return rf=(0,be.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,be.Z)(function*(d){s.isEqual(d)||(yield Ah(e.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),rf.apply(this,arguments)}function Mm(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,be.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Pm(i);Ot("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(u=>cm(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>cm(e.remoteStore,d)),i.onlineComponents=e}),Sp.apply(this,arguments)}function Pm(i){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,be.Z)(function*(i){return i.offlineComponents||(Ot("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new Tp)),i.offlineComponents}),Ap.apply(this,arguments)}function Vc(i){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,be.Z)(function*(i){return i.onlineComponents||(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield Mm(i,new tf)),i.onlineComponents}),Fd.apply(this,arguments)}function Om(i){return Pm(i).then(e=>e.persistence)}function Nm(i){return Pm(i).then(e=>e.localStore)}function Av(i){return Vc(i).then(e=>e.remoteStore)}function km(i){return Vc(i).then(e=>e.syncEngine)}function jc(i){return sf.apply(this,arguments)}function sf(){return sf=(0,be.Z)(function*(i){const e=yield Vc(i),t=e.eventManager;return t.onListen=ym.bind(null,e.syncEngine),t.onUnlisten=u0.bind(null,e.syncEngine),t}),sf.apply(this,arguments)}function Lm(i,e,t={}){const s=new re;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(u,d,m,T,U){const H=new nf({next:_e=>{d.enqueueAndForget(()=>Kh(u,te));const rt=_e.docs.has(m);!rt&&_e.fromCache?U.reject(new B(x.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&_e.fromCache&&T&&"server"===T.source?U.reject(new B(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(_e)},error:_e=>U.reject(_e)}),te=new fp(gu(m.path),H,{includeMetadataChanges:!0,Du:!0});return Gh(u,te)}(yield jc(i),i.asyncQueue,e,t,s)})),s.promise}function Um(i,e,t={}){const s=new re;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(u,d,m,T,U){const H=new nf({next:_e=>{d.enqueueAndForget(()=>Kh(u,te)),_e.fromCache&&"server"===T.source?U.reject(new B(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(_e)},error:_e=>U.reject(_e)}),te=new fp(m,H,{includeMetadataChanges:!0,Du:!0});return Gh(u,te)}(yield jc(i),i.asyncQueue,e,t,s)})),s.promise}const jm=new Map;function Rp(i,e,t){if(!t)throw new B(x.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $m(i,e,t,s){if(!0===e&&!0===s)throw new B(x.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Hm(i){if(!Wt.isDocumentKey(i))throw new B(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gm(i){if(Wt.isDocumentKey(i))throw new B(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ud(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":b()}function jr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new B(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(i);throw new B(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function xp(i,e){if(e<=0)throw new B(x.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Mp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new B(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$m("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kl{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1,e instanceof Ze?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ze(u.options.projectId)}(e))}get app(){if(!this._app)throw new B(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ht;switch(t.type){case"gapi":const s=t.client;return w(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Ar(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new B(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jm.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),jm.delete(e),t.terminate())}(this),Promise.resolve()}}class ki{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}}class Lo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Du extends Lo{constructor(e,t,s){super(e,t,gu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new Wt(e))}withConverter(e){return new Du(this.firestore,e,this._path)}}function Hc(i,e,...t){if(i=(0,Ue.m9)(i),Rp("collection","path",e),i instanceof Kl){const s=Dr.fromString(e,...t);return Gm(s),new Du(i,null,s)}{if(!(i instanceof ki||i instanceof Du))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dr.fromString(e,...t));return Gm(s),new Du(i.firestore,null,s)}}function Gc(i,e,...t){if(i=(0,Ue.m9)(i),1===arguments.length&&(e=Ia.I()),Rp("doc","path",e),i instanceof Kl){const s=Dr.fromString(e,...t);return Hm(s),new ki(i,null,new Wt(s))}{if(!(i instanceof ki||i instanceof Du))throw new B(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dr.fromString(e,...t));return Hm(s),new ki(i.firestore,i instanceof Du?i.converter:null,new Wt(s))}}function uf(i,e){return i=(0,Ue.m9)(i),e=(0,Ue.m9)(e),(i instanceof ki||i instanceof Du)&&(e instanceof ki||e instanceof Du)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Km(i,e){return i=(0,Ue.m9)(i),e=(0,Ue.m9)(e),i instanceof Lo&&e instanceof Lo&&i.firestore===e.firestore&&bl(i._query,e._query)&&i.converter===e.converter}class lf{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new rp(this,"async_queue_retry"),this.Kc=()=>{const t=Ac();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Ac();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Ac();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new re;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!js(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(s=>{throw this.Bc=s,this.Lc=!1,zr("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(s)),s}).then(s=>(this.Lc=!1,s))));return this.Oc=t,t}enqueueAfterDelay(e,t,s){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const u=ol.createAndSchedule(this,e,t,s,d=>this.Wc(d));return this.$c.push(u),u}Gc(){this.Bc&&b()}verifyOperationInProgress(){}zc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function zc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(i)}class Pp{constructor(){this._progressObserver={},this._taskCompletionResolver=new re,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xi extends Kl{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new lf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kp(this),this._firestoreClient.terminate()}}function As(i){return i._firestoreClient||kp(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function kp(i){var e;const t=i._freezeSettings(),s=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new He(i._databaseId,d,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var d,T;i._firestoreClient=new Rm(i._authCredentials,i._appCheckCredentials,i._queue,s)}function Fp(i,e,t){const s=new re;return i.asyncQueue.enqueue((0,be.Z)(function*(){try{yield xm(i,t),yield Mm(i,e),s.resolve()}catch(u){if(!("FirebaseError"===(d=u).name?d.code===x.FAILED_PRECONDITION||d.code===x.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u)}var d})).then(()=>s.promise)}function Qm(i){if(i._initialized||i._terminated)throw new B(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new B(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(hs.fromBase64String(e))}catch(t){throw new B(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sa(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(e){this._methodName=e}}class Bd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dn(this._lat,e._lat)||Dn(this._long,e._long)}}const Jm=/^__.*__$/;class Xm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gu(e,this.data,t,this.fieldTransforms)}}class Vp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw b()}}class Vd{constructor(e,t,s,u,d,m){this.settings=e,this.databaseId=t,this.wt=s,this.ignoreUndefinedProperties=u,void 0===d&&this.Xc(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:s,na:!1});return u.sa(e),u}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ta({path:s,na:!1});return u.Xc(),u}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return df(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(jp(this.Zc)&&Jm.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ey{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=s||Md(e)}aa(e,t,s,u=!1){return new Vd({Zc:e,methodName:t,ca:s,path:rr.emptyPath(),na:!1,ua:u},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function dl(i){const e=i._freezeSettings(),t=Md(i._databaseId);return new ey(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $p(i,e,t,s,u,d={}){const m=i.aa(d.merge||d.mergeFields?2:0,e,t,u);hl("Data must be an object, but it was:",m,s);const T=Kp(s,m);let U,H;if(d.merge)U=new ds(m.fieldMask),H=m.fieldTransforms;else if(d.mergeFields){const te=[];for(const _e of d.mergeFields){const rt=qp(e,_e,t);if(!m.contains(rt))throw new B(x.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);Zp(te,rt)||te.push(rt)}U=new ds(te),H=m.fieldTransforms.filter(_e=>U.covers(_e.field))}else U=null,H=m.fieldTransforms;return new Xm(new Ys(T),U,H)}class jd extends Tu{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function ty(i,e,t){return new Vd({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class cf extends Tu{_toFieldTransform(e){return new Sl(e.path,new eu)}isEqual(e){return e instanceof cf}}class Nv extends Tu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=ty(this,e,!0),s=this.ha.map(d=>Wl(d,t)),u=new ka(s);return new Sl(e.path,u)}isEqual(e){return this===e}}class $s extends Tu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=ty(this,e,!0),s=this.ha.map(d=>Wl(d,t)),u=new ju(s);return new Sl(e.path,u)}isEqual(e){return this===e}}class ny extends Tu{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new vu(e.wt,hd(e.wt,this.la));return new Sl(e.path,t)}isEqual(e){return this===e}}function Hp(i,e,t,s){const u=i.aa(1,e,t);hl("Data must be an object, but it was:",u,s);const d=[],m=Ys.empty();Za(s,(U,H)=>{const te=$d(e,U,t);H=(0,Ue.m9)(H);const _e=u.ia(te);if(H instanceof jd)d.push(te);else{const rt=Wl(H,_e);null!=rt&&(d.push(te),m.set(te,rt))}});const T=new ds(d);return new Vp(m,T,u.fieldTransforms)}function Gp(i,e,t,s,u,d){const m=i.aa(1,e,t),T=[qp(e,s,t)],U=[u];if(d.length%2!=0)throw new B(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<d.length;rt+=2)T.push(qp(e,d[rt])),U.push(d[rt+1]);const H=[],te=Ys.empty();for(let rt=T.length-1;rt>=0;--rt)if(!Zp(H,T[rt])){const bt=T[rt];let Mt=U[rt];Mt=(0,Ue.m9)(Mt);const dn=m.ia(bt);if(Mt instanceof jd)H.push(bt);else{const Rn=Wl(Mt,dn);null!=Rn&&(H.push(bt),te.set(bt,Rn))}}const _e=new ds(H);return new Vp(te,_e,m.fieldTransforms)}function zp(i,e,t,s=!1){return Wl(t,i.aa(s?4:3,e))}function Wl(i,e){if(Wp(i=(0,Ue.m9)(i)))return hl("Unsupported field value:",e,i),Kp(i,e);if(i instanceof Tu)return function(t,s){if(!jp(s.Zc))throw s.oa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.oa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,s){const u=[];let d=0;for(const m of t){let T=Wl(m,s.ra(d));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,s){if(null===(t=(0,Ue.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hd(s.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=oi.fromDate(t);return{timestampValue:qu(s.wt,u)}}if(t instanceof oi){const u=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qu(s.wt,u)}}if(t instanceof Bd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sa)return{bytesValue:md(s.wt,t._byteString)};if(t instanceof ki){const u=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw s.oa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yd(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.oa(`Unsupported field value: ${Ud(t)}`)}(i,e)}function Kp(i,e){const t={};return ta(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(i,(s,u)=>{const d=Wl(u,e.ea(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function Wp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof oi||i instanceof Bd||i instanceof Sa||i instanceof ki||i instanceof Tu)}function hl(i,e,t){if(!Wp(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Ud(t);throw e.oa("an object"===s?i+" a custom object":i+" "+s)}var s}function qp(i,e,t){if((e=(0,Ue.m9)(e))instanceof au)return e._internalPath;if("string"==typeof e)return $d(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,t)}const kv=new RegExp("[~\\*/\\[\\]]");function $d(i,e,t){if(e.search(kv)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new au(...e.split("."))._internalPath}catch(s){throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function df(i,e,t,s,u){const d=s&&!s.isEmpty(),m=void 0!==u;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let U="";return(d||m)&&(U+=" (found",d&&(U+=` in field ${s}`),m&&(U+=` in document ${u}`),U+=")"),new B(x.INVALID_ARGUMENT,T+i+U)}function Zp(i,e){return i.some(t=>t.isEqual(e))}class hf{constructor(e,t,s,u,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ry extends hf{data(){return super.data()}}function Kc(i,e){return"string"==typeof e?$d(i,e):e instanceof au?e._internalPath:e._delegate._internalPath}class Fo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cu extends hf{constructor(e,t,s,u,d,m){super(e,t,s,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Kc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Wc extends Cu{data(e={}){return super.data(e)}}class yo{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Fo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Wc(this._firestore,this._userDataWriter,s.key,s,new Fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Wc(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Fo(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const T=new Wc(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Fo(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,H=-1;return 0!==m.type&&(U=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),H=d.indexOf(m.doc.key)),{type:Ha(m.type),doc:T,oldIndex:U,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ha(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b()}}function Aa(i,e){return i instanceof Cu&&e instanceof Cu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof yo&&e instanceof yo&&i._firestore===e._firestore&&Km(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Yp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new B(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qc{}function fl(i,...e){for(const t of e)i=t._apply(i);return i}class Lv extends qc{constructor(e,t,s){super(),this.fa=e,this.da=t,this._a=s,this.type="where"}_apply(e){const t=dl(e.firestore),s=function(u,d,m,T,U,H,te){let _e;if(U.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new B(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Gd(te,H);const bt=[];for(const Mt of te)bt.push(ff(T,u,Mt));_e={arrayValue:{values:bt}}}else _e=ff(T,u,te)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Gd(te,H),_e=zp(m,"where",te,"in"===H||"not-in"===H);const rt=Qs.create(U,H,_e);return function(bt,Mt){if(Mt.ht()){const Rn=ld(bt);if(null!==Rn&&!Rn.isEqual(Mt.field))throw new B(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Rn.toString()}' and '${Mt.field.toString()}'`);const ei=wl(bt);null!==ei&&Xp(0,Mt.field,ei)}const dn=function(Rn,ei){for(const zi of Rn.filters)if(ei.indexOf(zi.op)>=0)return zi.op;return null}(bt,function(Rn){switch(Rn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Mt.op));if(null!==dn)throw new B(x.INVALID_ARGUMENT,dn===Mt.op?`Invalid query. You cannot use more than one '${Mt.op.toString()}' filter.`:`Invalid query. You cannot use '${Mt.op.toString()}' filters with '${dn.toString()}' filters.`)}(u,rt),rt}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Lo(e.firestore,e.converter,function(u,d){const m=u.filters.concat([d]);return new ra(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,s))}}class Uv extends qc{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(s,u,d){if(null!==s.startAt)throw new B(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new B(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new Bu(u,d);return function(T,U){if(null===wl(T)){const H=ld(T);null!==H&&Xp(0,H,U.field)}}(s,m),m}(e._query,this.fa,this.wa);return new Lo(e.firestore,e.converter,function(s,u){const d=s.explicitOrderBy.concat([u]);return new ra(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Zc extends qc{constructor(e,t,s){super(),this.type=e,this.ma=t,this.ga=s}_apply(e){return new Lo(e.firestore,e.converter,ih(e._query,this.ma,this.ga))}}class sy extends qc{constructor(e,t,s){super(),this.type=e,this.ya=t,this.pa=s}_apply(e){const t=Jp(e,this.type,this.ya,this.pa);return new Lo(e.firestore,e.converter,(u=t,new ra((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)));var s,u}}class Hd extends qc{constructor(e,t,s){super(),this.type=e,this.ya=t,this.pa=s}_apply(e){const t=Jp(e,this.type,this.ya,this.pa);return new Lo(e.firestore,e.converter,(u=t,new ra((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)));var s,u}}function Jp(i,e,t,s){if(t[0]=(0,Ue.m9)(t[0]),t[0]instanceof hf)return function(u,d,m,T,U){if(!T)throw new B(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const H=[];for(const te of mu(u))if(te.field.isKeyField())H.push(xo(d,T.key));else{const _e=T.data.field(te.field);if(k(_e))throw new B(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_e){const rt=te.field.canonicalString();throw new B(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${rt}' (used as the orderBy) does not exist.`)}H.push(_e)}return new Xa(H,U)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const u=dl(i.firestore);return function(d,m,T,U,H,te){const _e=d.explicitOrderBy;if(H.length>_e.length)throw new B(x.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const rt=[];for(let bt=0;bt<H.length;bt++){const Mt=H[bt];if(_e[bt].field.isKeyField()){if("string"!=typeof Mt)throw new B(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Mt}`);if(!Il(d)&&-1!==Mt.indexOf("/"))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Mt}' contains a slash.`);const dn=d.path.child(Dr.fromString(Mt));if(!Wt.isDocumentKey(dn))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${dn}' is not because it contains an odd number of segments.`);const Rn=new Wt(dn);rt.push(xo(m,Rn))}else{const dn=zp(T,U,Mt);rt.push(dn)}}return new Xa(rt,te)}(i._query,i.firestore._databaseId,u,e,t,s)}}function ff(i,e,t){if("string"==typeof(t=(0,Ue.m9)(t))){if(""===t)throw new B(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Il(e)&&-1!==t.indexOf("/"))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Dr.fromString(t));if(!Wt.isDocumentKey(s))throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xo(i,new Wt(s))}if(t instanceof ki)return xo(i,t._key);throw new B(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function Gd(i,e){if(!Array.isArray(i)||0===i.length)throw new B(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new B(x.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xp(i,e,t){if(!t.isEqual(e))throw new B(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const ly={maxAttempts:5};class pf{convertValue(e,t="none"){switch(Tn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(M(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw b()}}convertObject(e,t){const s={};return Za(e.fields,(u,d)=>{s[u]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new Bd(pi(e.latitude),pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Z(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(he(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Dr.fromString(e);w(_d(s));const u=new Ze(s.get(1),s.get(3)),d=new Wt(s.popFirst(5));return u.isEqual(t)||zr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function zd(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class cy extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,t)}}class eg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dl(e)}set(e,t,s){this._verifyNotCommitted();const u=Su(e,this._firestore),d=zd(u.converter,t,s),m=$p(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,s);return this._mutations.push(m.toMutation(u._key,Li.none())),this}update(e,t,s,...u){this._verifyNotCommitted();const d=Su(e,this._firestore);let m;return m="string"==typeof(t=(0,Ue.m9)(t))||t instanceof au?Gp(this._dataReader,"WriteBatch.update",d._key,t,s,u):Hp(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,Li.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Su(e,this._firestore);return this._mutations=this._mutations.concat(new Ku(t._key,Li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Su(i,e){if((i=(0,Ue.m9)(i)).firestore!==e)throw new B(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ql extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,t)}}function hy(i,e,t){i=jr(i,ki);const s=jr(i.firestore,Xi),u=zd(i.converter,e,t);return Yc(s,[$p(dl(s),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Li.none())])}function fy(i,e,t,...s){i=jr(i,ki);const u=jr(i.firestore,Xi),d=dl(u);let m;return m="string"==typeof(e=(0,Ue.m9)(e))||e instanceof au?Gp(d,"updateDoc",i._key,e,t,s):Hp(d,"updateDoc",i._key,e),Yc(u,[m.toMutation(i._key,Li.exists(!0))])}function py(i,...e){var t,s,u;i=(0,Ue.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||zc(e[m])||(d=e[m],m++);const T={includeMetadataChanges:d.includeMetadataChanges};if(zc(e[m])){const _e=e[m];e[m]=null===(t=_e.next)||void 0===t?void 0:t.bind(_e),e[m+1]=null===(s=_e.error)||void 0===s?void 0:s.bind(_e),e[m+2]=null===(u=_e.complete)||void 0===u?void 0:u.bind(_e)}let U,H,te;if(i instanceof ki)H=jr(i.firestore,Xi),te=gu(i._key.path),U={next:_e=>{e[m]&&e[m](tg(H,i,_e))},error:e[m+1],complete:e[m+2]};else{const _e=jr(i,Lo);H=jr(_e.firestore,Xi),te=_e._query;const rt=new ql(H);U={next:bt=>{e[m]&&e[m](new yo(H,rt,_e,bt))},error:e[m+1],complete:e[m+2]},Yp(i._query)}return function(_e,rt,bt,Mt){const dn=new nf(Mt),Rn=new fp(rt,dn,bt);return _e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Gh(yield jc(_e),Rn)})),()=>{dn.Tc(),_e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Kh(yield jc(_e),Rn)}))}}(As(H),te,T,U)}function Yc(i,e){return function(t,s){const u=new re;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Em(i,e,t){return Zh.apply(this,arguments)}(yield km(t),s,u)})),u.promise}(As(i),e)}function tg(i,e,t){const s=t.docs.get(e._key),u=new ql(i);return new Cu(i,u,e._key,s,new Fo(t.hasPendingWrites,t.fromCache),e.converter)}class Zv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dl(e)}get(e){const t=Su(e,this._firestore),s=new cy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return b();const d=u[0];if(d.isFoundDocument())return new hf(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new hf(this._firestore,s,t._key,null,t.converter);throw b()})}set(e,t,s){const u=Su(e,this._firestore),d=zd(u.converter,t,s),m=$p(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,s);return this._transaction.set(u._key,m),this}update(e,t,s,...u){const d=Su(e,this._firestore);let m;return m="string"==typeof(t=(0,Ue.m9)(t))||t instanceof au?Gp(this._dataReader,"Transaction.update",d._key,t,s,u):Hp(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=Su(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Su(e,this._firestore),s=new ql(this._firestore);return super.get(e).then(u=>new Cu(this._firestore,s,t._key,u._document,new Fo(!1,!1),t.converter))}}function gf(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new B("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function mf(){if("undefined"==typeof Uint8Array)throw new B("unimplemented","Uint8Arrays are not available in this environment.")}function rg(){if(!function _l(){return"undefined"!=typeof atob}())throw new B("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){da=ut.SDK_VERSION,(0,ut._registerComponent)(new $e.wA("firestore",(t,{options:s})=>{const u=t.getProvider("app").getImmediate(),d=new Xi(u,new qn(t.getProvider("auth-internal")),new cs(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC")),(0,ut.registerVersion)(Jo,"3.4.10",i),(0,ut.registerVersion)(Jo,"3.4.10","esm2017")}();class Ga{constructor(e){this._delegate=e}static fromBase64String(e){return rg(),new Ga(Sa.fromBase64String(e))}static fromUint8Array(e){return mf(),new Ga(Sa.fromUint8Array(e))}toBase64(){return rg(),this._delegate.toBase64()}toUint8Array(){return mf(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ig(i){return function t_(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class Qc{enableIndexedDbPersistence(e,t){return function Lp(i,e){Qm(i=jr(i,Xi));const t=As(i),s=i._freezeSettings(),u=new tf;return Fp(t,u,new Cp(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Wm(i){Qm(i=jr(i,Xi));const e=As(i),t=i._freezeSettings(),s=new tf;return Fp(e,s,new Tv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Up(i){if(i._initialized&&!i._terminated)throw new B(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new re;return i._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(s){if(!qs.V())return Promise.resolve();const u=s+"main";yield qs.delete(u)}),function(s){return t.apply(this,arguments)})(rl(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class n_{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ze||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ao("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function c0(i,e,t,s={}){var u;const d=(i=jr(i,Kl))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Ao("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,T;if("string"==typeof s.mockUserToken)m=s.mockUserToken,T=_i.MOCK_USER;else{m=(0,Ue.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new B(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new _i(U)}i._authCredentials=new Xt(new De(m,T))}}(this._delegate,e,t,s)}enableNetwork(){return function Mv(i){return function l0(i){return i.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield Om(i),t=yield Av(i);return e.setNetworkEnabled(!0),function(s){const u=A(s);return u.lu.delete(0),Pd(u)}(t)}))}(As(i=jr(i,Xi)))}(this._delegate)}disableNetwork(){return function Zm(i){return function Rv(i){return i.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield Om(i),t=yield Av(i);return e.setNetworkEnabled(!1),(s=(0,be.Z)(function*(u){const d=A(u);d.lu.add(0),yield bu(d),d._u.set("Offline")}),function(u){return s.apply(this,arguments)})(t);var s}))}(As(i=jr(i,Xi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,$m("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qm(i){return function(e){const t=new re;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function bv(i,e){return wp.apply(this,arguments)}(yield km(e),t)})),t.promise}(As(i=jr(i,Xi)))}(this._delegate)}onSnapshotsInSync(e){return function qv(i,e){return function Bm(i,e){const t=new nf(e);return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield jc(i),u=t,A(s).Tu.add(u),void u.next();var s,u})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield jc(i),u=t,void A(s).Tu.delete(u);var s,u}))}}(As(i=jr(i,Xi)),zc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new B("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wd(this,Hc(this._delegate,e))}catch(t){throw Ko(t,"collection()","Firestore.collection()")}}doc(e){try{return new En(this,Gc(this._delegate,e))}catch(t){throw Ko(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new to(this,function zm(i,e){if(i=jr(i,Kl),Rp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new B(x.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lo(i,null,(t=e,new ra(Dr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ko(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Yv(i,e,t){i=jr(i,Xi);const s=Object.assign(Object.assign({},ly),t);return function(u){if(u.maxAttempts<1)throw new B(x.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function af(i,e,t){const s=new re;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const u=yield(d=i,Vc(d).then(m=>m.datastore));var d;new Sv(i.asyncQueue,u,t,e,s).run()})),s.promise}(As(i),u=>e(new Zv(i,u)),s)}(this._delegate,t=>e(new sg(this,t)))}batch(){return As(this._delegate),new og(new eg(this._delegate,e=>Yc(this._delegate,e)))}loadBundle(e){return function Bp(i,e){const t=As(i=jr(i,Xi)),s=new Pp;return function xv(i,e,t,s){const u=function(d,m){let T;return T="string"==typeof d?(new TextEncoder).encode(d):d,U=function(U,H){if(U instanceof Uint8Array)return Sm(U,H);if(U instanceof ArrayBuffer)return Sm(new Uint8Array(U),H);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new Am(U,m);var U}(t,Md(e));i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function Cm(i,e,t){const s=A(i);var u;(u=(0,be.Z)(function*(d,m,T){try{const U=yield m.getMetadata();if(yield function(rt,bt){const Mt=A(rt),dn=_s(bt.createTime);return Mt.persistence.runTransaction("hasNewerBundle","readonly",Rn=>Mt.Ds.getBundleMetadata(Rn,bt.id)).then(Rn=>!!Rn&&Rn.createTime.compareTo(dn)>=0)}(d.localStore,U))return yield m.close(),T._completeWith({taskState:"Success",documentsLoaded:(rt=U).totalDocuments,bytesLoaded:rt.totalBytes,totalDocuments:rt.totalDocuments,totalBytes:rt.totalBytes}),Promise.resolve(new Set);T._updateProgress(pm(U));const H=new fm(U,d.localStore,m.wt);let te=yield m.fc();for(;te;){const rt=yield H.Nu(te);rt&&T._updateProgress(rt),te=yield m.fc()}const _e=yield H.complete();return yield $a(d,_e.Mu,void 0),yield function(rt,bt){const Mt=A(rt);return Mt.persistence.runTransaction("Save bundle","readwrite",dn=>Mt.Ds.saveBundleMetadata(dn,bt))}(d.localStore,U),T._completeWith(_e.progress),Promise.resolve(_e.Ou)}catch(U){return Ao("SyncEngine",`Loading bundle failed with ${U}`),T._failWith(U),Promise.resolve(new Set)}var rt}),function(d,m,T){return u.apply(this,arguments)})(s,e,t).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield km(i),u,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Ym(i,e){return function Vm(i,e){return i.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,s){const u=A(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ds.getNamedQuery(d,s))}(yield Nm(i),e)}))}(As(i=jr(i,Xi)),e).then(t=>t?new Lo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new to(this,t):null)}}class Jc extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(new Sa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return En.forKey(t,this.firestore,null)}}class sg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Jc(e)}get(e){const t=gl(e);return this._delegate.get(t).then(s=>new pl(this._firestore,new Cu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const u=gl(e);return s?(gf("Transaction.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const d=gl(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...u),this}delete(e){const t=gl(e);return this._delegate.delete(t),this}}class og{constructor(e){this._delegate=e}set(e,t,s){const u=gl(e);return s?(gf("WriteBatch.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const d=gl(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...u),this}delete(e){const t=gl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xc{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Wc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kd(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Xc.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let d=u.get(t);return d||(d=new Xc(e,new Jc(e),t),u.set(t,d)),d}}Xc.INSTANCES=new WeakMap;class En{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jc(e)}static forPath(e,t,s){if(e.length%2!=0)throw new B("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new En(t,new ki(t._delegate,s,new Wt(e)))}static forKey(e,t,s){return new En(t,new ki(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Wd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wd(this.firestore,Hc(this._delegate,e))}catch(t){throw Ko(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ue.m9)(e))instanceof ki&&uf(this._delegate,e)}set(e,t){t=gf("DocumentReference.set",t);try{return t?hy(this._delegate,e,t):hy(this._delegate,e)}catch(s){throw Ko(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?fy(this._delegate,e):fy(this._delegate,e,t,...s)}catch(u){throw Ko(u,"updateDoc()","DocumentReference.update()")}}delete(){return function Kv(i){return Yc(jr(i.firestore,Xi),[new Ku(i._key,Li.none())])}(this._delegate)}onSnapshot(...e){const t=Ey(e),s=wy(e,u=>new pl(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return py(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jv(i){i=jr(i,ki);const e=jr(i.firestore,Xi),t=As(e),s=new ql(e);return function $c(i,e){const t=new re;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(u,d,m){try{const T=yield function(U,H){const te=A(U);return te.persistence.runTransaction("read document","readonly",_e=>te.localDocuments.getDocument(_e,H))}(u,d);T.isFoundDocument()?m.resolve(T):T.isNoDocument()?m.resolve(null):m.reject(new B(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const U=Oc(T,`Failed to get document '${d} from cache`);m.reject(U)}}),function(u,d,m){return s.apply(this,arguments)})(yield Nm(i),e,t);var s})),t.promise}(t,i._key).then(u=>new Cu(e,s,i._key,u,new Fo(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function $v(i){i=jr(i,ki);const e=jr(i.firestore,Xi);return Lm(As(e),i._key,{source:"server"}).then(t=>tg(e,i,t))}(this._delegate):function dy(i){i=jr(i,ki);const e=jr(i.firestore,Xi);return Lm(As(e),i._key).then(t=>tg(e,i,t))}(this._delegate),t.then(s=>new pl(this.firestore,new Cu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new En(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function Ko(i,e,t){return i.message=i.message.replace(e,t),i}function Ey(i){for(const e of i)if("object"==typeof e&&!ig(e))return e;return{}}function wy(i,e){var t,s;let u;return u=ig(i[0])?i[0]:ig(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class pl{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new En(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Aa(this._delegate,e._delegate)}}class Kd extends pl{data(e){const t=this._delegate.data(e);return function E(i,e){i||b()}(void 0!==t),t}}class to{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Jc(e)}where(e,t,s){try{return new to(this.firestore,fl(this._delegate,function Fv(i,e,t){const s=e,u=Kc("where",i);return new Lv(u,s,t)}(e,t,s)))}catch(u){throw Ko(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new to(this.firestore,fl(this._delegate,function Qp(i,e="asc"){const t=e,s=Kc("orderBy",i);return new Uv(s,t)}(e,t)))}catch(s){throw Ko(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new to(this.firestore,fl(this._delegate,function Bv(i){return xp("limit",i),new Zc("limit",i,"F")}(e)))}catch(t){throw Ko(t,"limit()","Query.limit()")}}limitToLast(e){try{return new to(this.firestore,fl(this._delegate,function iy(i){return xp("limitToLast",i),new Zc("limitToLast",i,"L")}(e)))}catch(t){throw Ko(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new to(this.firestore,fl(this._delegate,function oy(...i){return new sy("startAt",i,!0)}(...e)))}catch(t){throw Ko(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new to(this.firestore,fl(this._delegate,function ay(...i){return new sy("startAfter",i,!1)}(...e)))}catch(t){throw Ko(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new to(this.firestore,fl(this._delegate,function Vv(...i){return new Hd("endBefore",i,!1)}(...e)))}catch(t){throw Ko(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new to(this.firestore,fl(this._delegate,function uy(...i){return new Hd("endAt",i,!0)}(...e)))}catch(t){throw Ko(t,"endAt()","Query.endAt()")}}isEqual(e){return Km(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Gv(i){i=jr(i,Lo);const e=jr(i.firestore,Xi),t=As(e),s=new ql(e);return function Fm(i,e){const t=new re;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(u,d,m){try{const T=yield Ph(u,d,!0),U=new Ev(d,T.ji),H=U.Ku(T.documents),te=U.applyChanges(H,!1);m.resolve(te.snapshot)}catch(T){const U=Oc(T,`Failed to execute query '${d} against cache`);m.reject(U)}}),function(u,d,m){return s.apply(this,arguments)})(yield Nm(i),e,t);var s})),t.promise}(t,i._query).then(u=>new yo(e,s,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function zv(i){i=jr(i,Lo);const e=jr(i.firestore,Xi),t=As(e),s=new ql(e);return Um(t,i._query,{source:"server"}).then(u=>new yo(e,s,i,u))}(this._delegate):function Hv(i){i=jr(i,Lo);const e=jr(i.firestore,Xi),t=As(e),s=new ql(e);return Yp(i._query),Um(t,i._query).then(u=>new yo(e,s,i,u))}(this._delegate),t.then(s=>new es(this.firestore,new yo(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Ey(e),s=wy(e,u=>new es(this.firestore,new yo(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return py(this._delegate,t,s)}withConverter(e){return new to(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}class yf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class es{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new to(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yf(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Kd(this._firestore,s))})}isEqual(e){return Aa(this._delegate,e._delegate)}}class Wd extends to{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new En(this.firestore,e):null}doc(e){try{return new En(this.firestore,void 0===e?Gc(this._delegate):Gc(this._delegate,e))}catch(t){throw Ko(t,"doc()","CollectionReference.doc()")}}add(e){return function Wv(i,e){const t=jr(i.firestore,Xi),s=Gc(i),u=zd(i.converter,e);return Yc(t,[$p(dl(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Li.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new En(this.firestore,t))}isEqual(e){return uf(this._delegate,e._delegate)}withConverter(e){return new Wd(this.firestore,this._delegate.withConverter(e?Xc.getInstance(this.firestore,e):null))}}function gl(i){return jr(i,ki)}class ag{constructor(...e){this._delegate=new au(...e)}static documentId(){return new ag(rr.keyField().canonicalString())}isEqual(e){return(e=(0,Ue.m9)(e))instanceof au&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Jv(){return new cf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zl(e)}static delete(){const e=function Qv(){return new jd("deleteField")}();return e._methodName="FieldValue.delete",new Zl(e)}static arrayUnion(...e){const t=function gy(...i){return new Nv("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Zl(t)}static arrayRemove(...e){const t=function my(...i){return new $s("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Zl(t)}static increment(e){const t=function yy(i){return new ny("increment",i)}(e);return t._methodName="FieldValue.increment",new Zl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Iy={Firestore:n_,GeoPoint:Bd,Timestamp:oi,Blob:Ga,Transaction:sg,WriteBatch:og,DocumentReference:En,DocumentSnapshot:pl,Query:to,QueryDocumentSnapshot:Kd,QuerySnapshot:es,CollectionReference:Wd,FieldPath:ag,FieldValue:Zl,setLogLevel:function h0(i){!function Mu(i){jo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Dy(i){(function by(i,e){i.INTERNAL.registerComponent(new $e.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},Iy)))})(i,(e,t)=>new n_(e,t,new Qc)),i.registerVersion("@firebase/firestore-compat","0.1.19")}(st.Z);var Au=L(3385),r_=L(440),i_=L(127);function ed(i,e){return function s_(i,e=K.z){return new W.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function ug(i,e){return ed(i,e).pipe((0,oe.U)(t=>({payload:t,type:"query"})))}function vf(i,e){return ug(i,e).pipe((0,ae.O)(void 0),Ce(),(0,oe.U)(([t,s])=>{const u=s.payload.docChanges(),d=u.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,T)=>{const U=u.find(te=>te.doc.ref.isEqual(m.ref)),H=null==t?void 0:t.payload.docs.find(te=>te.ref.isEqual(m.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(m.metadata)||!U&&H&&JSON.stringify(H.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:m}})}),d}))}function qd(i,e,t){return vf(i,t).pipe((0,Me.R)((s,u)=>function Ty(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function Cy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return _f(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _f(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _f(i,e.oldIndex,1)}return i}(i,s))}),i}(s,u.map(d=>d.payload),e),[]),(0,Tt.x)(),(0,oe.U)(s=>s.map(u=>({type:u.type,payload:u}))))}function _f(i,e,t,...s){const u=i.slice();return u.splice(e,t,...s),u}function Sy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class td{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=vf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,oe.U)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ae.O)(void 0),Ce(),(0,Xe.h)(([s,u])=>u.length>0||!s),(0,oe.U)(([s,u])=>u),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Sy(e);return qd(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return ug(this.query,this.afs.schedulers.outsideAngular).pipe((0,oe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Te.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new nd(this.ref.doc(e),this.afs)}}class nd{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:u,query:d}=lg(s,t);return new td(u,d,this.afs)}snapshotChanges(){return function o_(i,e){return ed(i,e).pipe((0,ae.O)(void 0),Ce(),(0,oe.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,oe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ce.D)(this.ref.get(e)).pipe(Te.iC)}}class a_{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vf(this.query,this.afs.schedulers.outsideAngular).pipe((0,oe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Xe.h)(t=>t.length>0),Te.iC):vf(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=Sy(e);return qd(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return ug(this.query,this.afs.schedulers.outsideAngular).pipe((0,oe.U)(s=>s.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Te.iC)}get(e){return(0,ce.D)(this.query.get(e)).pipe(Te.iC)}}const Ay=new _.OlP("angularfire2.enableFirestorePersistence"),Ry=new _.OlP("angularfire2.firestore.persistenceSettings"),xy=new _.OlP("angularfire2.firestore.settings"),My=new _.OlP("angularfire2.firestore.use-emulator");function lg(i,e=(t=>t)){return{query:e(i),ref:i}}let Py=(()=>{class i{constructor(t,s,u,d,m,T,U,H,te,_e,rt,bt,Mt,dn,Rn,ei,zi){this.schedulers=U;const Ai=(0,at.on)(t,T,s),Ki=te;_e&&(0,Au.nw)(Ai,T,rt,Mt,dn,Rn,bt,ei),[this.firestore,this.persistenceEnabled$]=(0,at.cc)(`${Ai.name}.firestore`,"AngularFirestore",Ai.name,()=>{const Wi=T.runOutsideAngular(()=>Ai.firestore());if(d&&Wi.settings(d),Ki&&Wi.useEmulator(...Ki),u&&!(0,Ct.PM)(m)){const ts=()=>{try{return(0,ce.D)(Wi.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(Uo){return"undefined"!=typeof console&&console.warn(Uo),(0,ye.of)(!1)}};return[Wi,T.runOutsideAngular(ts)]}return[Wi,(0,ye.of)(!1)]},[d,Ki,u])}collection(t,s){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=lg(u,s),T=this.schedulers.ngZone.run(()=>d);return new td(T,m,this)}collectionGroup(t,s){const u=s||(m=>m),d=this.firestore.collectionGroup(t);return new a_(u(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>s);return new nd(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(_.LFG(at.Dh),_.LFG(at.xv,8),_.LFG(Ay,8),_.LFG(xy,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Te.HU),_.LFG(Ry,8),_.LFG(My,8),_.LFG(Au.zQ,8),_.LFG(Au.Qv,8),_.LFG(Au.L6,8),_.LFG(Au._Q,8),_.LFG(Au.rT,8),_.LFG(Au.lh,8),_.LFG(Au.f7,8),_.LFG(r_.nm,8))},i.\u0275prov=_.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Oy=(()=>{class i{constructor(){i_.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Ay,useValue:!0},{provide:Ry,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=_.oAB({type:i}),i.\u0275inj=_.cJS({providers:[Py]}),i})()},2011:(Ft,je,L)=>{L.d(je,{Dh:()=>Se,GT:()=>Te,cc:()=>Xe,hO:()=>Tt,on:()=>ae,pX:()=>ye,xv:()=>Ce});var _=L(5e3),K=L(127),W=L(5813);Ft=L.hmd(Ft);const ce=["ngOnDestroy"],ye=(st,be,ut,$e={})=>new Proxy(st,{get:(ve,Ue)=>ut.runOutsideAngular(()=>{var wt;if(st[Ue])return(null===(wt=null==$e?void 0:$e.spy)||void 0===wt?void 0:wt.get)&&$e.spy.get(Ue,st[Ue]),st[Ue];if(ce.indexOf(Ue)>-1)return()=>{};const vt=be.toPromise().then(X=>{const tt=X&&X[Ue];return"function"==typeof tt?tt.bind(X):tt&&tt.then?tt.then(ue=>ut.run(()=>ue)):ut.run(()=>tt)});return new Proxy(()=>{},{get:(X,tt)=>vt[tt],apply:(X,tt,ue)=>vt.then(Pe=>{var Ne;const Ge=Pe&&Pe(...ue);return(null===(Ne=null==$e?void 0:$e.spy)||void 0===Ne?void 0:Ne.apply)&&$e.spy.apply(Ue,ue,Ge),Ge})})})}),Te=(st,be)=>{be.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach($e=>{Object.defineProperty(st.prototype,$e,Object.getOwnPropertyDescriptor(ut.prototype||ut,$e))})})};class Re{constructor(be){return be}}const Se=new _.OlP("angularfire2.app.options"),Ce=new _.OlP("angularfire2.app.name");function ae(st,be,ut){const ve="object"==typeof ut&&ut||{};ve.name=ve.name||"string"==typeof ut&&ut||"[DEFAULT]";const wt=K.Z.apps.filter(vt=>vt&&vt.name===ve.name)[0]||be.runOutsideAngular(()=>K.Z.initializeApp(st,ve));try{JSON.stringify(st)!==JSON.stringify(wt.options)&&oe("error",`${wt.name} Firebase App already initialized with different options${Ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new Re(wt)}const oe=(st,...be)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[st](...be)},Me={provide:Re,useFactory:ae,deps:[Se,_.R0b,[new _.FiY,Ce]]};let Tt=(()=>{class st{constructor(ut){K.Z.registerVersion("angularfire",W.q4.full,"core"),K.Z.registerVersion("angularfire",W.q4.full,"app-compat"),K.Z.registerVersion("angular",_.q4F.full,ut.toString())}static initializeApp(ut,$e){return{ngModule:st,providers:[{provide:Se,useValue:ut},{provide:Ce,useValue:$e}]}}}return st.\u0275fac=function(ut){return new(ut||st)(_.LFG(_.Lbi))},st.\u0275mod=_.oAB({type:st}),st.\u0275inj=_.cJS({providers:[Me]}),st})();function Xe(st,be,ut,$e,ve){const[,Ue,wt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===st)||[];if(Ue)return function at(st,be){try{return st.toString()===be.toString()}catch(ut){return st===be}}(ve,wt)||(Ke("error",`${be} was already initialized on the ${ut} Firebase App with different settings.${Ct?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:ve,was:wt})),Ue;{const vt=$e();return globalThis.\u0275AngularfireInstanceCache.push([st,vt,ve]),vt}}const Ct=!!Ft.hot,Ke=(st,...be)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[st](...be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ft,je,L)=>{L.d(je,{q4:()=>qs,iC:()=>hs,fc:()=>ds,HU:()=>Cs,vb:()=>Za,JM:()=>Ma});var _=L(5e3),K=L(5867),W=L(5861),ce=L(9681),ye=L(2090),Te=L(4859),Re=L(1877),Se=L(8766);const Ce="@firebase/installations",ae="0.5.10",Me=`w:${ae}`,Tt="FIS_v2",be=new ye.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(M){return M instanceof ye.ZR&&M.code.includes("request-failed")}function $e({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function ve(M){return{token:M.token,requestStatus:2,expiresIn:Pe(M.expiresIn),creationTime:Date.now()}}function Ue(M,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,W.Z)(function*(M,k){const he=(yield k.json()).error;return be.create("request-failed",{requestName:M,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function vt({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function X(M,{refreshToken:k}){const Z=vt(M);return Z.append("Authorization",function Ne(M){return`${Tt} ${M}`}(k)),Z}function tt(M){return ue.apply(this,arguments)}function ue(){return(ue=(0,W.Z)(function*(M){const k=yield M();return k.status>=500&&k.status<600?M():k})).apply(this,arguments)}function Pe(M){return Number(M.replace("s","000"))}function Ge(M,k){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,W.Z)(function*({appConfig:M,heartbeatServiceProvider:k},{fid:Z}){const he=$e(M),He=vt(M),Ze=k.getImmediate({optional:!0});if(Ze){const Hn=yield Ze.getHeartbeatsHeader();Hn&&He.append("x-firebase-client",Hn)}const nn={method:"POST",headers:He,body:JSON.stringify({fid:Z,authVersion:Tt,appId:M.appId,sdkVersion:Me})},mn=yield tt(()=>fetch(he,nn));if(mn.ok){const Hn=yield mn.json();return{fid:Hn.fid||Z,registrationStatus:2,refreshToken:Hn.refreshToken,authToken:ve(Hn.authToken)}}throw yield Ue("Create Installation",mn)})).apply(this,arguments)}function Et(M){return new Promise(k=>{setTimeout(k,M)})}const Ye=/^[cdef][\w-]{21}$/;function ee(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const Z=function et(M){return function Kt(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return Ye.test(Z)?Z:""}catch(M){return""}}function gt(M){return`${M.appName}!${M.appId}`}const xt=new Map;function Ut(M,k){const Z=gt(M);on(Z,k),function Gn(M,k){const Z=function $n(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=M=>{on(M.data.key,M.data.fid)}),Bn}();Z&&Z.postMessage({key:M,fid:k}),function Nn(){0===xt.size&&Bn&&(Bn.close(),Bn=null)}()}(Z,k)}function on(M,k){const Z=xt.get(M);if(Z)for(const he of Z)he(k)}let Bn=null;const Cn="firebase-installations-store";let Mn=null;function jt(){return Mn||(Mn=(0,Se.X3)("firebase-installations-database",1,{upgrade:(M,k)=>{0===k&&M.createObjectStore(Cn)}})),Mn}function Fr(M,k){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,W.Z)(function*(M,k){const Z=gt(M),He=(yield jt()).transaction(Cn,"readwrite"),Ze=He.objectStore(Cn),St=yield Ze.get(Z);return yield Ze.put(k,Z),yield He.done,(!St||St.fid!==k.fid)&&Ut(M,k.fid),k})).apply(this,arguments)}function lr(M){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,W.Z)(function*(M){const k=gt(M),he=(yield jt()).transaction(Cn,"readwrite");yield he.objectStore(Cn).delete(k),yield he.done})).apply(this,arguments)}function ti(M,k){return ct.apply(this,arguments)}function ct(){return(ct=(0,W.Z)(function*(M,k){const Z=gt(M),He=(yield jt()).transaction(Cn,"readwrite"),Ze=He.objectStore(Cn),St=yield Ze.get(Z),nn=k(St);return void 0===nn?yield Ze.delete(Z):yield Ze.put(nn,Z),yield He.done,nn&&(!St||St.fid!==nn.fid)&&Ut(M,nn.fid),nn})).apply(this,arguments)}function we(M){return xe.apply(this,arguments)}function xe(){return(xe=(0,W.Z)(function*(M){let k;const Z=yield ti(M.appConfig,he=>{const He=_t(he),Ze=ze(M,He);return k=Ze.registrationPromise,Ze.installationEntry});return""===Z.fid?{installationEntry:yield k}:{installationEntry:Z,registrationPromise:k}})).apply(this,arguments)}function _t(M){return Nr(M||{fid:ee(),registrationStatus:0})}function ze(M,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(be.create("app-offline"))};const Z={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},he=function mt(M,k){return Nt.apply(this,arguments)}(M,Z);return{installationEntry:Z,registrationPromise:he}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:wn(M)}:{installationEntry:k}}function Nt(){return(Nt=(0,W.Z)(function*(M,k){try{const Z=yield Ge(M,k);return Fr(M.appConfig,Z)}catch(Z){throw ut(Z)&&409===Z.customData.serverCode?yield lr(M.appConfig):yield Fr(M.appConfig,{fid:k.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function wn(M){return pn.apply(this,arguments)}function pn(){return(pn=(0,W.Z)(function*(M){let k=yield ln(M.appConfig);for(;1===k.registrationStatus;)yield Et(100),k=yield ln(M.appConfig);if(0===k.registrationStatus){const{installationEntry:Z,registrationPromise:he}=yield we(M);return he||Z}return k})).apply(this,arguments)}function ln(M){return ti(M,k=>{if(!k)throw be.create("installation-not-found");return Nr(k)})}function Nr(M){return function cr(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Un(M,k){return ie.apply(this,arguments)}function ie(){return(ie=(0,W.Z)(function*({appConfig:M,heartbeatServiceProvider:k},Z){const he=me(M,Z),He=X(M,Z),Ze=k.getImmediate({optional:!0});if(Ze){const Hn=yield Ze.getHeartbeatsHeader();Hn&&He.append("x-firebase-client",Hn)}const nn={method:"POST",headers:He,body:JSON.stringify({installation:{sdkVersion:Me,appId:M.appId}})},mn=yield tt(()=>fetch(he,nn));if(mn.ok)return ve(yield mn.json());throw yield Ue("Generate Auth Token",mn)})).apply(this,arguments)}function me(M,{fid:k}){return`${$e(M)}/${k}/authTokens:generate`}function Ie(M){return lt.apply(this,arguments)}function lt(){return(lt=(0,W.Z)(function*(M,k=!1){let Z;const he=yield ti(M.appConfig,Ze=>{if(!Yt(Ze))throw be.create("not-registered");const St=Ze.authToken;if(!k&&gr(St))return Ze;if(1===St.requestStatus)return Z=fe(M,k),Ze;{if(!navigator.onLine)throw be.create("app-offline");const nn=Zn(Ze);return Z=Bt(M,nn),nn}});return Z?yield Z:he.authToken})).apply(this,arguments)}function fe(M,k){return Be.apply(this,arguments)}function Be(){return(Be=(0,W.Z)(function*(M,k){let Z=yield ot(M.appConfig);for(;1===Z.authToken.requestStatus;)yield Et(100),Z=yield ot(M.appConfig);const he=Z.authToken;return 0===he.requestStatus?Ie(M,k):he})).apply(this,arguments)}function ot(M){return ti(M,k=>{if(!Yt(k))throw be.create("not-registered");return function mr(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function Bt(M,k){return sn.apply(this,arguments)}function sn(){return(sn=(0,W.Z)(function*(M,k){try{const Z=yield Un(M,k),he=Object.assign(Object.assign({},k),{authToken:Z});return yield Fr(M.appConfig,he),Z}catch(Z){if(!ut(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const he=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Fr(M.appConfig,he)}else yield lr(M.appConfig);throw Z}})).apply(this,arguments)}function Yt(M){return void 0!==M&&2===M.registrationStatus}function gr(M){return 2===M.requestStatus&&!function gn(M){const k=Date.now();return k<M.creationTime||M.creationTime+M.expiresIn<k+36e5}(M)}function Zn(M){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:k})}function We(){return(We=(0,W.Z)(function*(M){const k=M,{installationEntry:Z,registrationPromise:he}=yield we(k);return he?he.catch(console.error):Ie(k).catch(console.error),Z.fid})).apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(M,k=!1){const Z=M;return yield ke(Z),(yield Ie(Z,k)).token})).apply(this,arguments)}function ke(M){return pt.apply(this,arguments)}function pt(){return(pt=(0,W.Z)(function*(M){const{registrationPromise:k}=yield we(M);k&&(yield k)})).apply(this,arguments)}function ni(M){return be.create("missing-app-config-values",{valueName:M})}const ir="installations",tn=M=>{const k=M.getProvider("app").getImmediate(),Z=function Mr(M){if(!M||!M.options)throw ni("App Configuration");if(!M.name)throw ni("App Name");const k=["projectId","apiKey","appId"];for(const Z of k)if(!M.options[Z])throw ni(Z);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(k);return{app:k,appConfig:Z,heartbeatServiceProvider:(0,ce._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Xn=M=>{const k=M.getProvider("app").getImmediate(),Z=(0,ce._getProvider)(k,ir).getImmediate();return{getId:()=>function gi(M){return We.apply(this,arguments)}(Z),getToken:He=>function Ee(M){return ne.apply(this,arguments)}(Z,He)}};(function wi(){(0,ce._registerComponent)(new Te.wA(ir,tn,"PUBLIC")),(0,ce._registerComponent)(new Te.wA("installations-internal",Xn,"PRIVATE"))})(),(0,ce.registerVersion)(Ce,ae),(0,ce.registerVersion)(Ce,ae,"esm2017");const Ii="@firebase/remote-config",Cr=new ye.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class is{constructor(k,Z,he,He){this.client=k,this.storage=Z,this.storageCache=he,this.logger=He}isCachedDataFresh(k,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-Z,He=he<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${He}.`),He}fetch(k){var Z=this;return(0,W.Z)(function*(){const[he,He]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(He&&Z.isCachedDataFresh(k.cacheMaxAgeMillis,he))return He;k.eTag=He&&He.eTag;const Ze=yield Z.client.fetch(k),St=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&St.push(Z.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(St),Ze})()}}function vo(M=navigator){return M.languages&&M.languages[0]||M.language}class yr{constructor(k,Z,he,He,Ze,St){this.firebaseInstallations=k,this.sdkVersion=Z,this.namespace=he,this.projectId=He,this.apiKey=Ze,this.appId=St}fetch(k){var Z=this;return(0,W.Z)(function*(){var he,He,Ze;const[St,nn]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Hn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Tr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Tn={sdk_version:Z.sdkVersion,app_instance_id:St,app_instance_id_token:nn,app_id:Z.appId,language_code:vo()},Xr={method:"POST",headers:Tr,body:JSON.stringify(Tn)},Ss=fetch(Hn,Xr),ho=new Promise((Mo,ya)=>{k.signal.addEventListener(()=>{const Qa=new Error("The operation was aborted.");Qa.name="AbortError",ya(Qa)})});let ma;try{yield Promise.race([Ss,ho]),ma=yield Ss}catch(Mo){let ya="fetch-client-network";throw"AbortError"===(null===(he=Mo)||void 0===he?void 0:he.name)&&(ya="fetch-timeout"),Cr.create(ya,{originalErrorMessage:null===(He=Mo)||void 0===He?void 0:He.message})}let ks=ma.status;const ba=ma.headers.get("ETag")||void 0;let xo,Go;if(200===ma.status){let Mo;try{Mo=yield ma.json()}catch(ya){throw Cr.create("fetch-client-parse",{originalErrorMessage:null===(Ze=ya)||void 0===Ze?void 0:Ze.message})}xo=Mo.entries,Go=Mo.state}if("INSTANCE_STATE_UNSPECIFIED"===Go?ks=500:"NO_CHANGE"===Go?ks=304:("NO_TEMPLATE"===Go||"EMPTY_CONFIG"===Go)&&(xo={}),304!==ks&&200!==ks)throw Cr.create("fetch-status",{httpStatus:ks});return{status:ks,eTag:ba,config:xo}})()}}class Oe{constructor(k,Z){this.client=k,this.storage=Z}fetch(k){var Z=this;return(0,W.Z)(function*(){const he=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(k,he)})()}attemptFetch(k,{throttleEndTimeMillis:Z,backoffCount:he}){var He=this;return(0,W.Z)(function*(){yield function ss(M,k){return new Promise((Z,he)=>{const He=Math.max(k-Date.now(),0),Ze=setTimeout(Z,He);M.addEventListener(()=>{clearTimeout(Ze),he(Cr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,Z);try{const Ze=yield He.client.fetch(k);return yield He.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function ps(M){if(!(M instanceof ye.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Ze))throw Ze;const St={throttleEndTimeMillis:Date.now()+(0,ye.$s)(he),backoffCount:he+1};return yield He.storage.setThrottleMetadata(St),He.attemptFetch(k,St)}})()}}class yt{constructor(k,Z,he,He,Ze){this.app=k,this._client=Z,this._storageCache=he,this._storage=He,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kt(M,k){var Z;const he=M.target.error||void 0;return Cr.create(k,{originalErrorMessage:he&&(null===(Z=he)||void 0===Z?void 0:Z.message)})}const zt="app_namespace_store";class Mi{constructor(k,Z,he,He=function or(){return new Promise((M,k)=>{var Z;try{const he=indexedDB.open("firebase_remote_config",1);he.onerror=He=>{k(kt(He,"storage-open"))},he.onsuccess=He=>{M(He.target.result)},he.onupgradeneeded=He=>{0===He.oldVersion&&He.target.result.createObjectStore(zt,{keyPath:"compositeKey"})}}catch(he){k(Cr.create("storage-open",{originalErrorMessage:null===(Z=he)||void 0===Z?void 0:Z.message}))}})}()){this.appId=k,this.appName=Z,this.namespace=he,this.openDbPromise=He}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var Z=this;return(0,W.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((He,Ze)=>{var St;const mn=he.transaction([zt],"readonly").objectStore(zt),Hn=Z.createCompositeKey(k);try{const Tr=mn.get(Hn);Tr.onerror=Tn=>{Ze(kt(Tn,"storage-get"))},Tr.onsuccess=Tn=>{const Xr=Tn.target.result;He(Xr?Xr.value:void 0)}}catch(Tr){Ze(Cr.create("storage-get",{originalErrorMessage:null===(St=Tr)||void 0===St?void 0:St.message}))}})})()}set(k,Z){var he=this;return(0,W.Z)(function*(){const He=yield he.openDbPromise;return new Promise((Ze,St)=>{var nn;const Hn=He.transaction([zt],"readwrite").objectStore(zt),Tr=he.createCompositeKey(k);try{const Tn=Hn.put({compositeKey:Tr,value:Z});Tn.onerror=Xr=>{St(kt(Xr,"storage-set"))},Tn.onsuccess=()=>{Ze()}}catch(Tn){St(Cr.create("storage-set",{originalErrorMessage:null===(nn=Tn)||void 0===nn?void 0:nn.message}))}})})()}delete(k){var Z=this;return(0,W.Z)(function*(){const he=yield Z.openDbPromise;return new Promise((He,Ze)=>{var St;const mn=he.transaction([zt],"readwrite").objectStore(zt),Hn=Z.createCompositeKey(k);try{const Tr=mn.delete(Hn);Tr.onerror=Tn=>{Ze(kt(Tn,"storage-delete"))},Tr.onsuccess=()=>{He()}}catch(Tr){Ze(Cr.create("storage-delete",{originalErrorMessage:null===(St=Tr)||void 0===St?void 0:St.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class gs{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,W.Z)(function*(){const Z=k.storage.getLastFetchStatus(),he=k.storage.getLastSuccessfulFetchTimestampMillis(),He=k.storage.getActiveConfig(),Ze=yield Z;Ze&&(k.lastFetchStatus=Ze);const St=yield he;St&&(k.lastSuccessfulFetchTimestampMillis=St);const nn=yield He;nn&&(k.activeConfig=nn)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function Yi(){return no.apply(this,arguments)}function no(){return(no=(0,W.Z)(function*(){if(!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(M){return!1}})).apply(this,arguments)}!function Zi(){(0,ce._registerComponent)(new Te.wA("remote-config",function M(k,{instanceIdentifier:Z}){const he=k.getProvider("app").getImmediate(),He=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Cr.create("registration-window");if(!(0,ye.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:Ze,apiKey:St,appId:nn}=he.options;if(!Ze)throw Cr.create("registration-project-id");if(!St)throw Cr.create("registration-api-key");if(!nn)throw Cr.create("registration-app-id");const mn=new Mi(nn,he.name,Z=Z||"firebase"),Hn=new gs(mn),Tr=new Re.Yd(Ii);Tr.logLevel=Re.in.ERROR;const Tn=new yr(He,ce.SDK_VERSION,Z,Ze,St,nn),Xr=new Oe(Tn,mn),Ss=new is(Xr,mn,Hn,Tr),ho=new yt(he,Ss,Hn,mn,Tr);return function er(M){const k=(0,ye.m9)(M);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ii,"0.3.9"),(0,ce.registerVersion)(Ii,"0.3.9","esm2017")}();const _o="/firebase-messaging-sw.js",hi="/firebase-cloud-messaging-push-scope",ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fs="google.c.a.c_id",Hs="google.c.a.c_l",ys="google.c.a.ts",Wo="google.c.a.e";var Us=(()=>{return(M=Us||(Us={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",Us;var M})();function fi(M){const k=new Uint8Array(M);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gs(M){const Z=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(Z),He=new Uint8Array(he.length);for(let Ze=0;Ze<he.length;++Ze)He[Ze]=he.charCodeAt(Ze);return He}const Br="fcm_token_details_db",yi="fcm_token_object_Store";function vi(M){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,W.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(Br))return null;let k=null;return(yield(0,Se.X3)(Br,5,{upgrade:(he=(0,W.Z)(function*(He,Ze,St,nn){var mn;if(Ze<2||!He.objectStoreNames.contains(yi))return;const Hn=nn.objectStore(yi),Tr=yield Hn.index("fcmSenderId").get(M);if(yield Hn.clear(),Tr)if(2===Ze){const Tn=Tr;if(!Tn.auth||!Tn.p256dh||!Tn.endpoint)return;k={token:Tn.fcmToken,createTime:null!==(mn=Tn.createTime)&&void 0!==mn?mn:Date.now(),subscriptionOptions:{auth:Tn.auth,p256dh:Tn.p256dh,endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:"string"==typeof Tn.vapidKey?Tn.vapidKey:fi(Tn.vapidKey)}}}else if(3===Ze){const Tn=Tr;k={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:fi(Tn.auth),p256dh:fi(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:fi(Tn.vapidKey)}}}else if(4===Ze){const Tn=Tr;k={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:fi(Tn.auth),p256dh:fi(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:fi(Tn.vapidKey)}}}}),function(Ze,St,nn,mn){return he.apply(this,arguments)})})).close(),yield(0,Se.Lj)(Br),yield(0,Se.Lj)("fcm_vapid_details_db"),yield(0,Se.Lj)("undefined"),vs(k)?k:null;var he}),Qi.apply(this,arguments)}function vs(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:k}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const as="firebase-messaging-store";let Is=null;function Jn(){return Is||(Is=(0,Se.X3)("firebase-messaging-database",1,{upgrade:(M,k)=>{0===k&&M.createObjectStore(as)}})),Is}function O(M){return G.apply(this,arguments)}function G(){return(G=(0,W.Z)(function*(M){const k=ft(M),he=yield(yield Jn()).transaction(as).objectStore(as).get(k);if(he)return he;{const He=yield vi(M.appConfig.senderId);if(He)return yield P(M,He),He}})).apply(this,arguments)}function P(M,k){return Q.apply(this,arguments)}function Q(){return(Q=(0,W.Z)(function*(M,k){const Z=ft(M),He=(yield Jn()).transaction(as,"readwrite");return yield He.objectStore(as).put(k,Z),yield He.done,k})).apply(this,arguments)}function pe(M){return it.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*(M){const k=ft(M),he=(yield Jn()).transaction(as,"readwrite");yield he.objectStore(as).delete(k),yield he.done})).apply(this,arguments)}function ft({appConfig:M}){return M.appId}const bn=new ye.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yn(M,k){return kn.apply(this,arguments)}function kn(){return(kn=(0,W.Z)(function*(M,k){const Z=yield ri(M),he=$i(k),He={method:"POST",headers:Z,body:JSON.stringify(he)};let Ze;try{Ze=yield(yield fetch(Pi(M.appConfig),He)).json()}catch(St){throw bn.create("token-subscribe-failed",{errorInfo:St})}if(Ze.error)throw bn.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw bn.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function jn(M,k){return kr.apply(this,arguments)}function kr(){return(kr=(0,W.Z)(function*(M,k){const Z=yield ri(M),he=$i(k.subscriptionOptions),He={method:"PATCH",headers:Z,body:JSON.stringify(he)};let Ze;try{Ze=yield(yield fetch(`${Pi(M.appConfig)}/${k.token}`,He)).json()}catch(St){throw bn.create("token-update-failed",{errorInfo:St})}if(Ze.error)throw bn.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw bn.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function tr(M,k){return nr.apply(this,arguments)}function nr(){return(nr=(0,W.Z)(function*(M,k){const he={method:"DELETE",headers:yield ri(M)};try{const Ze=yield(yield fetch(`${Pi(M.appConfig)}/${k}`,he)).json();if(Ze.error)throw bn.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(He){throw bn.create("token-unsubscribe-failed",{errorInfo:He})}})).apply(this,arguments)}function Pi({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function ri(M){return hn.apply(this,arguments)}function hn(){return(hn=(0,W.Z)(function*({appConfig:M,installations:k}){const Z=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function $i({p256dh:M,auth:k,endpoint:Z,vapidKey:he}){const He={web:{endpoint:Z,auth:k,p256dh:M}};return he!==ms&&(He.web.applicationPubKey=he),He}const Eo=6048e5;function Rs(M){return bs.apply(this,arguments)}function bs(){return(bs=(0,W.Z)(function*(M){const k=yield Ms(M.swRegistration,M.vapidKey),Z={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:k.endpoint,auth:fi(k.getKey("auth")),p256dh:fi(k.getKey("p256dh"))},he=yield O(M.firebaseDependencies);if(he){if(Bs(he.subscriptionOptions,Z))return Date.now()>=he.createTime+Eo?Io(M,{token:he.token,createTime:Date.now(),subscriptionOptions:Z}):he.token;try{yield tr(M.firebaseDependencies,he.token)}catch(He){console.warn(He)}return Dt(M.firebaseDependencies,Z)}return Dt(M.firebaseDependencies,Z)})).apply(this,arguments)}function wo(M){return qo.apply(this,arguments)}function qo(){return(qo=(0,W.Z)(function*(M){const k=yield O(M.firebaseDependencies);k&&(yield tr(M.firebaseDependencies,k.token),yield pe(M.firebaseDependencies));const Z=yield M.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function Io(M,k){return xs.apply(this,arguments)}function xs(){return(xs=(0,W.Z)(function*(M,k){try{const Z=yield jn(M.firebaseDependencies,k),he=Object.assign(Object.assign({},k),{token:Z,createTime:Date.now()});return yield P(M.firebaseDependencies,he),Z}catch(Z){throw yield wo(M),Z}})).apply(this,arguments)}function Dt(M,k){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,W.Z)(function*(M,k){const he={token:yield Yn(M,k),createTime:Date.now(),subscriptionOptions:k};return yield P(M,he),he.token})).apply(this,arguments)}function Ms(M,k){return qr.apply(this,arguments)}function qr(){return(qr=(0,W.Z)(function*(M,k){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gs(k)})})).apply(this,arguments)}function Bs(M,k){return k.vapidKey===M.vapidKey&&k.endpoint===M.endpoint&&k.auth===M.auth&&k.p256dh===M.p256dh}function io(M){const k={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function us(M,k){if(!k.notification)return;M.notification={};const Z=k.notification.title;Z&&(M.notification.title=Z);const he=k.notification.body;he&&(M.notification.body=he);const He=k.notification.image;He&&(M.notification.image=He)}(k,M),function so(M,k){!k.data||(M.data=k.data)}(k,M),function ua(M,k){var Z,he,He,Ze,St;if(!k.fcmOptions&&!(null===(Z=k.notification)||void 0===Z?void 0:Z.click_action))return;M.fcmOptions={};const nn=null!==(He=null===(he=k.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==He?He:null===(Ze=k.notification)||void 0===Ze?void 0:Ze.click_action;nn&&(M.fcmOptions.link=nn);const mn=null===(St=k.fcmOptions)||void 0===St?void 0:St.analytics_label;mn&&(M.fcmOptions.analyticsLabel=mn)}(k,M),k}function Zo(M){return"object"==typeof M&&!!M&&Fs in M}function bo(M,k){const Z=[];for(let he=0;he<M.length;he++)Z.push(M.charAt(he)),he<k.length&&Z.push(k.charAt(he));return Z.join("")}function F(M){return bn.create("missing-app-config-values",{valueName:M})}bo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class N{constructor(k,Z,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const He=function Bo(M){if(!M||!M.options)throw F("App Configuration Object");if(!M.name)throw F("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=M;for(const he of k)if(!Z[he])throw F(he);return{appName:M.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:He,installations:Z,analyticsProvider:he}}_delete(){return Promise.resolve()}}function J(M){return S.apply(this,arguments)}function S(){return(S=(0,W.Z)(function*(M){var k;try{M.swRegistration=yield navigator.serviceWorker.register(_o,{scope:hi}),M.swRegistration.update().catch(()=>{})}catch(Z){throw bn.create("failed-service-worker-registration",{browserErrorMessage:null===(k=Z)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function p(M,k){return g.apply(this,arguments)}function g(){return(g=(0,W.Z)(function*(M,k){if(!k&&!M.swRegistration&&(yield J(M)),k||!M.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");M.swRegistration=k}})).apply(this,arguments)}function C(M,k){return V.apply(this,arguments)}function V(){return(V=(0,W.Z)(function*(M,k){k?M.vapidKey=k:M.vapidKey||(M.vapidKey=ms)})).apply(this,arguments)}function le(){return(le=(0,W.Z)(function*(M,k){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield C(M,null==k?void 0:k.vapidKey),yield p(M,null==k?void 0:k.serviceWorkerRegistration),Rs(M)})).apply(this,arguments)}function de(M,k,Z){return Le.apply(this,arguments)}function Le(){return(Le=(0,W.Z)(function*(M,k,Z){const he=nt(k);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:Z[Fs],message_name:Z[Hs],message_time:Z[ys],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nt(M){switch(M){case Us.NOTIFICATION_CLICKED:return"notification_open";case Us.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ht(){return(Ht=(0,W.Z)(function*(M,k){const Z=k.data;if(!Z.isFirebaseMessaging)return;M.onMessageHandler&&Z.messageType===Us.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(io(Z)):M.onMessageHandler.next(io(Z)));const he=Z.data;Zo(he)&&"1"===he[Wo]&&(yield de(M,Z.messageType,he))})).apply(this,arguments)}const cn="@firebase/messaging",qt=M=>{const k=new N(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Lt(M,k){return Ht.apply(this,arguments)}(k,Z)),k},vn=M=>{const k=M.getProvider("messaging").getImmediate();return{getToken:he=>function q(M,k){return le.apply(this,arguments)}(k,he)}};function zn(){return hr.apply(this,arguments)}function hr(){return(hr=(0,W.Z)(function*(){try{yield(0,ye.eu)()}catch(M){return!1}return"undefined"!=typeof window&&(0,ye.hl)()&&(0,ye.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ln(){(0,ce._registerComponent)(new Te.wA("messaging",qt,"PUBLIC")),(0,ce._registerComponent)(new Te.wA("messaging-internal",vn,"PRIVATE")),(0,ce.registerVersion)(cn,"0.9.14"),(0,ce.registerVersion)(cn,"0.9.14","esm2017")}();const Co="analytics",la="firebase_id",Ds="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jt="https://www.googletagmanager.com/gtag/js",Vt=new Re.Yd("@firebase/analytics");function Sn(M){return Promise.all(M.map(k=>k.catch(Z=>Z)))}function fr(M,k){const Z=document.createElement("script");Z.src=`${Jt}?l=${M}&id=${k}`,Z.async=!0,document.head.appendChild(Z)}function Ci(M,k,Z,he,He,Ze){return si.apply(this,arguments)}function si(){return(si=(0,W.Z)(function*(M,k,Z,he,He,Ze){const St=he[He];try{if(St)yield k[St];else{const mn=(yield Sn(Z)).find(Hn=>Hn.measurementId===He);mn&&(yield k[mn.appId])}}catch(nn){Vt.error(nn)}M("config",He,Ze)})).apply(this,arguments)}function Ks(M,k,Z,he,He){return wr.apply(this,arguments)}function wr(){return(wr=(0,W.Z)(function*(M,k,Z,he,He){try{let Ze=[];if(He&&He.send_to){let St=He.send_to;Array.isArray(St)||(St=[St]);const nn=yield Sn(Z);for(const mn of St){const Hn=nn.find(Tn=>Tn.measurementId===mn),Tr=Hn&&k[Hn.appId];if(!Tr){Ze=[];break}Ze.push(Tr)}}0===Ze.length&&(Ze=Object.values(k)),yield Promise.all(Ze),M("event",he,He||{})}catch(Ze){Vt.error(Ze)}})).apply(this,arguments)}function Hi(){const M=window.document.getElementsByTagName("script");for(const k of Object.values(M))if(k.src&&k.src.includes(Jt))return k;return null}const Zr=new ye.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ra=new class Vs{constructor(k={},Z=1e3){this.throttleMetadata=k,this.intervalMillis=Z}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,Z){this.throttleMetadata[k]=Z}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function xu(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function ca(M){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,W.Z)(function*(M){var k;const{appId:Z,apiKey:he}=M,He={method:"GET",headers:xu(he)},Ze=Ds.replace("{app-id}",Z),St=yield fetch(Ze,He);if(200!==St.status&&304!==St.status){let nn="";try{const mn=yield St.json();(null===(k=mn.error)||void 0===k?void 0:k.message)&&(nn=mn.error.message)}catch(mn){}throw Zr.create("config-fetch-failed",{httpStatus:St.status,responseMessage:nn})}return St.json()})).apply(this,arguments)}function Si(M){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,W.Z)(function*(M,k=Ra,Z){const{appId:he,apiKey:He,measurementId:Ze}=M.options;if(!he)throw Zr.create("no-app-id");if(!He){if(Ze)return{measurementId:Ze,appId:he};throw Zr.create("no-api-key")}const St=k.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nn=new wa;return setTimeout((0,W.Z)(function*(){nn.abort()}),void 0!==Z?Z:6e4),Jo({appId:he,apiKey:He,measurementId:Ze},St,nn,k)})).apply(this,arguments)}function Jo(M,k,Z){return _i.apply(this,arguments)}function _i(){return(_i=(0,W.Z)(function*(M,{throttleEndTimeMillis:k,backoffCount:Z},he,He=Ra){const{appId:Ze,measurementId:St}=M;try{yield da(he,k)}catch(nn){if(St)return Vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${nn.message}]`),{appId:Ze,measurementId:St};throw nn}try{const nn=yield ca(M);return He.deleteThrottleMetadata(Ze),nn}catch(nn){if(!jo(nn)){if(He.deleteThrottleMetadata(Ze),St)return Vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${St} provided in the "measurementId" field in the local Firebase config. [${nn.message}]`),{appId:Ze,measurementId:St};throw nn}const mn=503===Number(nn.customData.httpStatus)?(0,ye.$s)(Z,He.intervalMillis,30):(0,ye.$s)(Z,He.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+mn,backoffCount:Z+1};return He.setThrottleMetadata(Ze,Hn),Vt.debug(`Calling attemptFetch again in ${mn} millis`),Jo(M,Hn,he,He)}})).apply(this,arguments)}function da(M,k){return new Promise((Z,he)=>{const He=Math.max(k-Date.now(),0),Ze=setTimeout(Z,He);M.addEventListener(()=>{clearTimeout(Ze),he(Zr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function jo(M){if(!(M instanceof ye.ZR&&M.customData))return!1;const k=Number(M.customData.httpStatus);return 429===k||500===k||503===k||504===k}class wa{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function Mu(){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,W.Z)(function*(){if(!(0,ye.hl)())return Vt.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ye.eu)()}catch(M){return Vt.warn(Zr.create("indexeddb-unavailable",{errorInfo:M}).message),!1}return!0})).apply(this,arguments)}function Ao(){return(Ao=(0,W.Z)(function*(M,k,Z,he,He,Ze,St){var nn;const mn=Si(M);mn.then(Ss=>{Z[Ss.measurementId]=Ss.appId,M.options.measurementId&&Ss.measurementId!==M.options.measurementId&&Vt.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Ss.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ss=>Vt.error(Ss)),k.push(mn);const Hn=Mu().then(Ss=>{if(Ss)return he.getId()}),[Tr,Tn]=yield Promise.all([mn,Hn]);Hi()||fr(Ze,Tr.measurementId),He("js",new Date);const Xr=null!==(nn=null==St?void 0:St.config)&&void 0!==nn?nn:{};return Xr.origin="firebase",Xr.update=!0,null!=Tn&&(Xr[la]=Tn),He("config",Tr.measurementId,Xr),Tr.measurementId})).apply(this,arguments)}class Xo{constructor(k){this.app=k}_delete(){return delete b[this.app.options.appId],Promise.resolve()}}let b={},w=[];const E={};let B,re,A="dataLayer",De=!1;function qn(M,k,Z){!function Xt(){const M=[];if((0,ye.ru)()&&M.push("This is a browser extension environment."),(0,ye.zI)()||M.push("Cookies are not available."),M.length>0){const k=M.map((he,He)=>`(${He+1}) ${he}`).join(" "),Z=Zr.create("invalid-analytics-context",{errorInfo:k});Vt.warn(Z.message)}}();const he=M.options.appId;if(!he)throw Zr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Zr.create("no-api-key");Vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=b[he])throw Zr.create("already-exists",{id:he});if(!De){!function Er(M){let k=[];Array.isArray(window[M])?k=window[M]:window[M]=k}(A);const{wrappedGtag:Ze,gtagCore:St}=function Ts(M,k,Z,he,He){let Ze=function(...St){window[he].push(arguments)};return window[He]&&"function"==typeof window[He]&&(Ze=window[He]),window[He]=function oo(M,k,Z,he){function Ze(){return(Ze=(0,W.Z)(function*(St,nn,mn){try{"event"===St?yield Ks(M,k,Z,nn,mn):"config"===St?yield Ci(M,k,Z,he,nn,mn):M("set",nn)}catch(Hn){Vt.error(Hn)}})).apply(this,arguments)}return function He(St,nn,mn){return Ze.apply(this,arguments)}}(Ze,M,k,Z),{gtagCore:Ze,wrappedGtag:window[He]}}(b,w,E,A,"gtag");re=Ze,B=St,De=!0}return b[he]=function zr(M,k,Z,he,He,Ze,St){return Ao.apply(this,arguments)}(M,w,E,k,B,A,Z),new Xo(M)}function Ar(){return(Ar=(0,W.Z)(function*(M,k,Z,he,He){if(He&&He.global)M("event",Z,he);else{const Ze=yield k;M("event",Z,Object.assign(Object.assign({},he),{send_to:Ze}))}})).apply(this,arguments)}function ea(){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,W.Z)(function*(){if((0,ye.ru)()||!(0,ye.zI)()||!(0,ye.hl)())return!1;try{return yield(0,ye.eu)()}catch(M){return!1}})).apply(this,arguments)}const xa="@firebase/analytics";!function Pu(){(0,ce._registerComponent)(new Te.wA(Co,(k,{options:Z})=>qn(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,ce._registerComponent)(new Te.wA("analytics-internal",function M(k){try{const Z=k.getProvider(Co).getImmediate();return{logEvent:(he,He,Ze)=>function Jl(M,k,Z,he){M=(0,ye.m9)(M),function fn(M,k,Z,he,He){return Ar.apply(this,arguments)}(re,b[M.app.options.appId],k,Z,he).catch(He=>Vt.error(He))}(Z,he,He,Ze)}}catch(Z){throw Zr.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,ce.registerVersion)(xa,"0.7.10"),(0,ce.registerVersion)(xa,"0.7.10","esm2017")}();var id=L(4408),Ws=L(7565);const Wa=new class Gi extends Ws.v{}(class Ka extends id.o{constructor(k,Z){super(k,Z),this.scheduler=k,this.work=Z}schedule(k,Z=0){return Z>0?super.schedule(k,Z):(this.delay=Z,this.state=k,this.scheduler.flush(this),this)}execute(k,Z){return Z>0||this.closed?super.execute(k,Z):this._execute(k,Z)}requestAsyncId(k,Z,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(k,Z,he):k.flush(this)}});var pa=L(4986),yl=L(8505),Qe=L(5363),Os=L(9468);const qs=new _.GfV("7.4.1"),qa="__angularfire_symbol__analyticsIsSupportedValue",lo="__angularfire_symbol__analyticsIsSupported",js="__angularfire_symbol__remoteConfigIsSupportedValue",ga="__angularfire_symbol__remoteConfigIsSupported",Ho="__angularfire_symbol__messagingIsSupportedValue",vl="__angularfire_symbol__messagingIsSupported";function Ma(M,k,Z){if(k){if(1===k.length)return k[0];const Ze=k.filter(St=>St.app===Z);if(1===Ze.length)return Ze[0]}return Z.container.getProvider(M).getImmediate({optional:!0})}globalThis[lo]||(globalThis[lo]=ea().then(M=>globalThis[qa]=M).catch(()=>globalThis[qa]=!1)),globalThis[vl]||(globalThis[vl]=zn().then(M=>globalThis[Ho]=M).catch(()=>globalThis[Ho]=!1)),globalThis[ga]||(globalThis[ga]=Yi().then(M=>globalThis[js]=M).catch(()=>globalThis[js]=!1));const Za=(M,k)=>{const Z=k?[k]:(0,K.C6)(),he=[];return Z.forEach(He=>{He.container.getProvider(M).instances.forEach(St=>{he.includes(St)||he.push(St)})}),he};function ta(){}class Oi{constructor(k,Z=Wa){this.zone=k,this.delegate=Z}now(){return this.delegate.now()}schedule(k,Z,he){const He=this.zone;return this.delegate.schedule(function(St){He.runGuarded(()=>{k.apply(this,[St])})},Z,he)}}class Ya{constructor(k){this.zone=k,this.task=null}call(k,Z){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),Z.pipe((0,yl.b)({next:he,complete:he,error:he})).subscribe(k).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cs=(()=>{class M{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Oi(Zone.current)),this.insideAngular=Z.run(()=>new Oi(Zone.current,pa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(Z){return new(Z||M)(_.LFG(_.R0b))},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function br(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function ds(M){return M.pipe((0,Qe.Q)(br().outsideAngular))}function hs(M){return br(),function Pa(M){return function(Z){return(Z=Z.lift(new Ya(M.ngZone))).pipe((0,Os.R)(M.outsideAngular),(0,Qe.Q)(M.insideAngular))}}(br())(M)}},2090:(Ft,je,L)=>{L.d(je,{$s:()=>ln,BH:()=>Tt,G6:()=>vt,L:()=>Se,LL:()=>Ve,Mn:()=>Ue,Sg:()=>Xe,UG:()=>Ke,US:()=>Te,ZB:()=>oe,ZR:()=>Ge,b$:()=>ut,d:()=>$e,eu:()=>tt,hl:()=>X,jU:()=>st,m9:()=>Un,ne:()=>Mn,pd:()=>Qn,r3:()=>xn,ru:()=>be,tV:()=>Ce,uI:()=>Ct,vZ:()=>Bn,w1:()=>ve,xO:()=>Nn,xb:()=>on,z$:()=>at,zI:()=>ue,zd:()=>Kn});const ce=function(ie){const me=[];let Ie=0;for(let lt=0;lt<ie.length;lt++){let fe=ie.charCodeAt(lt);fe<128?me[Ie++]=fe:fe<2048?(me[Ie++]=fe>>6|192,me[Ie++]=63&fe|128):55296==(64512&fe)&&lt+1<ie.length&&56320==(64512&ie.charCodeAt(lt+1))?(fe=65536+((1023&fe)<<10)+(1023&ie.charCodeAt(++lt)),me[Ie++]=fe>>18|240,me[Ie++]=fe>>12&63|128,me[Ie++]=fe>>6&63|128,me[Ie++]=63&fe|128):(me[Ie++]=fe>>12|224,me[Ie++]=fe>>6&63|128,me[Ie++]=63&fe|128)}return me},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,me){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ie=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let fe=0;fe<ie.length;fe+=3){const Be=ie[fe],ot=fe+1<ie.length,Bt=ot?ie[fe+1]:0,sn=fe+2<ie.length,Yt=sn?ie[fe+2]:0;let Zn=(15&Bt)<<2|Yt>>6,mr=63&Yt;sn||(mr=64,ot||(Zn=64)),lt.push(Ie[Be>>2],Ie[(3&Be)<<4|Bt>>4],Ie[Zn],Ie[mr])}return lt.join("")},encodeString(ie,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(ie):this.encodeByteArray(ce(ie),me)},decodeString(ie,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(ie):function(ie){const me=[];let Ie=0,lt=0;for(;Ie<ie.length;){const fe=ie[Ie++];if(fe<128)me[lt++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const Be=ie[Ie++];me[lt++]=String.fromCharCode((31&fe)<<6|63&Be)}else if(fe>239&&fe<365){const sn=((7&fe)<<18|(63&ie[Ie++])<<12|(63&ie[Ie++])<<6|63&ie[Ie++])-65536;me[lt++]=String.fromCharCode(55296+(sn>>10)),me[lt++]=String.fromCharCode(56320+(1023&sn))}else{const Be=ie[Ie++],ot=ie[Ie++];me[lt++]=String.fromCharCode((15&fe)<<12|(63&Be)<<6|63&ot)}}return me.join("")}(this.decodeStringToByteArray(ie,me))},decodeStringToByteArray(ie,me){this.init_();const Ie=me?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let fe=0;fe<ie.length;){const Be=Ie[ie.charAt(fe++)],Bt=fe<ie.length?Ie[ie.charAt(fe)]:0;++fe;const Yt=fe<ie.length?Ie[ie.charAt(fe)]:64;++fe;const gn=fe<ie.length?Ie[ie.charAt(fe)]:64;if(++fe,null==Be||null==Bt||null==Yt||null==gn)throw Error();lt.push(Be<<2|Bt>>4),64!==Yt&&(lt.push(Bt<<4&240|Yt>>2),64!==gn&&lt.push(Yt<<6&192|gn))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},Se=function(ie){return function(ie){const me=ce(ie);return Te.encodeByteArray(me,!0)}(ie).replace(/\./g,"")},Ce=function(ie){try{return Te.decodeString(ie,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function oe(ie,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return me}for(const Ie in me)!me.hasOwnProperty(Ie)||!Me(Ie)||(ie[Ie]=oe(ie[Ie],me[Ie]));return ie}function Me(ie){return"__proto__"!==ie}class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,Ie)=>{this.resolve=me,this.reject=Ie})}wrapCallback(me){return(Ie,lt)=>{Ie?this.reject(Ie):this.resolve(lt),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(Ie):me(Ie,lt))}}}function Xe(ie,me){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const lt=me||"demo-project",fe=ie.iat||0,Be=ie.sub||ie.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:fe,exp:fe+3600,auth_time:fe,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(ot)),""].join(".")}function at(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ct(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function st(){return"object"==typeof self&&self.self===self}function be(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){return at().indexOf("Electron/")>=0}function ve(){const ie=at();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function Ue(){return at().indexOf("MSAppHost/")>=0}function vt(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function tt(){return new Promise((ie,me)=>{try{let Ie=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(lt);fe.onsuccess=()=>{fe.result.close(),Ie||self.indexedDB.deleteDatabase(lt),ie(!0)},fe.onupgradeneeded=()=>{Ie=!1},fe.onerror=()=>{var Be;me((null===(Be=fe.error)||void 0===Be?void 0:Be.message)||"")}}catch(Ie){me(Ie)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ge extends Error{constructor(me,Ie,lt){super(Ie),this.code=me,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(me,Ie,lt){this.service=me,this.serviceName=Ie,this.errors=lt}create(me,...Ie){const lt=Ie[0]||{},fe=`${this.service}/${me}`,Be=this.errors[me],ot=Be?function Et(ie,me){return ie.replace(Kt,(Ie,lt)=>{const fe=me[lt];return null!=fe?String(fe):`<${lt}?>`})}(Be,lt):"Error";return new Ge(fe,`${this.serviceName}: ${ot} (${fe}).`,lt)}}const Kt=/\{\$([^}]+)}/g;function xn(ie,me){return Object.prototype.hasOwnProperty.call(ie,me)}function on(ie){for(const me in ie)if(Object.prototype.hasOwnProperty.call(ie,me))return!1;return!0}function Bn(ie,me){if(ie===me)return!0;const Ie=Object.keys(ie),lt=Object.keys(me);for(const fe of Ie){if(!lt.includes(fe))return!1;const Be=ie[fe],ot=me[fe];if($n(Be)&&$n(ot)){if(!Bn(Be,ot))return!1}else if(Be!==ot)return!1}for(const fe of lt)if(!Ie.includes(fe))return!1;return!0}function $n(ie){return null!==ie&&"object"==typeof ie}function Nn(ie){const me=[];for(const[Ie,lt]of Object.entries(ie))Array.isArray(lt)?lt.forEach(fe=>{me.push(encodeURIComponent(Ie)+"="+encodeURIComponent(fe))}):me.push(encodeURIComponent(Ie)+"="+encodeURIComponent(lt));return me.length?"&"+me.join("&"):""}function Kn(ie){const me={};return ie.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[fe,Be]=lt.split("=");me[decodeURIComponent(fe)]=decodeURIComponent(Be)}}),me}function Qn(ie){const me=ie.indexOf("?");if(!me)return"";const Ie=ie.indexOf("#",me);return ie.substring(me,Ie>0?Ie:void 0)}function Mn(ie,me){const Ie=new jt(ie,me);return Ie.subscribe.bind(Ie)}class jt{constructor(me,Ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ie,this.task.then(()=>{me(this)}).catch(lt=>{this.error(lt)})}next(me){this.forEachObserver(Ie=>{Ie.next(me)})}error(me){this.forEachObserver(Ie=>{Ie.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,Ie,lt){let fe;if(void 0===me&&void 0===Ie&&void 0===lt)throw new Error("Missing Observer.");fe=function Ir(ie,me){if("object"!=typeof ie||null===ie)return!1;for(const Ie of me)if(Ie in ie&&"function"==typeof ie[Ie])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:Ie,complete:lt},void 0===fe.next&&(fe.next=lr),void 0===fe.error&&(fe.error=lr),void 0===fe.complete&&(fe.complete=lr);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch(ot){}}),this.observers.push(fe),Be}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let Ie=0;Ie<this.observers.length;Ie++)this.sendOne(Ie,me)}sendOne(me,Ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{Ie(this.observers[me])}catch(lt){"undefined"!=typeof console&&console.error&&console.error(lt)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lr(){}function ln(ie,me=1e3,Ie=2){const lt=me*Math.pow(Ie,ie),fe=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+fe)}function Un(ie){return ie&&ie._delegate?ie._delegate:ie}},2986:(Ft,je,L)=>{var _=L(2313),K=L(5e3),W=L(7954);const Te=[{path:"",loadChildren:()=>L.e(601).then(L.bind(L,5601)).then(F=>F.WebsiteModule),data:{preload:!0}},{path:"cms",loadChildren:()=>L.e(832).then(L.bind(L,1832)).then(F=>F.CmsModule),canActivate:[(()=>{class F{canActivate(J,S){return!0}}return F.\u0275fac=function(J){return new(J||F)},F.\u0275prov=K.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()]},{path:"**",component:(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(J){return new(J||F)},F.\u0275cmp=K.Xpm({type:F,selectors:[["app-not-found"]],decls:2,vars:0,template:function(J,S){1&J&&(K.TgZ(0,"p"),K._uU(1,"not-found works!"),K.qZA())},styles:[""]}),F})()}];let Re=(()=>{class F{}return F.\u0275fac=function(J){return new(J||F)},F.\u0275mod=K.oAB({type:F}),F.\u0275inj=K.cJS({imports:[[W.Bz.forRoot(Te)],W.Bz]}),F})();var Se=L(8995);let Ce=(()=>{class F{constructor(J){this.translate=J,J.setDefaultLang("en"),J.use("en")}}return F.\u0275fac=function(J){return new(J||F)(K.Y36(Se.sK))},F.\u0275cmp=K.Xpm({type:F,selectors:[["app-root"]],decls:1,vars:0,template:function(J,S){1&J&&K._UZ(0,"router-outlet")},directives:[W.lC],styles:[""]}),F})();var ae=L(40),oe=L(520),Me=L(6360);const Tt_firebase={apiKey:"AIzaSyC97tTXJG8HEQVXtOsQOtz9hR2969GYNHM",authDomain:"personalweb-juamber.firebaseapp.com",projectId:"personalweb-juamber",storageBucket:"personalweb-juamber.appspot.com",messagingSenderId:"382959106952",appId:"1:382959106952:web:3d2f1c42c2f3589f2b583d",measurementId:"G-EHH7WYMD1Q"};var Xe=L(2011),at=L(7407),Ct=L(8306),Ke=L(9646),st=L(8996),be=L(8372),ut=L(4004),$e=L(3900),ve=L(5813),Ue=L(3942),wt=L(5861),vt=L(9681),X=L(2090),tt=L(4859);const ue="firebasestorage.googleapis.com",Pe="storageBucket";class Ve extends X.ZR{constructor(N,J){super(Et(N),`Firebase Storage: ${J} (${Et(N)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ve.prototype)}_codeEquals(N){return Et(N)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(N){this.customData.serverResponse=N,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Et(F){return"storage/"+F}function Kt(){return new Ve("unknown","An unknown error occurred, please check the error payload for server response.")}function Ut(){return new Ve("canceled","User canceled the upload/download.")}function Gn(){return new Ve("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Nn(F){return new Ve("invalid-argument",F)}function Kn(){return new Ve("app-deleted","The Firebase app was deleted.")}function Qn(F){return new Ve("invalid-root-operation","The operation '"+F+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cn(F,N){return new Ve("invalid-format","String does not match format '"+F+"': "+N)}function Mn(F){throw new Ve("internal-error","Internal error: "+F)}class jt{constructor(N,J){this.bucket=N,this.path_=J}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const N=encodeURIComponent;return"/b/"+N(this.bucket)+"/o/"+N(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(N,J){let S;try{S=jt.makeFromUrl(N,J)}catch(p){return new jt(N,"")}if(""===S.path)return S;throw function rn(F){return new Ve("invalid-default-bucket","Invalid default bucket '"+F+"'.")}(N)}static makeFromUrl(N,J){let S=null;const p="([A-Za-z0-9.\\-_]+)",V=new RegExp("^gs://"+p+"(/(.*))?$","i");function le(zn){zn.path_=decodeURIComponent(zn.path)}const Le=J.replace(/[.]/g,"\\."),Ln=[{regex:V,indices:{bucket:1,path:3},postModify:function g(zn){"/"===zn.path.charAt(zn.path.length-1)&&(zn.path_=zn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Le}/v[A-Za-z0-9_]+/b/${p}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:le},{regex:new RegExp(`^https?://${J===ue?"(?:storage.googleapis.com|storage.cloud.google.com)":J}/${p}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:le}];for(let zn=0;zn<Ln.length;zn++){const hr=Ln[zn],ii=hr.regex.exec(N);if(ii){let Or=ii[hr.indices.path];Or||(Or=""),S=new jt(ii[hr.indices.bucket],Or),hr.postModify(S);break}}if(null==S)throw function xn(F){return new Ve("invalid-url","Invalid URL '"+F+"'.")}(N);return S}}class Fr{constructor(N){this.promise_=Promise.reject(N)}getPromise(){return this.promise_}cancel(N=!1){}}function we(F){return"string"==typeof F||F instanceof String}function xe(F){return _t()&&F instanceof Blob}function _t(){return"undefined"!=typeof Blob}function ze(F,N,J,S){if(S<N)throw Nn(`Invalid value for '${F}'. Expected ${N} or greater.`);if(S>J)throw Nn(`Invalid value for '${F}'. Expected ${J} or less.`)}function mt(F,N,J){let S=N;return null==J&&(S=`https://${N}`),`${J}://${S}/v0${F}`}function Nt(F){const N=encodeURIComponent;let J="?";for(const S in F)F.hasOwnProperty(S)&&(J=J+(N(S)+"=")+N(F[S])+"&");return J=J.slice(0,-1),J}var wn=(()=>{return(F=wn||(wn={}))[F.NO_ERROR=0]="NO_ERROR",F[F.NETWORK_ERROR=1]="NETWORK_ERROR",F[F.ABORT=2]="ABORT",wn;var F})();class pn{constructor(N,J,S,p,g,C,V,q,le,de,Le){this.url_=N,this.method_=J,this.headers_=S,this.body_=p,this.successCodes_=g,this.additionalRetryCodes_=C,this.callback_=V,this.errorCallback_=q,this.timeout_=le,this.progressCallback_=de,this.connectionFactory_=Le,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((nt,Lt)=>{this.resolve_=nt,this.reject_=Lt,this.start_()})}start_(){const J=(S,p)=>{const g=this.resolve_,C=this.reject_,V=p.connection;if(p.wasSuccessCode)try{const q=this.callback_(V,V.getResponse());!function Kr(F){return void 0!==F}(q)?g():g(q)}catch(q){C(q)}else if(null!==V){const q=Kt();q.serverResponse=V.getErrorText(),C(this.errorCallback_?this.errorCallback_(V,q):q)}else C(p.canceled?this.appDelete_?Kn():Ut():function xt(){return new Ve("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?J(0,new ln(!1,null,!0)):this.backoffId_=function Ir(F,N,J){let S=1,p=null,g=null,C=!1,V=0;function q(){return 2===V}let le=!1;function de(...an){le||(le=!0,N.apply(null,an))}function Le(an){p=setTimeout(()=>{p=null,F(Lt,q())},an)}function nt(){g&&clearTimeout(g)}function Lt(an,...qt){if(le)return void nt();if(an)return nt(),void de.call(null,an,...qt);if(q()||C)return nt(),void de.call(null,an,...qt);let Ln;S<64&&(S*=2),1===V?(V=2,Ln=0):Ln=1e3*(S+Math.random()),Le(Ln)}let Ht=!1;function cn(an){Ht||(Ht=!0,nt(),!le&&(null!==p?(an||(V=2),clearTimeout(p),Le(0)):an||(V=1)))}return Le(0),g=setTimeout(()=>{C=!0,cn(!0)},J),cn}((S,p)=>{if(p)return void S(!1,new ln(!1,null,!0));const g=this.connectionFactory_();this.pendingConnection_=g;const C=V=>{null!==this.progressCallback_&&this.progressCallback_(V.loaded,V.lengthComputable?V.total:-1)};null!==this.progressCallback_&&g.addUploadProgressListener(C),g.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&g.removeUploadProgressListener(C),this.pendingConnection_=null;const V=g.getErrorCode()===wn.NO_ERROR,q=g.getStatus();if(!V||this.isRetryStatusCode_(q)){const de=g.getErrorCode()===wn.ABORT;return void S(!1,new ln(!1,null,de))}const le=-1!==this.successCodes_.indexOf(q);S(!0,new ln(le,g))})},J,this.timeout_)}getPromise(){return this.promise_}cancel(N){this.canceled_=!0,this.appDelete_=N||!1,null!==this.backoffId_&&function lr(F){F(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(N){const J=N>=500&&N<600,p=-1!==[408,429].indexOf(N),g=-1!==this.additionalRetryCodes_.indexOf(N);return J||p||g}}class ln{constructor(N,J,S){this.wasSuccessCode=N,this.connection=J,this.canceled=!!S}}function lt(...F){const N=function Ie(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==N){const J=new N;for(let S=0;S<F.length;S++)J.append(F[S]);return J.getBlob()}if(_t())return new Blob(F);throw new Ve("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ot={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bt{constructor(N,J){this.data=N,this.contentType=J||null}}function sn(F,N){switch(F){case ot.RAW:return new Bt(Yt(N));case ot.BASE64:case ot.BASE64URL:return new Bt(gn(F,N));case ot.DATA_URL:return new Bt(function mr(F){const N=new Zn(F);return N.base64?gn(ot.BASE64,N.rest):function gr(F){let N;try{N=decodeURIComponent(F)}catch(J){throw Cn(ot.DATA_URL,"Malformed data URL.")}return Yt(N)}(N.rest)}(N),function gi(F){return new Zn(F).contentType}(N))}throw Kt()}function Yt(F){const N=[];for(let J=0;J<F.length;J++){let S=F.charCodeAt(J);S<=127?N.push(S):S<=2047?N.push(192|S>>6,128|63&S):55296==(64512&S)?J<F.length-1&&56320==(64512&F.charCodeAt(J+1))?(S=65536|(1023&S)<<10|1023&F.charCodeAt(++J),N.push(240|S>>18,128|S>>12&63,128|S>>6&63,128|63&S)):N.push(239,191,189):56320==(64512&S)?N.push(239,191,189):N.push(224|S>>12,128|S>>6&63,128|63&S)}return new Uint8Array(N)}function gn(F,N){switch(F){case ot.BASE64:{const p=-1!==N.indexOf("-"),g=-1!==N.indexOf("_");if(p||g)throw Cn(F,"Invalid character '"+(p?"-":"_")+"' found: is it base64url encoded?");break}case ot.BASE64URL:{const p=-1!==N.indexOf("+"),g=-1!==N.indexOf("/");if(p||g)throw Cn(F,"Invalid character '"+(p?"+":"/")+"' found: is it base64 encoded?");N=N.replace(/-/g,"+").replace(/_/g,"/");break}}let J;try{J=function Be(F){return atob(F)}(N)}catch(p){throw Cn(F,"Invalid character found")}const S=new Uint8Array(J.length);for(let p=0;p<J.length;p++)S[p]=J.charCodeAt(p);return S}class Zn{constructor(N){this.base64=!1,this.contentType=null;const J=N.match(/^data:([^,]+)?,/);if(null===J)throw Cn(ot.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const S=J[1]||null;null!=S&&(this.base64=function We(F,N){return F.length>=N.length&&F.substring(F.length-N.length)===N}(S,";base64"),this.contentType=this.base64?S.substring(0,S.length-7):S),this.rest=N.substring(N.indexOf(",")+1)}}class Ee{constructor(N,J){let S=0,p="";xe(N)?(this.data_=N,S=N.size,p=N.type):N instanceof ArrayBuffer?(J?this.data_=new Uint8Array(N):(this.data_=new Uint8Array(N.byteLength),this.data_.set(new Uint8Array(N))),S=this.data_.length):N instanceof Uint8Array&&(J?this.data_=N:(this.data_=new Uint8Array(N.length),this.data_.set(N)),S=N.length),this.size_=S,this.type_=p}size(){return this.size_}type(){return this.type_}slice(N,J){if(xe(this.data_)){const p=function fe(F,N,J){return F.webkitSlice?F.webkitSlice(N,J):F.mozSlice?F.mozSlice(N,J):F.slice?F.slice(N,J):null}(this.data_,N,J);return null===p?null:new Ee(p)}{const S=new Uint8Array(this.data_.buffer,N,J-N);return new Ee(S,!0)}}static getBlob(...N){if(_t()){const J=N.map(S=>S instanceof Ee?S.data_:S);return new Ee(lt.apply(null,J))}{const J=N.map(C=>we(C)?sn(ot.RAW,C).data:C.data_);let S=0;J.forEach(C=>{S+=C.byteLength});const p=new Uint8Array(S);let g=0;return J.forEach(C=>{for(let V=0;V<C.length;V++)p[g++]=C[V]}),new Ee(p,!0)}}uploadData(){return this.data_}}function ne(F){let N;try{N=JSON.parse(F)}catch(J){return null}return function ct(F){return"object"==typeof F&&!Array.isArray(F)}(N)?N:null}function en(F){const N=F.lastIndexOf("/",F.length-2);return-1===N?F:F.slice(N+1)}function yn(F,N){return N}class Pn{constructor(N,J,S,p){this.server=N,this.local=J||N,this.writable=!!S,this.xform=p||yn}}let Hr=null;function vr(){if(Hr)return Hr;const F=[];F.push(new Pn("bucket")),F.push(new Pn("generation")),F.push(new Pn("metageneration")),F.push(new Pn("name","fullPath",!0));const J=new Pn("name");J.xform=function N(g,C){return function Fi(F){return!we(F)||F.length<2?F:en(F)}(C)},F.push(J);const p=new Pn("size");return p.xform=function S(g,C){return void 0!==C?Number(C):C},F.push(p),F.push(new Pn("timeCreated")),F.push(new Pn("updated")),F.push(new Pn("md5Hash",null,!0)),F.push(new Pn("cacheControl",null,!0)),F.push(new Pn("contentDisposition",null,!0)),F.push(new Pn("contentEncoding",null,!0)),F.push(new Pn("contentLanguage",null,!0)),F.push(new Pn("contentType",null,!0)),F.push(new Pn("metadata","customMetadata",!0)),Hr=F,Hr}function ni(F,N,J){const S=ne(N);return null===S?null:function Mr(F,N,J){const S={type:"file"},p=J.length;for(let g=0;g<p;g++){const C=J[g];S[C.local]=C.xform(S,N[C.server])}return function ai(F,N){Object.defineProperty(F,"ref",{get:function J(){const g=new jt(F.bucket,F.fullPath);return N._makeStorageReference(g)}})}(S,F),S}(F,S,J)}function Pt(F,N){const J={},S=N.length;for(let p=0;p<S;p++){const g=N[p];g.writable&&(J[g.server]=F[g.local])}return JSON.stringify(J)}const tn="prefixes";class sr{constructor(N,J,S,p){this.url=N,this.method=J,this.handler=S,this.timeout=p,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Gr(F){if(!F)throw Kt()}function dr(F,N){return function J(S,p){const g=ni(F,p,N);return Gr(null!==g),g}}function In(F){return function N(J,S){let p;return p=401===J.getStatus()?J.getErrorText().includes("Firebase App Check token is invalid")?function et(){return new Ve("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ee(){return new Ve("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===J.getStatus()?function At(F){return new Ve("quota-exceeded","Quota for bucket '"+F+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(F.bucket):403===J.getStatus()?function gt(F){return new Ve("unauthorized","User does not have permission to access '"+F+"'.")}(F.path):S,p.serverResponse=S.serverResponse,p}}function bi(F){const N=In(F);return function J(S,p){let g=N(S,p);return 404===S.getStatus()&&(g=function Ye(F){return new Ve("object-not-found","Object '"+F+"' does not exist.")}(F.path)),g.serverResponse=p.serverResponse,g}}function ns(F,N,J){const p=mt(N.fullServerUrl(),F.host,F._protocol),C=F.maxOperationRetryTime,V=new sr(p,"GET",dr(F,J),C);return V.errorHandler=bi(N),V}function Es(F,N,J,S,p){const g={};g.prefix=N.isRoot?"":N.path+"/",J&&J.length>0&&(g.delimiter=J),S&&(g.pageToken=S),p&&(g.maxResults=p);const V=mt(N.bucketOnlyServerUrl(),F.host,F._protocol),le=F.maxOperationRetryTime,de=new sr(V,"GET",function ui(F,N){return function J(S,p){const g=function Ii(F,N,J){const S=ne(J);return null===S?null:function wi(F,N,J){const S={prefixes:[],items:[],nextPageToken:J.nextPageToken};if(J[tn])for(const p of J[tn]){const g=p.replace(/\/$/,""),C=F._makeStorageReference(new jt(N,g));S.prefixes.push(C)}if(J.items)for(const p of J.items){const g=F._makeStorageReference(new jt(N,p.name));S.items.push(g)}return S}(F,N,S)}(F,N,p);return Gr(null!==g),g}}(F,N.bucket),le);return de.urlParams=g,de.errorHandler=In(N),de}function er(F,N,J){const S=Object.assign({},J);return S.fullPath=F.path,S.size=N.size(),S.contentType||(S.contentType=function Qr(F,N){return F&&F.contentType||N&&N.type()||"application/octet-stream"}(null,N)),S}class xi{constructor(N,J,S,p){this.current=N,this.total=J,this.finalized=!!S,this.metadata=p||null}}function Sr(F,N){let J=null;try{J=F.getResponseHeader("X-Goog-Upload-Status")}catch(p){Gr(!1)}return Gr(!!J&&-1!==(N||["active"]).indexOf(J)),J}const qi={STATE_CHANGED:"state_changed"},Wr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function is(F){switch(F){case"running":case"pausing":case"canceling":return Wr.RUNNING;case"paused":return Wr.PAUSED;case"success":return Wr.SUCCESS;case"canceled":return Wr.CANCELED;default:return Wr.ERROR}}class vo{constructor(N,J,S){if(function ti(F){return"function"==typeof F}(N)||null!=J||null!=S)this.next=N,this.error=null!=J?J:void 0,this.complete=null!=S?S:void 0;else{const g=N;this.next=g.next,this.error=g.error,this.complete=g.complete}}}function yr(F){return(...N)=>{Promise.resolve().then(()=>F(...N))}}class Oe extends class ps{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wn.NO_ERROR,this.sendPromise_=new Promise(N=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wn.ABORT,N()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wn.NETWORK_ERROR,N()}),this.xhr_.addEventListener("load",()=>{N()})})}send(N,J,S,p){if(this.sent_)throw Mn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(J,N,!0),void 0!==p)for(const g in p)p.hasOwnProperty(g)&&this.xhr_.setRequestHeader(g,p[g].toString());return void 0!==S?this.xhr_.send(S):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(N){return-1}}getResponse(){if(!this.sent_)throw Mn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(N){return this.xhr_.getResponseHeader(N)}addUploadProgressListener(N){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",N)}removeUploadProgressListener(N){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",N)}}{initXhr(){this.xhr_.responseType="text"}}function ge(){return new Oe}class _r{constructor(N,J,S=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=N,this._blob=J,this._metadata=S,this._mappings=vr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=p=>{this._request=void 0,this._chunkMultiplier=1,p._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=p,this._transition("error"))},this._metadataErrorHandler=p=>{this._request=void 0,p._codeEquals("canceled")?this.completeTransitions_():(this._error=p,this._transition("error"))},this._promise=new Promise((p,g)=>{this._resolve=p,this._reject=g,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const N=this._transferred;return J=>this._updateProgress(N+J)}_shouldDoResumable(N){return N.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(N){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([J,S])=>{switch(this._state){case"running":N(J,S);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((N,J)=>{const S=function mi(F,N,J,S,p){const g=N.bucketOnlyServerUrl(),C=er(N,S,p),V={name:C.fullPath},q=mt(g,F.host,F._protocol),de={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${S.size()}`,"X-Goog-Upload-Header-Content-Type":C.contentType,"Content-Type":"application/json; charset=utf-8"},Le=Pt(C,J),Ht=new sr(q,"POST",function Lt(cn){let an;Sr(cn);try{an=cn.getResponseHeader("X-Goog-Upload-URL")}catch(qt){Gr(!1)}return Gr(we(an)),an},F.maxUploadRetryTime);return Ht.urlParams=V,Ht.headers=de,Ht.body=Le,Ht.errorHandler=In(N),Ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(S,ge,N,J);this._request=p,p.getPromise().then(g=>{this._request=void 0,this._uploadUrl=g,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const N=this._uploadUrl;this._resolveToken((J,S)=>{const p=function rs(F,N,J,S){const q=new sr(J,"POST",function g(le){const de=Sr(le,["active","final"]);let Le=null;try{Le=le.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Lt){Gr(!1)}Le||Gr(!1);const nt=Number(Le);return Gr(!isNaN(nt)),new xi(nt,S.size(),"final"===de)},F.maxUploadRetryTime);return q.headers={"X-Goog-Upload-Command":"query"},q.errorHandler=In(N),q}(this._ref.storage,this._ref._location,N,this._blob),g=this._ref.storage._makeRequest(p,ge,J,S);this._request=g,g.getPromise().then(C=>{C=C,this._request=void 0,this._updateProgress(C.current),this._needToFetchStatus=!1,C.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const N=262144*this._chunkMultiplier,J=new xi(this._transferred,this._blob.size()),S=this._uploadUrl;this._resolveToken((p,g)=>{let C;try{C=function di(F,N,J,S,p,g,C,V){const q=new xi(0,0);if(C?(q.current=C.current,q.total=C.total):(q.current=0,q.total=S.size()),S.size()!==q.total)throw function Bn(){return new Ve("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const le=q.total-q.current;let de=le;p>0&&(de=Math.min(de,p));const Le=q.current,Ht={"X-Goog-Upload-Command":de===le?"upload, finalize":"upload","X-Goog-Upload-Offset":`${q.current}`},cn=S.slice(Le,Le+de);if(null===cn)throw Gn();const Ln=new sr(J,"POST",function an(zn,hr){const ii=Sr(zn,["active","final"]),Vr=q.current+de,Or=S.size();let Ti;return Ti="final"===ii?dr(N,g)(zn,hr):null,new xi(Vr,Or,"final"===ii,Ti)},N.maxUploadRetryTime);return Ln.headers=Ht,Ln.body=cn.uploadData(),Ln.progressCallback=V||null,Ln.errorHandler=In(F),Ln}(this._ref._location,this._ref.storage,S,this._blob,N,this._mappings,J,this._makeProgressCallback())}catch(q){return this._error=q,void this._transition("error")}const V=this._ref.storage._makeRequest(C,ge,p,g);this._request=V,V.getPromise().then(q=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(q.current),q.finalized?(this._metadata=q.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((N,J)=>{const S=ns(this._ref.storage,this._ref._location,this._mappings),p=this._ref.storage._makeRequest(S,ge,N,J);this._request=p,p.getPromise().then(g=>{this._request=void 0,this._metadata=g,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((N,J)=>{const S=function Ui(F,N,J,S,p){const g=N.bucketOnlyServerUrl(),C={"X-Goog-Upload-Protocol":"multipart"},q=function V(){let Ln="";for(let zn=0;zn<2;zn++)Ln+=Math.random().toString().slice(2);return Ln}();C["Content-Type"]="multipart/related; boundary="+q;const le=er(N,S,p),de=Pt(le,J),Lt=Ee.getBlob("--"+q+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+de+"\r\n--"+q+"\r\nContent-Type: "+le.contentType+"\r\n\r\n",S,"\r\n--"+q+"--");if(null===Lt)throw Gn();const Ht={name:le.fullPath},cn=mt(g,F.host,F._protocol),qt=F.maxUploadRetryTime,vn=new sr(cn,"POST",dr(F,J),qt);return vn.urlParams=Ht,vn.headers=C,vn.body=Lt.uploadData(),vn.errorHandler=In(N),vn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),p=this._ref.storage._makeRequest(S,ge,N,J);this._request=p,p.getPromise().then(g=>{this._request=void 0,this._metadata=g,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(N){const J=this._transferred;this._transferred=N,this._transferred!==J&&this._notifyObservers()}_transition(N){if(this._state!==N)switch(N){case"canceling":case"pausing":this._state=N,void 0!==this._request&&this._request.cancel();break;case"running":const J="paused"===this._state;this._state=N,J&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=N,this._notifyObservers();break;case"canceled":this._error=Ut(),this._state=N,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const N=is(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:N,metadata:this._metadata,task:this,ref:this._ref}}on(N,J,S,p){const g=new vo(J||void 0,S||void 0,p||void 0);return this._addObserver(g),()=>{this._removeObserver(g)}}then(N,J){return this._promise.then(N,J)}catch(N){return this.then(null,N)}_addObserver(N){this._observers.push(N),this._notifyObserver(N)}_removeObserver(N){const J=this._observers.indexOf(N);-1!==J&&this._observers.splice(J,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(J=>{this._notifyObserver(J)})}_finishPromise(){if(void 0!==this._resolve){let N=!0;switch(is(this._state)){case Wr.SUCCESS:yr(this._resolve.bind(null,this.snapshot))();break;case Wr.CANCELED:case Wr.ERROR:yr(this._reject.bind(null,this._error))();break;default:N=!1}N&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(N){switch(is(this._state)){case Wr.RUNNING:case Wr.PAUSED:N.next&&yr(N.next.bind(N,this.snapshot))();break;case Wr.SUCCESS:N.complete&&yr(N.complete.bind(N))();break;default:N.error&&yr(N.error.bind(N,this._error))()}}resume(){const N="paused"===this._state||"pausing"===this._state;return N&&this._transition("running"),N}pause(){const N="running"===this._state;return N&&this._transition("pausing"),N}cancel(){const N="running"===this._state||"pausing"===this._state;return N&&this._transition("canceling"),N}}class Pr{constructor(N,J){this._service=N,this._location=J instanceof jt?J:jt.makeFromUrl(J,N.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(N,J){return new Pr(N,J)}get root(){const N=new jt(this._location.bucket,"");return this._newRef(this._service,N)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return en(this._location.path)}get storage(){return this._service}get parent(){const N=function ke(F){if(0===F.length)return null;const N=F.lastIndexOf("/");return-1===N?"":F.slice(0,N)}(this._location.path);if(null===N)return null;const J=new jt(this._location.bucket,N);return new Pr(this._service,J)}_throwIfRoot(N){if(""===this._location.path)throw Qn(N)}}function Yi(F,N,J){return no.apply(this,arguments)}function no(){return(no=(0,wt.Z)(function*(F,N,J){const p=yield _o(F,{pageToken:J});N.prefixes.push(...p.prefixes),N.items.push(...p.items),null!=p.nextPageToken&&(yield Yi(F,N,p.nextPageToken))})).apply(this,arguments)}function _o(F,N){null!=N&&"number"==typeof N.maxResults&&ze("options.maxResults",1,1e3,N.maxResults);const J=N||{},S=Es(F.storage,F._location,"/",J.pageToken,J.maxResults);return F.storage.makeRequestWithTokens(S,ge)}function Bi(F){F._throwIfRoot("getDownloadURL");const N=function Ur(F,N,J){const p=mt(N.fullServerUrl(),F.host,F._protocol),C=F.maxOperationRetryTime,V=new sr(p,"GET",function Cr(F,N){return function J(S,p){const g=ni(F,p,N);return Gr(null!==g),function ir(F,N,J,S){const p=ne(N);if(null===p||!we(p.downloadTokens))return null;const g=p.downloadTokens;if(0===g.length)return null;const C=encodeURIComponent;return g.split(",").map(le=>{const Le=F.fullPath;return mt("/b/"+C(F.bucket)+"/o/"+C(Le),J,S)+Nt({alt:"media",token:le})})[0]}(g,p,F.host,F._protocol)}}(F,J),C);return V.errorHandler=bi(N),V}(F.storage,F._location,vr());return F.storage.makeRequestWithTokens(N,ge).then(J=>{if(null===J)throw function $n(){return new Ve("no-download-url","The given file does not have any download URLs.")}();return J})}function Hs(F,N){const J=function pt(F,N){const J=N.split("/").filter(S=>S.length>0).join("/");return 0===F.length?J:F+"/"+J}(F._location.path,N),S=new jt(F._location.bucket,J);return new Pr(F.storage,S)}function Jr(F,N){if(F instanceof Br){const J=F;if(null==J._bucket)throw function on(){return new Ve("no-default-bucket","No default bucket found. Did you set the '"+Pe+"' property when initializing the app?")}();const S=new Pr(J,J._bucket);return null!=N?Jr(S,N):S}return void 0!==N?Hs(F,N):F}function Us(F,N){if(N&&function ys(F){return/^[A-Za-z]+:\/\//.test(F)}(N)){if(F instanceof Br)return function Wo(F,N){return new Pr(F,N)}(F,N);throw Nn("To use ref(service, url), the first argument must be a Storage instance.")}return Jr(F,N)}function fi(F,N){const J=null==N?void 0:N[Pe];return null==J?null:jt.makeFromBucketSpec(J,F)}class Br{constructor(N,J,S,p,g){this.app=N,this._authProvider=J,this._appCheckProvider=S,this._url=p,this._firebaseVersion=g,this._bucket=null,this._host=ue,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=p?jt.makeFromBucketSpec(p,this._host):fi(this._host,this.app.options)}get host(){return this._host}set host(N){this._host=N,this._bucket=null!=this._url?jt.makeFromBucketSpec(this._url,N):fi(N,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(N){ze("time",0,Number.POSITIVE_INFINITY,N),this._maxUploadRetryTime=N}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(N){ze("time",0,Number.POSITIVE_INFINITY,N),this._maxOperationRetryTime=N}_getAuthToken(){var N=this;return(0,wt.Z)(function*(){if(N._overrideAuthToken)return N._overrideAuthToken;const J=N._authProvider.getImmediate({optional:!0});if(J){const S=yield J.getToken();if(null!==S)return S.accessToken}return null})()}_getAppCheckToken(){var N=this;return(0,wt.Z)(function*(){const J=N._appCheckProvider.getImmediate({optional:!0});return J?(yield J.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(N=>N.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(N){return new Pr(this,N)}_makeRequest(N,J,S,p){if(this._deleted)return new Fr(Kn());{const g=function me(F,N,J,S,p,g){const C=Nt(F.urlParams),V=F.url+C,q=Object.assign({},F.headers);return function Un(F,N){N&&(F["X-Firebase-GMPID"]=N)}(q,N),function Nr(F,N){null!==N&&N.length>0&&(F.Authorization="Firebase "+N)}(q,J),function cr(F,N){F["X-Firebase-Storage-Version"]="webjs/"+(null!=N?N:"AppManager")}(q,g),function ie(F,N){null!==N&&(F["X-Firebase-AppCheck"]=N)}(q,S),new pn(V,F.method,q,F.body,F.successCodes,F.additionalRetryCodes,F.handler,F.errorHandler,F.timeout,F.progressCallback,p)}(N,this._appId,S,p,J,this._firebaseVersion);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}makeRequestWithTokens(N,J){var S=this;return(0,wt.Z)(function*(){const[p,g]=yield Promise.all([S._getAuthToken(),S._getAppCheckToken()]);return S._makeRequest(N,J,p,g).getPromise()})()}}const Vi="@firebase/storage";function Q(F,N){return Us(F=(0,X.m9)(F),N)}function Yn(F,{instanceIdentifier:N}){const J=F.getProvider("app").getImmediate(),S=F.getProvider("auth-internal"),p=F.getProvider("app-check-internal");return new Br(J,S,p,N,vt.SDK_VERSION)}!function kn(){(0,vt._registerComponent)(new tt.wA("storage",Yn,"PUBLIC").setMultipleInstances(!0)),(0,vt.registerVersion)(Vi,"0.9.7",""),(0,vt.registerVersion)(Vi,"0.9.7","esm2017")}();class jn{constructor(N,J,S){this._delegate=N,this.task=J,this.ref=S}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class kr{constructor(N,J){this._delegate=N,this._ref=J,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jn(this._delegate.snapshot,this,this._ref)}then(N,J){return this._delegate.then(S=>{if(N)return N(new jn(S,this,this._ref))},J)}on(N,J,S,p){let g;return J&&(g="function"==typeof J?C=>J(new jn(C,this,this._ref)):{next:J.next?C=>J.next(new jn(C,this,this._ref)):void 0,complete:J.complete||void 0,error:J.error||void 0}),this._delegate.on(N,g,S||void 0,p||void 0)}}class tr{constructor(N,J){this._delegate=N,this._service=J}get prefixes(){return this._delegate.prefixes.map(N=>new nr(N,this._service))}get items(){return this._delegate.items.map(N=>new nr(N,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nr{constructor(N,J){this._delegate=N,this.storage=J}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(N){const J=function pe(F,N){return Hs(F,N)}(this._delegate,N);return new nr(J,this.storage)}get root(){return new nr(this._delegate.root,this.storage)}get parent(){const N=this._delegate.parent;return null==N?null:new nr(N,this.storage)}put(N,J){return this._throwIfRoot("put"),new kr(function ro(F,N,J){return function Zi(F,N,J){return F._throwIfRoot("uploadBytesResumable"),new _r(F,new Ee(N),J)}(F=(0,X.m9)(F),N,J)}(this._delegate,N,J),this)}putString(N,J=ot.RAW,S){this._throwIfRoot("putString");const p=sn(J,N),g=Object.assign({},S);return null==g.contentType&&null!=p.contentType&&(g.contentType=p.contentType),new kr(new _r(this._delegate,new Ee(p.data,!0),g),this)}listAll(){return function O(F){return function Di(F){const N={prefixes:[],items:[]};return Yi(F,N).then(()=>N)}(F=(0,X.m9)(F))}(this._delegate).then(N=>new tr(N,this.storage))}list(N){return function Jn(F,N){return _o(F=(0,X.m9)(F),N)}(this._delegate,N||void 0).then(J=>new tr(J,this.storage))}getMetadata(){return function as(F){return function hi(F){F._throwIfRoot("getMetadata");const N=ns(F.storage,F._location,vr());return F.storage.makeRequestWithTokens(N,ge)}(F=(0,X.m9)(F))}(this._delegate)}updateMetadata(N){return function Is(F,N){return function ms(F,N){F._throwIfRoot("updateMetadata");const J=function Yr(F,N,J,S){const g=mt(N.fullServerUrl(),F.host,F._protocol),V=Pt(J,S),le=F.maxOperationRetryTime,de=new sr(g,"PATCH",dr(F,S),le);return de.headers={"Content-Type":"application/json; charset=utf-8"},de.body=V,de.errorHandler=bi(N),de}(F.storage,F._location,N,vr());return F.storage.makeRequestWithTokens(J,ge)}(F=(0,X.m9)(F),N)}(this._delegate,N)}getDownloadURL(){return function G(F){return Bi(F=(0,X.m9)(F))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function P(F){return function Fs(F){F._throwIfRoot("deleteObject");const N=function ci(F,N){const S=mt(N.fullServerUrl(),F.host,F._protocol),V=new sr(S,"DELETE",function C(q,le){},F.maxOperationRetryTime);return V.successCodes=[200,204],V.errorHandler=bi(N),V}(F.storage,F._location);return F.storage.makeRequestWithTokens(N,ge)}(F=(0,X.m9)(F))}(this._delegate)}_throwIfRoot(N){if(""===this._delegate._location.path)throw Qn(N)}}class Pi{constructor(N,J){this.app=N,this._delegate=J}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(N){if(ri(N))throw Nn("ref() expected a child path but got a URL, use refFromURL instead.");return new nr(Q(this._delegate,N),this)}refFromURL(N){if(!ri(N))throw Nn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{jt.makeFromUrl(N,this._delegate.host)}catch(J){throw Nn("refFromUrl() expected a valid full URL but got an invalid one.")}return new nr(Q(this._delegate,N),this)}setMaxUploadRetryTime(N){this._delegate.maxUploadRetryTime=N}setMaxOperationRetryTime(N){this._delegate.maxOperationRetryTime=N}useEmulator(N,J,S={}){!function ft(F,N,J,S={}){!function Gs(F,N,J,S={}){F.host=`${N}:${J}`,F._protocol="http";const{mockUserToken:p}=S;p&&(F._overrideAuthToken="string"==typeof p?p:(0,X.Sg)(p,F.app.options.projectId))}(F,N,J,S)}(this._delegate,N,J,S)}}function ri(F){return/^[A-Za-z]+:\/\//.test(F)}function Rs(F,{instanceIdentifier:N}){const J=F.getProvider("app-compat").getImmediate(),S=F.getProvider("storage").getImmediate({identifier:N});return new Pi(J,S)}!function bs(F){const N={TaskState:Wr,TaskEvent:qi,StringFormat:ot,Storage:Pi,Reference:nr};F.INTERNAL.registerComponent(new tt.wA("storage-compat",Rs,"PUBLIC").setServiceProps(N).setMultipleInstances(!0)),F.registerVersion("@firebase/storage-compat","0.1.15")}(Ue.Z);var wo=L(440),qo=L(127);function xs(F){const N=function Io(F){return new Ct.y(N=>{const J=C=>N.next(C);J(F.snapshot);const g=F.on("state_changed",J);return F.then(C=>{J(C),N.complete()},C=>{J(F.snapshot),(C=>{N.error(C)})(C)}),function(){g()}}).pipe((0,be.b)(0))}(F);return{task:F,then:F.then.bind(F),catch:F.catch.bind(F),pause:F.pause.bind(F),cancel:F.cancel.bind(F),resume:F.resume.bind(F),snapshotChanges:()=>N,percentageChanges:()=>N.pipe((0,ut.U)(J=>J.bytesTransferred/J.totalBytes*100))}}function Dt(F){return{getDownloadURL:()=>(0,Ke.of)(void 0).pipe(ve.fc,(0,$e.w)(()=>F.getDownloadURL()),ve.iC),getMetadata:()=>(0,Ke.of)(void 0).pipe(ve.fc,(0,$e.w)(()=>F.getMetadata()),ve.iC),delete:()=>(0,st.D)(F.delete()),child:N=>Dt(F.child(N)),updateMetadata:N=>(0,st.D)(F.updateMetadata(N)),put:(N,J)=>xs(F.put(N,J)),putString:(N,J,S)=>xs(F.putString(N,J,S)),list:N=>(0,st.D)(F.list(N)),listAll:()=>(0,st.D)(F.listAll())}}const Wn=new K.OlP("angularfire2.storageBucket"),Ms=new K.OlP("angularfire2.storage.maxUploadRetryTime"),qr=new K.OlP("angularfire2.storage.maxOperationRetryTime"),Bs=new K.OlP("angularfire2.storage.use-emulator");let io=(()=>{class F{constructor(J,S,p,g,C,V,q,le,de,Le){const nt=(0,Xe.on)(J,C,S);this.storage=(0,Xe.cc)(`${nt.name}.storage.${p}`,"AngularFireStorage",nt.name,()=>{const Lt=C.runOutsideAngular(()=>nt.storage(p||void 0)),Ht=de;return Ht&&Lt.useEmulator(...Ht),q&&Lt.setMaxUploadRetryTime(q),le&&Lt.setMaxOperationRetryTime(le),Lt},[q,le])}ref(J){return Dt(this.storage.ref(J))}refFromURL(J){return Dt(this.storage.refFromURL(J))}upload(J,S,p){return Dt(this.storage.ref(J)).put(S,p)}}return F.\u0275fac=function(J){return new(J||F)(K.LFG(Xe.Dh),K.LFG(Xe.xv,8),K.LFG(Wn,8),K.LFG(K.Lbi),K.LFG(K.R0b),K.LFG(ve.HU),K.LFG(Ms,8),K.LFG(qr,8),K.LFG(Bs,8),K.LFG(wo.nm,8))},F.\u0275prov=K.Yz7({token:F,factory:F.\u0275fac,providedIn:"any"}),F})(),so=(()=>{class F{}return F.\u0275fac=function(J){return new(J||F)},F.\u0275mod=K.oAB({type:F}),F.\u0275inj=K.cJS({}),F})(),ua=(()=>{class F{constructor(){qo.Z.registerVersion("angularfire",ve.q4.full,"gcs-compat")}}return F.\u0275fac=function(J){return new(J||F)},F.\u0275mod=K.oAB({type:F}),F.\u0275inj=K.cJS({providers:[io],imports:[so]}),F})();var Zo=L(3385);function bo(F){return new ae.w(F)}let Bo=(()=>{class F{}return F.\u0275fac=function(J){return new(J||F)},F.\u0275mod=K.oAB({type:F,bootstrap:[Ce]}),F.\u0275inj=K.cJS({providers:[],imports:[[_.b2,Re,Xe.hO.initializeApp(Tt_firebase),at.yb,Zo.ww,ua,oe.JF,Se.aw.forRoot({loader:{provide:Se.Zw,useFactory:bo,deps:[oe.eN]}}),Me.PW]]}),F})();(0,K.G48)(),_.q6().bootstrapModule(Bo).catch(F=>console.error(F))},5867:(Ft,je,L)=>{L.d(je,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=L(9681);(0,_.registerVersion)("firebase","9.8.3","app")},127:(Ft,je,L)=>{L.d(je,{Z:()=>_.Z});var _=L(3942);_.Z.registerVersion("firebase","9.8.3","app-compat")},9916:(Ft,je,L)=>{L.r(je);var _=L(5861),K=L(3942),W=L(2090),ce=L(9681),ye=L(655),Te=L(1877),Re=L(4859);const at=function Tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ct=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new Te.Yd("@firebase/auth");function ut(y,...c){be.logLevel<=Te.in.ERROR&&be.error(`Auth (${ce.SDK_VERSION}): ${y}`,...c)}function $e(y,...c){throw vt(y,...c)}function ve(y,...c){return vt(y,...c)}function Ue(y,c,h){const I=Object.assign(Object.assign({},Ct()),{[c]:h});return new W.LL("auth","Firebase",I).create(c,{appName:y.name})}function wt(y,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&$e(y,"argument-error"),Ue(y,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(y,...c){if("string"!=typeof y){const h=c[0],I=[...c.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(h,...I)}return Ke.create(y,...c)}function X(y,c,...h){if(!y)throw vt(c,...h)}function tt(y){const c="INTERNAL ASSERTION FAILED: "+y;throw ut(c),new Error(c)}function ue(y,c){y||tt(c)}const Pe=new Map;function Ne(y){ue(y instanceof Function,"Expected a class definition");let c=Pe.get(y);return c?(ue(c instanceof y,"Instance stored in cache mismatched with class"),c):(c=new y,Pe.set(y,c),c)}function Et(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Kt(){return"http:"===Ye()||"https:"===Ye()}function Ye(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class et{constructor(c,h){this.shortDelay=c,this.longDelay=h,ue(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function At(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gt(y,c){ue(y.emulator,"Emulator should always be set here");const{url:h}=y.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class xt{static initialize(c,h,I){this.fetchImpl=c,h&&(this.headersImpl=h),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xn=new et(3e4,6e4);function rn(y,c){return y.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:y.tenantId}):c}function on(y,c,h,I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,_.Z)(function*(y,c,h,I,j={}){return Bn(y,j,(0,_.Z)(function*(){let Y={},Fe={};I&&("GET"===c?Fe=I:Y={body:JSON.stringify(I)});const dt=(0,W.xO)(Object.assign({key:y.config.apiKey},Fe)).slice(1),$t=yield y._getAdditionalHeaders();return $t["Content-Type"]="application/json",y.languageCode&&($t["X-Firebase-Locale"]=y.languageCode),xt.fetch()(Qn(y,y.config.apiHost,h,dt),Object.assign({method:c,headers:$t,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function Bn(y,c,h){return $n.apply(this,arguments)}function $n(){return($n=(0,_.Z)(function*(y,c,h){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},Ut),c);try{const j=new Cn(y),Y=yield Promise.race([h(),j.promise]);j.clearNetworkTimeout();const Fe=yield Y.json();if("needConfirmation"in Fe)throw Mn(y,"account-exists-with-different-credential",Fe);if(Y.ok&&!("errorMessage"in Fe))return Fe;{const dt=Y.ok?Fe.errorMessage:Fe.error.message,[$t,un]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw Mn(y,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===$t)throw Mn(y,"email-already-in-use",Fe);if("USER_DISABLED"===$t)throw Mn(y,"user-disabled",Fe);const On=I[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw Ue(y,On,un);$e(y,On)}}catch(j){if(j instanceof W.ZR)throw j;$e(y,"network-request-failed")}})).apply(this,arguments)}function Nn(y,c,h,I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,_.Z)(function*(y,c,h,I,j={}){const Y=yield on(y,c,h,I,j);return"mfaPendingCredential"in Y&&$e(y,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Qn(y,c,h,I){const j=`${c}${h}?${I}`;return y.config.emulator?gt(y.config,j):`${y.config.apiScheme}://${j}`}class Cn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,I)=>{this.timer=setTimeout(()=>I(ve(this.auth,"network-request-failed")),xn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(y,c,h){const I={appName:y.name};h.email&&(I.email=h.email),h.phoneNumber&&(I.phoneNumber=h.phoneNumber);const j=ve(y,c,I);return j.customData._tokenResponse=h,j}function Fr(){return(Fr=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ir(y,c){return lr.apply(this,arguments)}function lr(){return(lr=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Kr(y,c){return ti.apply(this,arguments)}function ti(){return(ti=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function ct(y){if(y)try{const c=new Date(Number(y));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function _t(){return(_t=(0,_.Z)(function*(y,c=!1){const h=(0,W.m9)(y),I=yield h.getIdToken(c),j=mt(I);X(j&&j.exp&&j.auth_time&&j.iat,h.auth,"internal-error");const Y="object"==typeof j.firebase?j.firebase:void 0,Fe=null==Y?void 0:Y.sign_in_provider;return{claims:j,token:I,authTime:ct(ze(j.auth_time)),issuedAtTime:ct(ze(j.iat)),expirationTime:ct(ze(j.exp)),signInProvider:Fe||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function ze(y){return 1e3*Number(y)}function mt(y){const[c,h,I]=y.split(".");if(void 0===c||void 0===h||void 0===I)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,W.tV)(h);return j?JSON.parse(j):(ut("Failed to decode base64 JWT payload"),null)}catch(j){return ut("Caught error parsing JWT payload as JSON",j),null}}function wn(y,c){return pn.apply(this,arguments)}function pn(){return(pn=(0,_.Z)(function*(y,c,h=!1){if(h)return c;try{return yield c}catch(I){throw I instanceof W.ZR&&ln(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}function ln({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Nr{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const j=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const I=this.getInterval(c);this.timerId=setTimeout((0,_.Z)(function*(){yield h.iteration()}),I)}iteration(){var c=this;return(0,_.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&c.schedule(!0))}c.schedule()})()}}class cr{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=ct(this.lastLoginAt),this.creationTime=ct(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(y){return ie.apply(this,arguments)}function ie(){return(ie=(0,_.Z)(function*(y){var c;const h=y.auth,I=yield y.getIdToken(),j=yield wn(y,Kr(h,{idToken:I}));X(null==j?void 0:j.users.length,h,"internal-error");const Y=j.users[0];y._notifyReloadListener(Y);const Fe=(null===(c=Y.providerUserInfo)||void 0===c?void 0:c.length)?fe(Y.providerUserInfo):[],dt=lt(y.providerData,Fe),On=!!y.isAnonymous&&!(y.email&&Y.passwordHash||(null==dt?void 0:dt.length)),An={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:dt,metadata:new cr(Y.createdAt,Y.lastLoginAt),isAnonymous:On};Object.assign(y,An)})).apply(this,arguments)}function Ie(){return(Ie=(0,_.Z)(function*(y){const c=(0,W.m9)(y);yield Un(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function lt(y,c){return[...y.filter(I=>!c.some(j=>j.providerId===I.providerId)),...c]}function fe(y){return y.map(c=>{var{providerId:h}=c,I=(0,ye._T)(c,["providerId"]);return{providerId:h,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function ot(){return(ot=(0,_.Z)(function*(y,c){const h=yield Bn(y,{},(0,_.Z)(function*(){const I=(0,W.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:j,apiKey:Y}=y.config,Fe=Qn(y,j,"/v1/token",`key=${Y}`),dt=yield y._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",xt.fetch()(Fe,{method:"POST",headers:dt,body:I})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class Bt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){X(c.idToken,"internal-error"),X(void 0!==c.idToken,"internal-error"),X(void 0!==c.refreshToken,"internal-error");const h="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function Nt(y){const c=mt(y);return X(c,"internal-error"),X(void 0!==c.exp,"internal-error"),X(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}getToken(c,h=!1){var I=this;return(0,_.Z)(function*(){return X(!I.accessToken||I.refreshToken,c,"user-token-expired"),h||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(c,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var I=this;return(0,_.Z)(function*(){const{accessToken:j,refreshToken:Y,expiresIn:Fe}=yield function Be(y,c){return ot.apply(this,arguments)}(c,h);I.updateTokensAndExpiration(j,Y,Number(Fe))})()}updateTokensAndExpiration(c,h,I){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(c,h){const{refreshToken:I,accessToken:j,expirationTime:Y}=h,Fe=new Bt;return I&&(X("string"==typeof I,"internal-error",{appName:c}),Fe.refreshToken=I),j&&(X("string"==typeof j,"internal-error",{appName:c}),Fe.accessToken=j),Y&&(X("number"==typeof Y,"internal-error",{appName:c}),Fe.expirationTime=Y),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Bt,this.toJSON())}_performRefresh(){return tt("not implemented")}}function sn(y,c){X("string"==typeof y||void 0===y,"internal-error",{appName:c})}class Yt{constructor(c){var{uid:h,auth:I,stsTokenManager:j}=c,Y=(0,ye._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=I,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new cr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,_.Z)(function*(){const I=yield wn(h,h.stsTokenManager.getToken(h.auth,c));return X(I,h.auth,"internal-error"),h.accessToken!==I&&(h.accessToken=I,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),I})()}getIdTokenResult(c){return function xe(y){return _t.apply(this,arguments)}(this,c)}reload(){return function me(y){return Ie.apply(this,arguments)}(this)}_assign(c){this!==c&&(X(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new Yt(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var I=this;return(0,_.Z)(function*(){let j=!1;c.idToken&&c.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(c),j=!0),h&&(yield Un(I)),yield I.auth._persistUserIfCurrent(I),j&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var c=this;return(0,_.Z)(function*(){const h=yield c.getIdToken();return yield wn(c,function jt(y,c){return Fr.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var I,j,Y,Fe,dt,$t,un,On;const An=null!==(I=h.displayName)&&void 0!==I?I:void 0,fs=null!==(j=h.email)&&void 0!==j?j:void 0,No=null!==(Y=h.phoneNumber)&&void 0!==Y?Y:void 0,Zu=null!==(Fe=h.photoURL)&&void 0!==Fe?Fe:void 0,pc=null!==(dt=h.tenantId)&&void 0!==dt?dt:void 0,dh=null!==($t=h._redirectEventId)&&void 0!==$t?$t:void 0,Eu=null!==(un=h.createdAt)&&void 0!==un?un:void 0,Fa=null!==(On=h.lastLoginAt)&&void 0!==On?On:void 0,{uid:Ua,emailVerified:hh,isAnonymous:gc,providerData:vd,stsTokenManager:_d}=h;X(Ua&&_d,c,"internal-error");const go=Bt.fromJSON(this.name,_d);X("string"==typeof Ua,c,"internal-error"),sn(An,c.name),sn(fs,c.name),X("boolean"==typeof hh,c,"internal-error"),X("boolean"==typeof gc,c,"internal-error"),sn(No,c.name),sn(Zu,c.name),sn(pc,c.name),sn(dh,c.name),sn(Eu,c.name),sn(Fa,c.name);const Ed=new Yt({uid:Ua,auth:c,email:fs,emailVerified:hh,displayName:An,isAnonymous:gc,photoURL:Zu,phoneNumber:No,tenantId:pc,stsTokenManager:go,createdAt:Eu,lastLoginAt:Fa});return vd&&Array.isArray(vd)&&(Ed.providerData=vd.map(fh=>Object.assign({},fh))),dh&&(Ed._redirectEventId=dh),Ed}static _fromIdTokenResponse(c,h,I=!1){return(0,_.Z)(function*(){const j=new Bt;j.updateFromServerResponse(h);const Y=new Yt({uid:h.localId,auth:c,stsTokenManager:j,isAnonymous:I});return yield Un(Y),Y})()}}const gn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(h,I){var j=this;return(0,_.Z)(function*(){j.storage[h]=I})()}_get(h){var I=this;return(0,_.Z)(function*(){const j=I.storage[h];return void 0===j?null:j})()}_remove(h){var I=this;return(0,_.Z)(function*(){delete I.storage[h]})()}_addListener(h,I){}_removeListener(h,I){}}return y.type="NONE",y})();function Zn(y,c,h){return`firebase:${y}:${c}:${h}`}class mr{constructor(c,h,I){this.persistence=c,this.auth=h,this.userKey=I;const{config:j,name:Y}=this.auth;this.fullUserKey=Zn(this.userKey,j.apiKey,Y),this.fullPersistenceKey=Zn("persistence",j.apiKey,Y),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,_.Z)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?Yt._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,_.Z)(function*(){if(h.persistence===c)return;const I=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,I?h.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,I="authUser"){return(0,_.Z)(function*(){if(!h.length)return new mr(Ne(gn),c,I);const j=(yield Promise.all(h.map(function(){var un=(0,_.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return un.apply(this,arguments)}}()))).filter(un=>un);let Y=j[0]||Ne(gn);const Fe=Zn(I,c.config.apiKey,c.name);let dt=null;for(const un of h)try{const On=yield un._get(Fe);if(On){const An=Yt._fromJSON(c,On);un!==Y&&(dt=An),Y=un;break}}catch(On){}const $t=j.filter(un=>un._shouldAllowMigration);return Y._shouldAllowMigration&&$t.length?(Y=$t[0],dt&&(yield Y._set(Fe,dt.toJSON())),yield Promise.all(h.map(function(){var un=(0,_.Z)(function*(On){if(On!==Y)try{yield On._remove(Fe)}catch(An){}});return function(On){return un.apply(this,arguments)}}())),new mr(Y,c,I)):new mr(Y,c,I)})()}}function gi(y){const c=y.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(ke(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(We(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(en(c))return"Blackberry";if(yn(c))return"Webos";if(Ee(c))return"Safari";if((c.includes("chrome/")||ne(c))&&!c.includes("edge/"))return"Chrome";if(pt(c))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function We(y=(0,W.z$)()){return/firefox\//i.test(y)}function Ee(y=(0,W.z$)()){const c=y.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function ne(y=(0,W.z$)()){return/crios\//i.test(y)}function ke(y=(0,W.z$)()){return/iemobile/i.test(y)}function pt(y=(0,W.z$)()){return/android/i.test(y)}function en(y=(0,W.z$)()){return/blackberry/i.test(y)}function yn(y=(0,W.z$)()){return/webos/i.test(y)}function Pn(y=(0,W.z$)()){return/iphone|ipad|ipod/i.test(y)}function ai(y=(0,W.z$)()){return Pn(y)||pt(y)||yn(y)||en(y)||/windows phone/i.test(y)||ke(y)}function ni(y,c=[]){let h;switch(y){case"Browser":h=gi((0,W.z$)());break;case"Worker":h=`${gi((0,W.z$)())}-${y}`;break;default:h=y}const I=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${ce.SDK_VERSION}/${I}`}class ir{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const I=Y=>new Promise((Fe,dt)=>{try{Fe(c(Y))}catch($t){dt($t)}});I.onAbort=h,this.queue.push(I);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,_.Z)(function*(){var I;if(h.auth.currentUser===c)return;const j=[];try{for(const Y of h.queue)yield Y(c),Y.onAbort&&j.push(Y.onAbort)}catch(Y){j.reverse();for(const Fe of j)try{Fe()}catch(dt){}throw h.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=Y)||void 0===I?void 0:I.message})}})()}}class Pt{constructor(c,h,I){this.app=c,this.heartbeatServiceProvider=h,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xn(this),this.idTokenSubscription=new Xn(this),this.beforeStateQueue=new ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(c,h){var I=this;return h&&(this._popupRedirectResolver=Ne(h)),this._initializationPromise=this.queue((0,_.Z)(function*(){var j,Y;if(!I._deleted&&(I.persistenceManager=yield mr.create(I,c),!I._deleted)){if(null===(j=I._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Fe){}yield I.initializeCurrentUser(h),I.lastNotifiedUid=(null===(Y=I.currentUser)||void 0===Y?void 0:Y.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,_.Z)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUser(c){var h=this;return(0,_.Z)(function*(){var I;const j=yield h.assertedPersistence.getCurrentUser();let Y=j,Fe=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const dt=null===(I=h.redirectUser)||void 0===I?void 0:I._redirectEventId,$t=null==Y?void 0:Y._redirectEventId,un=yield h.tryRedirectSignIn(c);(!dt||dt===$t)&&(null==un?void 0:un.user)&&(Y=un.user,Fe=!0)}if(!Y)return h.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Fe)try{yield h.beforeStateQueue.runMiddleware(Y)}catch(dt){Y=j,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(dt))}return Y?h.reloadAndSetCurrentUserOrClear(Y):h.directlySetCurrentUser(null)}return X(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===Y._redirectEventId?h.directlySetCurrentUser(Y):h.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(c){var h=this;return(0,_.Z)(function*(){let I=null;try{I=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch(j){yield h._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,_.Z)(function*(){try{yield Un(c)}catch(I){if("auth/network-request-failed"!==I.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function ee(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var c=this;return(0,_.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,_.Z)(function*(){const I=c?(0,W.m9)(c):null;return I&&X(I.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(I&&I._clone(h))})()}_updateCurrentUser(c,h=!1){var I=this;return(0,_.Z)(function*(){if(!I._deleted)return c&&X(I.tenantId===c.tenantId,I,"tenant-id-mismatch"),h||(yield I.beforeStateQueue.runMiddleware(c)),I.queue((0,_.Z)(function*(){yield I.directlySetCurrentUser(c),I.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,_.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var h=this;return this.queue((0,_.Z)(function*(){yield h.assertedPersistence.setPersistence(Ne(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new W.LL("auth","Firebase",c())}onAuthStateChanged(c,h,I){return this.registerStateListener(this.authStateSubscription,c,h,I)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,I){return this.registerStateListener(this.idTokenSubscription,c,h,I)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var I=this;return(0,_.Z)(function*(){const j=yield I.getOrInitRedirectPersistenceManager(h);return null===c?j.removeCurrentUser():j.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,_.Z)(function*(){if(!h.redirectPersistenceManager){const I=c&&Ne(c)||h._popupRedirectResolver;X(I,h,"argument-error"),h.redirectPersistenceManager=yield mr.create(h,[Ne(I._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,_.Z)(function*(){var I,j;return h._isInitialized&&(yield h.queue((0,_.Z)(function*(){}))),(null===(I=h._currentUser)||void 0===I?void 0:I._redirectEventId)===c?h._currentUser:(null===(j=h.redirectUser)||void 0===j?void 0:j._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,_.Z)(function*(){if(c===h.currentUser)return h.queue((0,_.Z)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,I,j){if(this._deleted)return()=>{};const Y="function"==typeof h?h:h.next.bind(h),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return X(Fe,this,"internal-error"),Fe.then(()=>Y(this.currentUser)),"function"==typeof h?c.addObserver(h,I,j):c.addObserver(h)}directlySetCurrentUser(c){var h=this;return(0,_.Z)(function*(){h.currentUser&&h.currentUser!==c&&(h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh()),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,_.Z)(function*(){var h;const I={"X-Client-Version":c.clientVersion};c.app.options.appId&&(I["X-Firebase-gmpid"]=c.app.options.appId);const j=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();return j&&(I["X-Firebase-Client"]=j),I})()}}function tn(y){return(0,W.m9)(y)}class Xn{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,W.ne)(h=>this.observer=h)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ii(y){const c=y.indexOf(":");return c<0?"":y.substr(0,c+1)}function Gr(y){if(!y)return null;const c=Number(y);return isNaN(c)?null:c}class ui{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return tt("not implemented")}_getIdTokenResponse(c){return tt("not implemented")}_linkToIdToken(c,h){return tt("not implemented")}_getReauthenticationResolver(c){return tt("not implemented")}}function Cr(y,c){return In.apply(this,arguments)}function In(){return(In=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:resetPassword",rn(y,c))})).apply(this,arguments)}function bi(y,c){return ns.apply(this,arguments)}function ns(){return(ns=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Es(y,c){return li.apply(this,arguments)}function li(){return(li=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:update",rn(y,c))})).apply(this,arguments)}function Yr(){return(Yr=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithPassword",rn(y,c))})).apply(this,arguments)}function ci(y,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:sendOobCode",rn(y,c))})).apply(this,arguments)}function er(y,c){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,_.Z)(function*(y,c){return ci(y,c)})).apply(this,arguments)}function xi(y,c){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,_.Z)(function*(y,c){return ci(y,c)})).apply(this,arguments)}function mi(y,c){return rs.apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(y,c){return ci(y,c)})).apply(this,arguments)}function ws(y,c){return di.apply(this,arguments)}function di(){return(di=(0,_.Z)(function*(y,c){return ci(y,c)})).apply(this,arguments)}function Wr(){return(Wr=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithEmailLink",rn(y,c))})).apply(this,arguments)}function vo(){return(vo=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithEmailLink",rn(y,c))})).apply(this,arguments)}class yr extends ui{constructor(c,h,I,j=null){super("password",I),this._email=c,this._password=h,this._tenantId=j}static _fromEmailAndPassword(c,h){return new yr(c,h,"password")}static _fromEmailAndCode(c,h,I=null){return new yr(c,h,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,_.Z)(function*(){switch(h.signInMethod){case"password":return function Ur(y,c){return Yr.apply(this,arguments)}(c,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function qi(y,c){return Wr.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:$e(c,"internal-error")}})()}_linkToIdToken(c,h){var I=this;return(0,_.Z)(function*(){switch(I.signInMethod){case"password":return bi(c,{idToken:h,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function is(y,c){return vo.apply(this,arguments)}(c,{idToken:h,email:I._email,oobCode:I._password});default:$e(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function ss(y,c){return ps.apply(this,arguments)}function ps(){return(ps=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithIdp",rn(y,c))})).apply(this,arguments)}class ge extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new ge(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):$e("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:I,signInMethod:j}=h,Y=(0,ye._T)(h,["providerId","signInMethod"]);if(!I||!j)return null;const Fe=new ge(I,j);return Fe.idToken=Y.idToken||void 0,Fe.accessToken=Y.accessToken||void 0,Fe.secret=Y.secret,Fe.nonce=Y.nonce,Fe.pendingToken=Y.pendingToken||null,Fe}_getIdTokenResponse(c){return ss(c,this.buildRequest())}_linkToIdToken(c,h){const I=this.buildRequest();return I.idToken=h,ss(c,I)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,ss(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,W.xO)(h)}return c}}function Je(y,c){return yt.apply(this,arguments)}function yt(){return(yt=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:sendVerificationCode",rn(y,c))})).apply(this,arguments)}function zt(){return(zt=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithPhoneNumber",rn(y,c))})).apply(this,arguments)}function Pr(){return(Pr=(0,_.Z)(function*(y,c){const h=yield Nn(y,"POST","/v1/accounts:signInWithPhoneNumber",rn(y,c));if(h.temporaryProof)throw Mn(y,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const or={USER_NOT_FOUND:"user-not-found"};function gs(){return(gs=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithPhoneNumber",rn(y,Object.assign(Object.assign({},c),{operation:"REAUTH"})),or)})).apply(this,arguments)}class Zi extends ui{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new Zi({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new Zi({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function kt(y,c){return zt.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function _r(y,c){return Pr.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Mi(y,c){return gs.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:I,verificationCode:j}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:I,code:j}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:I,phoneNumber:j,temporaryProof:Y}=c;return I||h||j||Y?new Zi({verificationId:h,verificationCode:I,phoneNumber:j,temporaryProof:Y}):null}}class Yi{constructor(c){var h,I,j,Y,Fe,dt;const $t=(0,W.zd)((0,W.pd)(c)),un=null!==(h=$t.apiKey)&&void 0!==h?h:null,On=null!==(I=$t.oobCode)&&void 0!==I?I:null,An=function os(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=$t.mode)&&void 0!==j?j:null);X(un&&On&&An,"argument-error"),this.apiKey=un,this.operation=An,this.code=On,this.continueUrl=null!==(Y=$t.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Fe=$t.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(dt=$t.tenantId)&&void 0!==dt?dt:null}static parseLink(c){const h=function Di(y){const c=(0,W.zd)((0,W.pd)(y)).link,h=c?(0,W.zd)((0,W.pd)(c)).deep_link_id:null,I=(0,W.zd)((0,W.pd)(y)).deep_link_id;return(I?(0,W.zd)((0,W.pd)(I)).link:null)||I||h||c||y}(c);try{return new Yi(h)}catch(I){return null}}}let _o=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(h,I){return yr._fromEmailAndPassword(h,I)}static credentialWithLink(h,I){const j=Yi.parseLink(I);return X(j,"argument-error"),yr._fromEmailAndCode(h,j.code,j.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class hi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ms extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Bi extends ms{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return X("providerId"in h&&"signInMethod"in h,"argument-error"),ge._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return X(c.idToken||c.accessToken,"argument-error"),ge._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Bi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Bi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:I,oauthTokenSecret:j,pendingToken:Y,nonce:Fe,providerId:dt}=c;if(!I&&!j&&!h&&!Y||!dt)return null;try{return new Bi(dt)._credential({idToken:h,accessToken:I,nonce:Fe,pendingToken:Y})}catch($t){return null}}}let Fs=(()=>{class y extends ms{constructor(){super("facebook.com")}static credential(h){return ge._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return y.credential(h.oauthAccessToken)}catch(I){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Hs=(()=>{class y extends ms{constructor(){super("google.com"),this.addScope("profile")}static credential(h,I){return ge._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:I})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:I,oauthAccessToken:j}=h;if(!I&&!j)return null;try{return y.credential(I,j)}catch(Y){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ys=(()=>{class y extends ms{constructor(){super("github.com")}static credential(h){return ge._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return y.credential(h.oauthAccessToken)}catch(I){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Jr extends ui{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return ss(c,this.buildRequest())}_linkToIdToken(c,h){const I=this.buildRequest();return I.idToken=h,ss(c,I)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,ss(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:I,signInMethod:j,pendingToken:Y}=h;return I&&j&&Y&&I===j?new Jr(I,Y):null}static _create(c,h){return new Jr(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fi extends hi{constructor(c){X(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return fi.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return fi.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=Jr.fromJSON(c);return X(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:I}=c;if(!h||!I)return null;try{return Jr._create(I,h)}catch(j){return null}}}let Gs=(()=>{class y extends ms{constructor(){super("twitter.com")}static credential(h,I){return ge._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:I})}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:I,oauthTokenSecret:j}=h;if(!I||!j)return null;try{return y.credential(I,j)}catch(Y){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Br(y,c){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signUp",rn(y,c))})).apply(this,arguments)}class yi{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,I,j=!1){return(0,_.Z)(function*(){const Y=yield Yt._fromIdTokenResponse(c,I,j),Fe=vi(I);return new yi({user:Y,providerId:Fe,_tokenResponse:I,operationType:h})})()}static _forOperation(c,h,I){return(0,_.Z)(function*(){yield c._updateTokensIfNecessary(I,!0);const j=vi(I);return new yi({user:c,providerId:j,_tokenResponse:I,operationType:h})})()}}function vi(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function vs(){return(vs=(0,_.Z)(function*(y){var c;const h=tn(y);if(yield h._initializationPromise,null===(c=h.currentUser)||void 0===c?void 0:c.isAnonymous)return new yi({user:h.currentUser,providerId:null,operationType:"signIn"});const I=yield Br(h,{returnSecureToken:!0}),j=yield yi._fromIdTokenResponse(h,"signIn",I,!0);return yield h._updateCurrentUser(j.user),j})).apply(this,arguments)}class ji extends W.ZR{constructor(c,h,I,j){var Y;super(h.code,h.message),this.operationType=I,this.user=j,Object.setPrototypeOf(this,ji.prototype),this.customData={appName:c.name,tenantId:null!==(Y=c.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:h.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(c,h,I,j){return new ji(c,h,I,j)}}function ro(y,c,h,I){return("reauthenticate"===c?h._getReauthenticationResolver(y):h._getIdTokenResponse(y)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?ji._fromErrorAndOperation(y,Y,c,I):Y})}function as(y){return new Set(y.map(({providerId:c})=>c).filter(c=>!!c))}function Jn(){return(Jn=(0,_.Z)(function*(y,c){const h=(0,W.m9)(y);yield P(!0,h,c);const{providerUserInfo:I}=yield Ir(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),j=as(I||[]);return h.providerData=h.providerData.filter(Y=>j.has(Y.providerId)),j.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function O(y,c){return G.apply(this,arguments)}function G(){return(G=(0,_.Z)(function*(y,c,h=!1){const I=yield wn(y,c._linkToIdToken(y.auth,yield y.getIdToken()),h);return yi._forOperation(y,"link",I)})).apply(this,arguments)}function P(y,c,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,_.Z)(function*(y,c,h){yield Un(c);const j=!1===y?"provider-already-linked":"no-such-provider";X(as(c.providerData).has(h)===y,c.auth,j)})).apply(this,arguments)}function pe(y,c){return it.apply(this,arguments)}function it(){return(it=(0,_.Z)(function*(y,c,h=!1){const{auth:I}=y,j="reauthenticate";try{const Y=yield wn(y,ro(I,j,c,y),h);X(Y.idToken,I,"internal-error");const Fe=mt(Y.idToken);X(Fe,I,"internal-error");const{sub:dt}=Fe;return X(y.uid===dt,I,"user-mismatch"),yi._forOperation(y,j,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&$e(I,"user-mismatch"),Y}})).apply(this,arguments)}function ft(y,c){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(y,c,h=!1){const I="signIn",j=yield ro(y,I,c),Y=yield yi._fromIdTokenResponse(y,I,j);return h||(yield y._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function bn(y,c){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,_.Z)(function*(y,c){return ft(tn(y),c)})).apply(this,arguments)}function kn(y,c){return jn.apply(this,arguments)}function jn(){return(jn=(0,_.Z)(function*(y,c){const h=(0,W.m9)(y);return yield P(!1,h,c.providerId),O(h,c)})).apply(this,arguments)}function kr(y,c){return tr.apply(this,arguments)}function tr(){return(tr=(0,_.Z)(function*(y,c){return pe((0,W.m9)(y),c)})).apply(this,arguments)}function nr(y,c){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,_.Z)(function*(y,c){return Nn(y,"POST","/v1/accounts:signInWithCustomToken",rn(y,c))})).apply(this,arguments)}function hn(){return(hn=(0,_.Z)(function*(y,c){const h=tn(y),I=yield nr(h,{token:c,returnSecureToken:!0}),j=yield yi._fromIdTokenResponse(h,"signIn",I);return yield h._updateCurrentUser(j.user),j})).apply(this,arguments)}class $i{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?Eo._fromServerResponse(c,h):$e(c,"internal-error")}}class Eo extends $i{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new Eo(h)}}function Rs(y,c,h){var I;X((null===(I=h.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),X(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(X(h.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(X(h.android.packageName.length>0,y,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function wo(){return(wo=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y),j={requestType:"PASSWORD_RESET",email:c};h&&Rs(I,j,h),yield xi(I,j)})).apply(this,arguments)}function Io(){return(Io=(0,_.Z)(function*(y,c,h){yield Cr((0,W.m9)(y),{oobCode:c,newPassword:h})})).apply(this,arguments)}function Dt(){return(Dt=(0,_.Z)(function*(y,c){yield Es((0,W.m9)(y),{oobCode:c})})).apply(this,arguments)}function Wn(y,c){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,_.Z)(function*(y,c){const h=(0,W.m9)(y),I=yield Cr(h,{oobCode:c}),j=I.requestType;switch(X(j,h,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(I.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(I.mfaInfo,h,"internal-error");default:X(I.email,h,"internal-error")}let Y=null;return I.mfaInfo&&(Y=$i._fromServerResponse(tn(h),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Y},operation:j}})).apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*(y,c){const{data:h}=yield Wn((0,W.m9)(y),c);return h.email})).apply(this,arguments)}function us(){return(us=(0,_.Z)(function*(y,c,h){const I=tn(y),j=yield Br(I,{returnSecureToken:!0,email:c,password:h}),Y=yield yi._fromIdTokenResponse(I,"signIn",j);return yield I._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function Zo(){return(Zo=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y),j={requestType:"EMAIL_SIGNIN",email:c};X(h.handleCodeInApp,I,"argument-error"),h&&Rs(I,j,h),yield mi(I,j)})).apply(this,arguments)}function F(){return(F=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y),j=_o.credentialWithLink(c,h||Et());return X(j._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),bn(I,j)})).apply(this,arguments)}function N(y,c){return J.apply(this,arguments)}function J(){return(J=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:createAuthUri",rn(y,c))})).apply(this,arguments)}function p(){return(p=(0,_.Z)(function*(y,c){const I={identifier:c,continueUri:Kt()?Et():"http://localhost"},{signinMethods:j}=yield N((0,W.m9)(y),I);return j||[]})).apply(this,arguments)}function C(){return(C=(0,_.Z)(function*(y,c){const h=(0,W.m9)(y),j={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};c&&Rs(h.auth,j,c);const{email:Y}=yield er(h.auth,j);Y!==y.email&&(yield y.reload())})).apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:c};h&&Rs(I.auth,Y,h);const{email:Fe}=yield ws(I.auth,Y);Fe!==y.email&&(yield y.reload())})).apply(this,arguments)}function le(y,c){return de.apply(this,arguments)}function de(){return(de=(0,_.Z)(function*(y,c){return on(y,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function nt(){return(nt=(0,_.Z)(function*(y,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const I=(0,W.m9)(y),Y={idToken:yield I.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},Fe=yield wn(I,le(I.auth,Y));I.displayName=Fe.displayName||null,I.photoURL=Fe.photoUrl||null;const dt=I.providerData.find(({providerId:$t})=>"password"===$t);dt&&(dt.displayName=I.displayName,dt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Fe)})).apply(this,arguments)}function cn(y,c,h){return an.apply(this,arguments)}function an(){return(an=(0,_.Z)(function*(y,c,h){const{auth:I}=y,Y={idToken:yield y.getIdToken(),returnSecureToken:!0};c&&(Y.email=c),h&&(Y.password=h);const Fe=yield wn(y,bi(I,Y));yield y._updateTokensIfNecessary(Fe,!0)})).apply(this,arguments)}class vn{constructor(c,h,I={}){this.isNewUser=c,this.providerId=h,this.profile=I}}class Ln extends vn{constructor(c,h,I,j){super(c,h,I),this.username=j}}class zn extends vn{constructor(c,h){super(c,"facebook.com",h)}}class hr extends Ln{constructor(c,h){super(c,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class ii extends vn{constructor(c,h){super(c,"google.com",h)}}class Vr extends Ln{constructor(c,h,I){super(c,"twitter.com",h,I)}}function Or(y){const{user:c,_tokenResponse:h}=y;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function qt(y){var c,h;if(!y)return null;const{providerId:I}=y,j=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},Y=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&(null==y?void 0:y.idToken)){const Fe=null===(h=null===(c=mt(y.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(Fe)return new vn(Y,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!I)return null;switch(I){case"facebook.com":return new zn(Y,j);case"github.com":return new hr(Y,j);case"google.com":return new ii(Y,j);case"twitter.com":return new Vr(Y,j,y.screenName||null);case"custom":case"anonymous":return new vn(Y,null);default:return new vn(Y,I,j)}}(h)}class Ds{constructor(c,h){this.type=c,this.credential=h}static _fromIdtoken(c){return new Ds("enroll",c)}static _fromMfaPendingCredential(c){return new Ds("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,I;if(null==c?void 0:c.multiFactorSession){if(null===(h=c.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return Ds._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(I=c.multiFactorSession)||void 0===I?void 0:I.idToken)return Ds._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Jt{constructor(c,h,I){this.session=c,this.hints=h,this.signInResolver=I}static _fromError(c,h){const I=tn(c),j=h.customData._serverResponse,Y=(j.mfaInfo||[]).map(dt=>$i._fromServerResponse(I,dt));X(j.mfaPendingCredential,I,"internal-error");const Fe=Ds._fromMfaPendingCredential(j.mfaPendingCredential);return new Jt(Fe,Y,function(){var dt=(0,_.Z)(function*($t){const un=yield $t._process(I,Fe);delete j.mfaInfo,delete j.mfaPendingCredential;const On=Object.assign(Object.assign({},j),{idToken:un.idToken,refreshToken:un.refreshToken});switch(h.operationType){case"signIn":const An=yield yi._fromIdTokenResponse(I,h.operationType,On);return yield I._updateCurrentUser(An.user),An;case"reauthenticate":return X(h.user,I,"internal-error"),yi._forOperation(h.user,h.operationType,On);default:$e(I,"internal-error")}});return function($t){return dt.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,_.Z)(function*(){return h.signInResolver(c)})()}}function Sn(y,c){return on(y,"POST","/v2/accounts/mfaEnrollment:start",rn(y,c))}class Ci{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(I=>$i._fromServerResponse(c.auth,I)))})}static _fromUser(c){return new Ci(c)}getSession(){var c=this;return(0,_.Z)(function*(){return Ds._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,h){var I=this;return(0,_.Z)(function*(){const j=c,Y=yield I.getSession(),Fe=yield wn(I.user,j._process(I.user.auth,Y,h));return yield I.user._updateTokensIfNecessary(Fe),I.user.reload()})()}unenroll(c){var h=this;return(0,_.Z)(function*(){const I="string"==typeof c?c:c.uid,j=yield h.user.getIdToken(),Y=yield wn(h.user,function Er(y,c){return on(y,"POST","/v2/accounts/mfaEnrollment:withdraw",rn(y,c))}(h.user.auth,{idToken:j,mfaEnrollmentId:I}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Fe})=>Fe!==I),yield h.user._updateTokensIfNecessary(Y);try{yield h.user.reload()}catch(Fe){if("auth/user-token-expired"!==Fe.code)throw Fe}})()}}const si=new WeakMap,wr="__sak";class oo{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(wr,"1"),this.storage.removeItem(wr),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ps=(()=>{class y extends oo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,I)=>this.onStorageEvent(h,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ts(){const y=(0,W.z$)();return Ee(y)||Pn(y)}()&&function Mr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ai(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const I of Object.keys(this.listeners)){const j=this.storage.getItem(I),Y=this.localCache[I];j!==Y&&h(I,Y,j)}}onStorageEvent(h,I=!1){if(!h.key)return void this.forAllChangedKeys((dt,$t,un)=>{this.notifyListeners(dt,un)});const j=h.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(j);if(h.newValue!==dt)null!==h.newValue?this.storage.setItem(j,h.newValue):this.storage.removeItem(j);else if(this.localCache[j]===h.newValue&&!I)return}const Y=()=>{const dt=this.storage.getItem(j);!I&&this.localCache[j]===dt||this.notifyListeners(j,dt)},Fe=this.storage.getItem(j);!function vr(){return(0,W.w1)()&&10===document.documentMode}()||Fe===h.newValue||h.newValue===h.oldValue?Y():setTimeout(Y,10)}notifyListeners(h,I){this.localCache[h]=I;const j=this.listeners[h];if(j)for(const Y of Array.from(j))Y(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,I,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:I,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(I)}_removeListener(h,I){this.listeners[h]&&(this.listeners[h].delete(I),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,I){var j=()=>super._set,Y=this;return(0,_.Z)(function*(){yield j().call(Y,h,I),Y.localCache[h]=JSON.stringify(I)})()}_get(h){var I=()=>super._get,j=this;return(0,_.Z)(function*(){const Y=yield I().call(j,h);return j.localCache[h]=JSON.stringify(Y),Y})()}_remove(h){var I=()=>super._remove,j=this;return(0,_.Z)(function*(){yield I().call(j,h),delete j.localCache[h]})()}}return y.type="LOCAL",y})(),Vs=(()=>{class y extends oo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,I){}_removeListener(h,I){}}return y.type="SESSION",y})();let xu=(()=>{class y{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const I=this.receivers.find(Y=>Y.isListeningto(h));if(I)return I;const j=new y(h);return this.receivers.push(j),j}isListeningto(h){return this.eventTarget===h}handleEvent(h){var I=this;return(0,_.Z)(function*(){const j=h,{eventId:Y,eventType:Fe,data:dt}=j.data,$t=I.handlersMap[Fe];if(!(null==$t?void 0:$t.size))return;j.ports[0].postMessage({status:"ack",eventId:Y,eventType:Fe});const un=Array.from($t).map(function(){var An=(0,_.Z)(function*(fs){return fs(j.origin,dt)});return function(fs){return An.apply(this,arguments)}}()),On=yield function Ra(y){return Promise.all(y.map(function(){var c=(0,_.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(I){return{fulfilled:!1,reason:I}}});return function(h){return c.apply(this,arguments)}}()))}(un);j.ports[0].postMessage({status:"done",eventId:Y,eventType:Fe,response:On})})()}_subscribe(h,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(I)}_unsubscribe(h,I){this.handlersMap[h]&&I&&this.handlersMap[h].delete(I),(!I||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ca(y="",c=10){let h="";for(let I=0;I<c;I++)h+=Math.floor(10*Math.random());return y+h}class Yo{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,I=50){var j=this;return(0,_.Z)(function*(){const Y="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Fe,dt;return new Promise(($t,un)=>{const On=ca("",20);Y.port1.start();const An=setTimeout(()=>{un(new Error("unsupported_event"))},I);dt={messageChannel:Y,onMessage(fs){const No=fs;if(No.data.eventId===On)switch(No.data.status){case"ack":clearTimeout(An),Fe=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),$t(No.data.response);break;default:clearTimeout(An),clearTimeout(Fe),un(new Error("invalid_response"))}}},j.handlers.add(dt),Y.port1.addEventListener("message",dt.onMessage),j.target.postMessage({eventType:c,eventId:On,data:h},[Y.port2])}).finally(()=>{dt&&j.removeMessageHandler(dt)})})()}}function Si(){return window}function Jo(){return void 0!==Si().WorkerGlobalScope&&"function"==typeof Si().importScripts}function da(){return(da=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Mu="firebaseLocalStorageDb",zr="firebaseLocalStorage",Ao="fbase_key";class Xo{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function b(y,c){return y.transaction([zr],c?"readwrite":"readonly").objectStore(zr)}function E(){const y=indexedDB.open(Mu,1);return new Promise((c,h)=>{y.addEventListener("error",()=>{h(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(zr,{keyPath:Ao})}catch(j){h(j)}}),y.addEventListener("success",(0,_.Z)(function*(){const I=y.result;I.objectStoreNames.contains(zr)?c(I):(I.close(),yield function w(){const y=indexedDB.deleteDatabase(Mu);return new Xo(y).toPromise()}(),c(yield E()))}))})}function A(y,c,h){return x.apply(this,arguments)}function x(){return(x=(0,_.Z)(function*(y,c,h){const I=b(y,!0).put({[Ao]:c,value:h});return new Xo(I).toPromise()})).apply(this,arguments)}function re(){return(re=(0,_.Z)(function*(y,c){const h=b(y,!1).get(c),I=yield new Xo(h).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function De(y,c){const h=b(y,!0).delete(c);return new Xo(h).toPromise()}const fn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,_.Z)(function*(){return h.db||(h.db=yield E()),h.db})()}_withRetries(h){var I=this;return(0,_.Z)(function*(){let j=0;for(;;)try{const Y=yield I._openDb();return yield h(Y)}catch(Y){if(j++>3)throw Y;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,_.Z)(function*(){return Jo()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,_.Z)(function*(){h.receiver=xu._getInstance(function wa(){return Jo()?self:null}()),h.receiver._subscribe("keyChanged",function(){var I=(0,_.Z)(function*(j,Y){return{keyProcessed:(yield h._poll()).includes(Y.key)}});return function(j,Y){return I.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var I=(0,_.Z)(function*(j,Y){return["keyChanged"]});return function(j,Y){return I.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,_.Z)(function*(){var I,j;if(h.activeServiceWorker=yield function _i(){return da.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Yo(h.activeServiceWorker);const Y=yield h.sender._send("ping",{},800);!Y||(null===(I=Y[0])||void 0===I?void 0:I.fulfilled)&&(null===(j=Y[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var I=this;return(0,_.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function jo(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:h},I.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const h=yield E();return yield A(h,wr,"1"),yield De(h,wr),!0}catch(h){}return!1})()}_withPendingWrite(h){var I=this;return(0,_.Z)(function*(){I.pendingWrites++;try{yield h()}finally{I.pendingWrites--}})()}_set(h,I){var j=this;return(0,_.Z)(function*(){return j._withPendingWrite((0,_.Z)(function*(){return yield j._withRetries(Y=>A(Y,h,I)),j.localCache[h]=I,j.notifyServiceWorker(h)}))})()}_get(h){var I=this;return(0,_.Z)(function*(){const j=yield I._withRetries(Y=>function B(y,c){return re.apply(this,arguments)}(Y,h));return I.localCache[h]=j,j})()}_remove(h){var I=this;return(0,_.Z)(function*(){return I._withPendingWrite((0,_.Z)(function*(){return yield I._withRetries(j=>De(j,h)),delete I.localCache[h],I.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,_.Z)(function*(){const I=yield h._withRetries(Fe=>{const dt=b(Fe,!1).getAll();return new Xo(dt).toPromise()});if(!I)return[];if(0!==h.pendingWrites)return[];const j=[],Y=new Set;for(const{fbase_key:Fe,value:dt}of I)Y.add(Fe),JSON.stringify(h.localCache[Fe])!==JSON.stringify(dt)&&(h.notifyListeners(Fe,dt),j.push(Fe));for(const Fe of Object.keys(h.localCache))h.localCache[Fe]&&!Y.has(Fe)&&(h.notifyListeners(Fe,null),j.push(Fe));return j})()}notifyListeners(h,I){this.localCache[h]=I;const j=this.listeners[h];if(j)for(const Y of Array.from(j))Y(I)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(I)}_removeListener(h,I){this.listeners[h]&&(this.listeners[h].delete(I),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ar(y,c){return on(y,"POST","/v2/accounts/mfaSignIn:start",rn(y,c))}function $o(){return($o=(0,_.Z)(function*(y){return(yield on(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ia(y){return new Promise((c,h)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=c,I.onerror=j=>{const Y=ve("internal-error");Y.customData=j,h(Y)},I.type="text/javascript",I.charset="UTF-8",function ha(){var y,c;return null!==(c=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==c?c:document}().appendChild(I)})}function Dn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const oi=1e12;class Fn{constructor(c){this.auth=c,this.counter=oi,this._widgets=new Map}render(c,h){const I=this.counter;return this._widgets.set(I,new ea(c,this.auth.name,h||{})),this.counter++,I}reset(c){var h;const I=c||oi;null===(h=this._widgets.get(I))||void 0===h||h.delete(),this._widgets.delete(I)}getResponse(c){var h;return(null===(h=this._widgets.get(c||oi))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,_.Z)(function*(){var I;return null===(I=h._widgets.get(c||oi))||void 0===I||I.execute(),""})()}}class ea{constructor(c,h,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof c?document.getElementById(c):c;X(j,"argument-error",{appName:h}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dr(y){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<y;I++)c.push(h.charAt(Math.floor(Math.random()*h.length)));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yl=Dn("rcb"),rr=new et(3e4,6e4);class Ql{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Si().grecaptcha}load(c,h=""){return X(function Jl(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(h),c,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(Si().grecaptcha):new Promise((I,j)=>{const Y=Si().setTimeout(()=>{j(ve(c,"network-request-failed"))},rr.get());Si()[Yl]=()=>{Si().clearTimeout(Y),delete Si()[Yl];const dt=Si().grecaptcha;if(!dt)return void j(ve(c,"internal-error"));const $t=dt.render;dt.render=(un,On)=>{const An=$t(un,On);return this.counter++,An},this.hostLanguage=h,I(dt)},Ia(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Yl,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(Y),j(ve(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!Si().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xa{load(c){return(0,_.Z)(function*(){return new Fn(c)})()}clearedOneInstance(){}}const uu="recaptcha",Pu={theme:"light",type:"image"};class id{constructor(c,h=Object.assign({},Pu),I){this.parameters=h,this.type=uu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(I),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof c?document.getElementById(c):c;X(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xa:new Ql,this.validateStartingState()}verify(){var c=this;return(0,_.Z)(function*(){c.assertNotDestroyed();const h=yield c.render(),I=c.getAssertedRecaptcha();return I.getResponse(h)||new Promise(Y=>{const Fe=dt=>{!dt||(c.tokenChangeListeners.delete(Fe),Y(dt))};c.tokenChangeListeners.add(Fe),c.isInvisible&&I.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(I=>I(h)),"function"==typeof c)c(h);else if("string"==typeof c){const I=Si()[c];"function"==typeof I&&I(h)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,_.Z)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const I=document.createElement("div");h.appendChild(I),h=I}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,_.Z)(function*(){X(Kt()&&!Jo(),c.auth,"internal-error"),yield function Ka(){let y=null;return new Promise(c=>{"complete"!==document.readyState?(y=()=>c(),window.addEventListener("load",y)):c()}).catch(c=>{throw y&&window.removeEventListener("load",y),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function cs(y){return $o.apply(this,arguments)}(c.auth);X(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ws{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=Zi._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function Wa(){return(Wa=(0,_.Z)(function*(y,c,h){const I=tn(y),j=yield Os(I,c,(0,W.m9)(h));return new Ws(j,Y=>bn(I,Y))})).apply(this,arguments)}function pa(){return(pa=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y);yield P(!1,I,"phone");const j=yield Os(I.auth,c,(0,W.m9)(h));return new Ws(j,Y=>kn(I,Y))})).apply(this,arguments)}function Qe(){return(Qe=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y),j=yield Os(I.auth,c,(0,W.m9)(h));return new Ws(j,Y=>kr(I,Y))})).apply(this,arguments)}function Os(y,c,h){return qs.apply(this,arguments)}function qs(){return(qs=(0,_.Z)(function*(y,c,h){var I;const j=yield h.verify();try{let Y;if(X("string"==typeof j,y,"argument-error"),X(h.type===uu,y,"argument-error"),Y="string"==typeof c?{phoneNumber:c}:c,"session"in Y){const Fe=Y.session;if("phoneNumber"in Y)return X("enroll"===Fe.type,y,"internal-error"),(yield Sn(y,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{X("signin"===Fe.type,y,"internal-error");const dt=(null===(I=Y.multiFactorHint)||void 0===I?void 0:I.uid)||Y.multiFactorUid;return X(dt,y,"missing-multi-factor-info"),(yield Ar(y,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield Je(y,{phoneNumber:Y.phoneNumber,recaptchaToken:j});return Fe}}finally{h._reset()}})).apply(this,arguments)}function lo(){return(lo=(0,_.Z)(function*(y,c){yield O((0,W.m9)(y),c)})).apply(this,arguments)}let js=(()=>{class y{constructor(h){this.providerId=y.PROVIDER_ID,this.auth=tn(h)}verifyPhoneNumber(h,I){return Os(this.auth,h,(0,W.m9)(I))}static credential(h,I){return Zi._fromVerification(h,I)}static credentialFromResult(h){return y.credentialFromTaggedObject(h)}static credentialFromError(h){return y.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:I,temporaryProof:j}=h;return I&&j?Zi._fromTokenResponse(I,j):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ga(y,c){return c?Ne(c):(X(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ho extends ui{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return ss(c,this._buildIdpRequest())}_linkToIdToken(c,h){return ss(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return ss(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function vl(y){return ft(y.auth,new Ho(y),y.bypassAuthState)}function Ou(y){const{auth:c,user:h}=y;return X(h,c,"internal-error"),pe(h,new Ho(y),y.bypassAuthState)}function sd(y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,_.Z)(function*(y){const{auth:c,user:h}=y;return X(h,c,"internal-error"),O(h,new Ho(y),y.bypassAuthState)})).apply(this,arguments)}class Ns{constructor(c,h,I,j,Y=!1){this.auth=c,this.resolver=I,this.user=j,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,_.Z)(function*(I,j){c.pendingPromise={resolve:I,reject:j};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(Y){c.reject(Y)}});return function(I,j){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,_.Z)(function*(){const{urlResponse:I,sessionId:j,postBody:Y,tenantId:Fe,error:dt,type:$t}=c;if(dt)return void h.reject(dt);const un={auth:h.auth,requestUri:I,sessionId:j,tenantId:Fe||void 0,postBody:Y||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask($t)(un))}catch(On){h.reject(On)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return vl;case"linkViaPopup":case"linkViaRedirect":return sd;case"reauthViaPopup":case"reauthViaRedirect":return Ou;default:$e(this.auth,"internal-error")}}resolve(c){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ma=new et(2e3,1e4);function ta(){return(ta=(0,_.Z)(function*(y,c,h){const I=tn(y);wt(y,c,hi);const j=ga(I,h);return new Nu(I,"signInViaPopup",c,j).executeNotNull()})).apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y);wt(I.auth,c,hi);const j=ga(I.auth,h);return new Nu(I.auth,"reauthViaPopup",c,j,I).executeNotNull()})).apply(this,arguments)}function br(){return(br=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y);wt(I.auth,c,hi);const j=ga(I.auth,h);return new Nu(I.auth,"linkViaPopup",c,j,I).executeNotNull()})).apply(this,arguments)}let Nu=(()=>{class y extends Ns{constructor(h,I,j,Y,Fe){super(h,I,Y,Fe),this.provider=j,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var h=this;return(0,_.Z)(function*(){const I=yield h.execute();return X(I,h.auth,"internal-error"),I})()}onExecution(){var h=this;return(0,_.Z)(function*(){ue(1===h.filter.length,"Popup operations only handle one event");const I=ca();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],I),h.authWindow.associatedEvent=I,h.resolver._originValidation(h.auth).catch(j=>{h.reject(j)}),h.resolver._isIframeWebStorageSupported(h.auth,j=>{j||h.reject(ve(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const h=()=>{var I,j;this.pollId=(null===(j=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,Ma.get())};h()}}return y.currentPopupAction=null,y})();const ds=new Map;class _l extends Ns{constructor(c,h,I=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,I),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,_.Z)(function*(){let I=ds.get(h.auth._key());if(!I){try{const Y=(yield function hs(y,c){return Pa.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;I=()=>Promise.resolve(Y)}catch(j){I=()=>Promise.reject(j)}ds.set(h.auth._key(),I)}return h.bypassAuthState||ds.set(h.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,I=this;return(0,_.Z)(function*(){if("signInViaRedirect"===c.type)return h().call(I,c);if("unknown"!==c.type){if(c.eventId){const j=yield I.auth._redirectUserForId(c.eventId);if(j)return I.user=j,h().call(I,c);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Pa(){return(Pa=(0,_.Z)(function*(y,c){const h=he(c),I=Z(y);if(!(yield I._isAvailable()))return!1;const j="true"===(yield I._get(h));return yield I._remove(h),j})).apply(this,arguments)}function Ro(y,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,_.Z)(function*(y,c){return Z(y)._set(he(c),"true")})).apply(this,arguments)}function k(y,c){ds.set(y._key(),c)}function Z(y){return Ne(y._redirectPersistence)}function he(y){return Zn("pendingRedirect",y.config.apiKey,y.name)}function St(){return(St=(0,_.Z)(function*(y,c,h){const I=tn(y);wt(y,c,hi);const j=ga(I,h);return yield Ro(j,I),j._openRedirect(I,c,"signInViaRedirect")})).apply(this,arguments)}function Hn(){return(Hn=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y);wt(I.auth,c,hi);const j=ga(I.auth,h);yield Ro(j,I.auth);const Y=yield ba(I);return j._openRedirect(I.auth,c,"reauthViaRedirect",Y)})).apply(this,arguments)}function Xr(){return(Xr=(0,_.Z)(function*(y,c,h){const I=(0,W.m9)(y);wt(I.auth,c,hi);const j=ga(I.auth,h);yield P(!1,I,c.providerId),yield Ro(j,I.auth);const Y=yield ba(I);return j._openRedirect(I.auth,c,"linkViaRedirect",Y)})).apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(y,c){return yield tn(y)._initializationPromise,ma(y,c,!1)})).apply(this,arguments)}function ma(y,c){return ks.apply(this,arguments)}function ks(){return(ks=(0,_.Z)(function*(y,c,h=!1){const I=tn(y),j=ga(I,c),Fe=yield new _l(I,j,h).execute();return Fe&&!h&&(delete Fe.user._redirectEventId,yield I._persistUserIfCurrent(Fe.user),yield I._setRedirectUser(null,c)),Fe})).apply(this,arguments)}function ba(y){return xo.apply(this,arguments)}function xo(){return(xo=(0,_.Z)(function*(y){const c=ca(`${y.uid}:::`);return y._redirectEventId=c,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),c})).apply(this,arguments)}class Mo{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(c,I)&&(h=!0,this.sendToConsumer(c,I),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function cu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qa(y);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var I;if(c.error&&!Qa(c)){const j=(null===(I=c.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";h.onError(ve(this.auth,j))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const I=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&I}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ya(c))}saveEventToCache(c){this.cachedEventUids.add(ya(c)),this.lastProcessedEventTime=Date.now()}}function ya(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(c=>c).join("-")}function Qa({type:y,error:c}){return"unknown"===y&&"auth/no-auth-event"===(null==c?void 0:c.code)}function du(y){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,_.Z)(function*(y,c={}){return on(y,"GET","/v1/projects",c)})).apply(this,arguments)}const Df=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ku=/^https?/;function ec(){return(ec=(0,_.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:c}=yield du(y);for(const h of c)try{if(Ys(h))return}catch(I){}$e(y,"unauthorized-domain")})).apply(this,arguments)}function Ys(y){const c=Et(),{protocol:h,hostname:I}=new URL(c);if(y.startsWith("chrome-extension://")){const Fe=new URL(y);return""===Fe.hostname&&""===I?"chrome-extension:"===h&&y.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&Fe.hostname===I}if(!ku.test(h))return!1;if(Df.test(y))return I===y;const j=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(I)}const od=new et(3e4,6e4);function Ei(){const y=Si().___jsl;if(null==y?void 0:y.H)for(const c of Object.keys(y.H))if(y.H[c].r=y.H[c].r||[],y.H[c].L=y.H[c].L||[],y.H[c].r=[...y.H[c].L],y.CP)for(let h=0;h<y.CP.length;h++)y.CP[h]=null}let El=null;function hu(y){return El=El||function mg(y){return new Promise((c,h)=>{var I,j,Y;function Fe(){Ei(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Ei(),h(ve(y,"network-request-failed"))},timeout:od.get()})}if(null===(j=null===(I=Si().gapi)||void 0===I?void 0:I.iframes)||void 0===j?void 0:j.Iframe)c(gapi.iframes.getContext());else{if(!(null===(Y=Si().gapi)||void 0===Y?void 0:Y.load)){const dt=Dn("iframefcb");return Si()[dt]=()=>{gapi.load?Fe():h(ve(y,"network-request-failed"))},Ia(`https://apis.google.com/js/api.js?onload=${dt}`).catch($t=>h($t))}Fe()}}).catch(c=>{throw El=null,c})}(y),El}const Tf=new et(5e3,15e3),Oa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xd(y){const c=y.config;X(c.authDomain,y,"auth-domain-config-required");const h=c.emulator?gt(c,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,I={apiKey:c.apiKey,appName:y.name,v:ce.SDK_VERSION},j=Jd.get(y.config.apiHost);j&&(I.eid=j);const Y=y._getFrameworks();return Y.length&&(I.fw=Y.join(",")),`${h}?${(0,W.xO)(I).slice(1)}`}function Uu(){return Uu=(0,_.Z)(function*(y){const c=yield hu(y),h=Si().gapi;return X(h,y,"internal-error"),c.open({where:document.body,url:Xd(y),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oa,dontclear:!0},I=>new Promise(function(){var j=(0,_.Z)(function*(Y,Fe){yield I.restyle({setHideOnLeave:!1});const dt=ve(y,"network-request-failed"),$t=Si().setTimeout(()=>{Fe(dt)},Tf.get());function un(){Si().clearTimeout($t),Y(I)}I.ping(un).then(un,()=>{Fe(dt)})});return function(Y,Fe){return j.apply(this,arguments)}}()))}),Uu.apply(this,arguments)}const ad={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nh{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function na(y,c,h,I,j,Y){X(y.config.authDomain,y,"auth-domain-config-required"),X(y.config.apiKey,y,"invalid-api-key");const Fe={apiKey:y.config.apiKey,appName:y.name,authType:h,redirectUrl:I,v:ce.SDK_VERSION,eventId:j};if(c instanceof hi){c.setDefaultLanguage(y.languageCode),Fe.providerId=c.providerId||"",(0,W.xb)(c.getCustomParameters())||(Fe.customParameters=JSON.stringify(c.getCustomParameters()));for(const[$t,un]of Object.entries(Y||{}))Fe[$t]=un}if(c instanceof ms){const $t=c.getScopes().filter(un=>""!==un);$t.length>0&&(Fe.scopes=$t.join(","))}y.tenantId&&(Fe.tid=y.tenantId);const dt=Fe;for(const $t of Object.keys(dt))void 0===dt[$t]&&delete dt[$t];return`${function pu({config:y}){return y.emulator?gt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,W.xO)(dt).slice(1)}`}const ra="webStorageSupport";class wl extends class Af{constructor(c){this.factorId=c}_process(c,h,I){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,I);case"signin":return this._finalizeSignIn(c,h.credential);default:return tt("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new wl(c)}_finalizeEnroll(c,h,I){return function fr(y,c){return on(y,"POST","/v2/accounts/mfaEnrollment:finalize",rn(y,c))}(c,{idToken:h,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function Rr(y,c){return on(y,"POST","/v2/accounts/mfaSignIn:finalize",rn(y,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ld=(()=>{class y{constructor(){}static assertion(h){return wl._fromCredential(h)}}return y.FACTOR_ID="phone",y})();var Il="@firebase/auth";class ia{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,_.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(I=>{var j;c((null===(j=I)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);!h||(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Na(){return window}function zo(){return(zo=(0,_.Z)(function*(y,c,h){var I;const{BuildInfo:j}=Na();ue(c.sessionId,"AuthEvent did not contain a session ID");const Y=yield _g(c.sessionId),Fe={};return Pn()?Fe.ibi=j.packageName:pt()?Fe.apn=j.packageName:$e(y,"operation-not-supported-in-this-environment"),j.displayName&&(Fe.appDisplayName=j.displayName),Fe.sessionId=Y,na(y,h,c.type,void 0,null!==(I=c.eventId)&&void 0!==I?I:void 0,Fe)})).apply(this,arguments)}function Tl(){return(Tl=(0,_.Z)(function*(y){const{BuildInfo:c}=Na(),h={};Pn()?h.iosBundleId=c.packageName:pt()?h.androidPackageName=c.packageName:$e(y,"operation-not-supported-in-this-environment"),yield du(y,h)})).apply(this,arguments)}function Cl(){return(Cl=(0,_.Z)(function*(y,c,h){const{cordova:I}=Na();let j=()=>{};try{yield new Promise((Y,Fe)=>{let dt=null;function $t(){var An;Y();const fs=null===(An=I.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof fs&&fs(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function un(){dt||(dt=window.setTimeout(()=>{Fe(ve(y,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===(null==document?void 0:document.visibilityState)&&un()}c.addPassiveListener($t),document.addEventListener("resume",un,!1),pt()&&document.addEventListener("visibilitychange",On,!1),j=()=>{c.removePassiveListener($t),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",On,!1),dt&&window.clearTimeout(dt)}})}finally{j()}})).apply(this,arguments)}function _g(y){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,_.Z)(function*(y){const c=eu(y),h=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(h)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function eu(y){if(ue(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const c=new ArrayBuffer(y.length),h=new Uint8Array(c);for(let I=0;I<y.length;I++)h[I]=y.charCodeAt(I);return h}!function bl(y){(0,ce._registerComponent)(new Re.wA("auth",(c,{options:h})=>{const I=c.getProvider("app").getImmediate(),j=c.getProvider("heartbeat"),{apiKey:Y,authDomain:Fe}=I.options;return((dt,$t)=>{X(Y&&!Y.includes(":"),"invalid-api-key",{appName:dt.name}),X(!(null==Fe?void 0:Fe.includes(":")),"argument-error",{appName:dt.name});const un={apiKey:Y,authDomain:Fe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ni(y)},On=new Pt(dt,$t,un);return function Ve(y,c){const h=(null==c?void 0:c.persistence)||[],I=(Array.isArray(h)?h:[h]).map(Ne);(null==c?void 0:c.errorMap)&&y._updateErrorMap(c.errorMap),y._initializeWithPersistence(I,null==c?void 0:c.popupRedirectResolver)}(On,h),On})(I,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,I)=>{c.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Re.wA("auth-internal",c=>{const h=tn(c.getProvider("auth").getImmediate());return new ia(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Il,"0.20.3",function ih(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(Il,"0.20.3","esm2017")}("Browser");class Rf extends Mo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(c)),super.onEvent(c)}initialized(){var c=this;return(0,_.Z)(function*(){yield c.initPromise})()}}function vu(y){return tc.apply(this,arguments)}function tc(){return(tc=(0,_.Z)(function*(y){const c=yield nc()._get($u(y));return c&&(yield nc()._remove($u(y))),c})).apply(this,arguments)}function Sl(){const y=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const I=Math.floor(Math.random()*c.length);y.push(c.charAt(I))}return y.join("")}function nc(){return Ne(Ps)}function $u(y){return Zn("authEvent",y.config.apiKey,y.name)}function _u(y){if(!(null==y?void 0:y.includes("?")))return{};const[c,...h]=y.split("?");return(0,W.zd)(h.join("?"))}function rc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function zu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ku(y=(0,W.z$)()){return!("file:"!==zu()&&"ionic:"!==zu()&&"capacitor:"!==zu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function sc(){try{const y=self.localStorage,c=ca();if(y)return y.setItem(c,"1"),y.removeItem(c),!function xr(y=(0,W.z$)()){return function Rl(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Lr(y=(0,W.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,W.hl)()}catch(y){return xl()&&(0,W.hl)()}return!1}function xl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ni(){return(function ah(){return"http:"===zu()||"https:"===zu()}()||(0,W.ru)()||Ku())&&!function uh(){return(0,W.b$)()||(0,W.UG)()}()&&sc()&&!xl()}function Wu(){return Ku()&&"undefined"!=typeof document}function oc(){return(oc=(0,_.Z)(function*(){return!!Wu()&&new Promise(y=>{const c=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),y(!0)})})})).apply(this,arguments)}const fo={LOCAL:"local",NONE:"none",SESSION:"session"},Po=X,ac="persistence";function uc(y){return pd.apply(this,arguments)}function pd(){return(pd=(0,_.Z)(function*(y){yield y._initializationPromise;const c=lc(),h=Zn(ac,y.config.apiKey,y.name);c&&c.setItem(h,y._getPersistence())})).apply(this,arguments)}function lc(){var y;try{return(null===(y=function Ml(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(c){return null}}const cc=X;class sa{constructor(){this.browserResolver=Ne(class rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=ma,this._overrideRedirectResult=k}_openPopup(c,h,I,j){var Y=this;return(0,_.Z)(function*(){var Fe;ue(null===(Fe=Y.eventManagers[c._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const dt=na(c,h,I,Et(),j);return function Cf(y,c,h,I=500,j=600){const Y=Math.max((window.screen.availHeight-j)/2,0).toString(),Fe=Math.max((window.screen.availWidth-I)/2,0).toString();let dt="";const $t=Object.assign(Object.assign({},ad),{width:I.toString(),height:j.toString(),top:Y,left:Fe}),un=(0,W.z$)().toLowerCase();h&&(dt=ne(un)?"_blank":h),We(un)&&(c=c||"http://localhost",$t.scrollbars="yes");const On=Object.entries($t).reduce((fs,[No,Zu])=>`${fs}${No}=${Zu},`,"");if(function Fi(y=(0,W.z$)()){var c;return Pn(y)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(un)&&"_self"!==dt)return function Xa(y,c){const h=document.createElement("a");h.href=y,h.target=c;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(I)}(c||"",dt),new nh(null);const An=window.open(c||"",dt,On);X(An,y,"popup-blocked");try{An.focus()}catch(fs){}return new nh(An)}(c,dt,ca())})()}_openRedirect(c,h,I,j){var Y=this;return(0,_.Z)(function*(){return yield Y._originValidation(c),function Qo(y){Si().location.href=y}(na(c,h,I,Et(),j)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:j,promise:Y}=this.eventManagers[h];return j?Promise.resolve(j):(ue(Y,"If manager is not set, promise should be"),Y)}const I=this.initAndGetManager(c);return this.eventManagers[h]={promise:I},I.catch(()=>{delete this.eventManagers[h]}),I}initAndGetManager(c){var h=this;return(0,_.Z)(function*(){const I=yield function Qs(y){return Uu.apply(this,arguments)}(c),j=new Mo(c);return I.register("authEvent",Y=>(X(null==Y?void 0:Y.authEvent,c,"invalid-auth-event"),{status:j.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:j},h.iframes[c._key()]=I,j})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(ra,{type:ra},j=>{var Y;const Fe=null===(Y=null==j?void 0:j[0])||void 0===Y?void 0:Y[ra];void 0!==Fe&&h(!!Fe),$e(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Lu(y){return ec.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return ai()||Ee()||Pn()}}),this.cordovaResolver=Ne(class xf{constructor(){this._redirectPersistence=Vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ma,this._overrideRedirectResult=k}_initialize(c){var h=this;return(0,_.Z)(function*(){const I=c._key();let j=h.eventManagers.get(I);return j||(j=new Rf(c),h.eventManagers.set(I,j),h.attachCallbackListeners(c,j)),j})()}_openPopup(c){$e(c,"operation-not-supported-in-this-environment")}_openRedirect(c,h,I,j){var Y=this;return(0,_.Z)(function*(){!function vg(y){var c,h,I,j,Y,Fe,dt,$t,un,On;const An=Na();X("function"==typeof(null===(c=null==An?void 0:An.universalLinks)||void 0===c?void 0:c.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(void 0!==(null===(h=null==An?void 0:An.BuildInfo)||void 0===h?void 0:h.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X("function"==typeof(null===(Y=null===(j=null===(I=null==An?void 0:An.cordova)||void 0===I?void 0:I.plugins)||void 0===j?void 0:j.browsertab)||void 0===Y?void 0:Y.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===($t=null===(dt=null===(Fe=null==An?void 0:An.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===$t?void 0:$t.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(On=null===(un=null==An?void 0:An.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===On?void 0:On.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const Fe=yield Y._initialize(c);yield Fe.initialized(),Fe.resetRedirect(),function M(){ds.clear()}(),yield Y._originValidation(c);const dt=function ju(y,c,h=null){return{type:c,eventId:h,urlResponse:null,sessionId:Sl(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(c,I,j);yield function fd(y,c){return nc()._set($u(y),c)}(c,dt);const $t=yield function cd(y,c,h){return zo.apply(this,arguments)}(c,dt,h),un=yield function dd(y){const{cordova:c}=Na();return new Promise(h=>{c.plugins.browsertab.isAvailable(I=>{let j=null;I?c.plugins.browsertab.openUrl(y):j=c.InAppBrowser.open(y,function Hr(y=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),h(j)})})}($t);return function hd(y,c,h){return Cl.apply(this,arguments)}(c,Fe,un)})()}_isIframeWebStorageSupported(c,h){throw new Error("Method not implemented.")}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Dl(y){return Tl.apply(this,arguments)}(c)),this.originValidationPromises[h]}attachCallbackListeners(c,h){const{universalLinks:I,handleOpenURL:j,BuildInfo:Y}=Na(),Fe=setTimeout((0,_.Z)(function*(){yield vu(c),h.onEvent(rc())}),500),dt=function(){var On=(0,_.Z)(function*(An){clearTimeout(Fe);const fs=yield vu(c);let No=null;fs&&(null==An?void 0:An.url)&&(No=function sh(y,c){var h,I;const j=function Hu(y){const c=_u(y),h=c.link?decodeURIComponent(c.link):void 0,I=_u(h).link,j=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return _u(j).link||j||I||h||y}(c);if(j.includes("/__/auth/callback")){const Y=_u(j),Fe=Y.firebaseError?function Li(y){try{return JSON.parse(y)}catch(c){return null}}(decodeURIComponent(Y.firebaseError)):null,dt=null===(I=null===(h=null==Fe?void 0:Fe.code)||void 0===h?void 0:h.split("auth/"))||void 0===I?void 0:I[1],$t=dt?ve(dt):null;return $t?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:$t,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:j,postBody:null}}return null}(fs,An.url)),h.onEvent(No||rc())});return function(fs){return On.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,dt);const $t=j,un=`${Y.packageName.toLowerCase()}://`;Na().handleOpenURL=function(){var On=(0,_.Z)(function*(An){if(An.toLowerCase().startsWith(un)&&dt({url:An}),"function"==typeof $t)try{$t(An)}catch(fs){console.error(fs)}});return function(An){return On.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vs,this._completeRedirectFn=ma,this._overrideRedirectResult=k}_initialize(c){var h=this;return(0,_.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,h,I,j){var Y=this;return(0,_.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(c,h,I,j)})()}_openRedirect(c,h,I,j){var Y=this;return(0,_.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(c,h,I,j)})()}_isIframeWebStorageSupported(c,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,h)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Wu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,_.Z)(function*(){if(c.underlyingResolver)return;const h=yield function Js(){return oc.apply(this,arguments)}();c.underlyingResolver=h?c.cordovaResolver:c.browserResolver})()}}function tu(y){return y.unwrap()}function lh(y){return gd(y)}function gd(y){const{_tokenResponse:c}=y instanceof W.ZR?y.customData:y;if(!c)return null;if(!(y instanceof W.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return js.credentialFromResult(y);const h=c.providerId;if(!h||"password"===h)return null;let I;switch(h){case"google.com":I=Hs;break;case"facebook.com":I=Fs;break;case"github.com":I=ys;break;case"twitter.com":I=Gs;break;default:const{oauthIdToken:j,oauthAccessToken:Y,oauthTokenSecret:Fe,pendingToken:dt,nonce:$t}=c;return Y||Fe||j||dt?dt?h.startsWith("saml.")?Jr._create(h,dt):ge._fromParams({providerId:h,signInMethod:h,pendingToken:dt,idToken:j,accessToken:Y}):new Bi(h).credential({idToken:j,accessToken:Y,rawNonce:$t}):null}return y instanceof W.ZR?I.credentialFromError(y):I.credentialFromResult(y)}function Oo(y,c){return c.catch(h=>{throw h instanceof W.ZR&&function Ol(y,c){var h;const I=null===(h=c.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Mf(y,function Vt(y,c){var h;const I=(0,W.m9)(y),j=c;return X(c.customData.operationType,I,"argument-error"),X(null===(h=j.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,I,"argument-error"),Jt._fromError(I,j)}(y,c));else if(I){const j=gd(c),Y=c;j&&(Y.credential=j,Y.tenantId=I.tenantId||void 0,Y.email=I.email||void 0,Y.phoneNumber=I.phoneNumber||void 0)}}(y,h),h}).then(h=>{const j=h.user;return{operationType:h.operationType,credential:lh(h),additionalUserInfo:Or(h),user:Da.getOrCreate(j)}})}function hc(y,c){return fc.apply(this,arguments)}function fc(){return(fc=(0,_.Z)(function*(y,c){const h=yield c;return{verificationId:h.verificationId,confirm:I=>Oo(y,h.confirm(I))}})).apply(this,arguments)}class Mf{constructor(c,h){this.resolver=h,this.auth=function dc(y){return y.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Oo(tu(this.auth),this.resolver.resolveSignIn(c))}}class Da{constructor(c){this._delegate=c,this.multiFactor=function Ks(y){const c=(0,W.m9)(y);return si.has(c)||si.set(c,Ci._fromUser(c)),si.get(c)}(c)}static getOrCreate(c){return Da.USER_MAP.has(c)||Da.USER_MAP.set(c,new Da(c)),Da.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var h=this;return(0,_.Z)(function*(){return Oo(h.auth,kn(h._delegate,c))})()}linkWithPhoneNumber(c,h){var I=this;return(0,_.Z)(function*(){return hc(I.auth,function lu(y,c,h){return pa.apply(this,arguments)}(I._delegate,c,h))})()}linkWithPopup(c){var h=this;return(0,_.Z)(function*(){return Oo(h.auth,function Cs(y,c,h){return br.apply(this,arguments)}(h._delegate,c,sa))})()}linkWithRedirect(c){var h=this;return(0,_.Z)(function*(){return yield uc(tn(h.auth)),function Tr(y,c,h){return function Tn(y,c,h){return Xr.apply(this,arguments)}(y,c,h)}(h._delegate,c,sa)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var h=this;return(0,_.Z)(function*(){return Oo(h.auth,kr(h._delegate,c))})()}reauthenticateWithPhoneNumber(c,h){return hc(this.auth,function yl(y,c,h){return Qe.apply(this,arguments)}(this._delegate,c,h))}reauthenticateWithPopup(c){return Oo(this.auth,function Oi(y,c,h){return Ya.apply(this,arguments)}(this._delegate,c,sa))}reauthenticateWithRedirect(c){var h=this;return(0,_.Z)(function*(){return yield uc(tn(h.auth)),function nn(y,c,h){return function mn(y,c,h){return Hn.apply(this,arguments)}(y,c,h)}(h._delegate,c,sa)})()}sendEmailVerification(c){return function g(y,c){return C.apply(this,arguments)}(this._delegate,c)}unlink(c){var h=this;return(0,_.Z)(function*(){return yield function Is(y,c){return Jn.apply(this,arguments)}(h._delegate,c),h})()}updateEmail(c){return function Lt(y,c){return cn((0,W.m9)(y),c,null)}(this._delegate,c)}updatePassword(c){return function Ht(y,c){return cn((0,W.m9)(y),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function qa(y,c){return lo.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Le(y,c){return nt.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,h){return function V(y,c,h){return q.apply(this,arguments)}(this._delegate,c,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Da.USER_MAP=new WeakMap;const Nl=X;let qu=(()=>{class y{constructor(h,I){if(this.app=h,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=h.options;Nl(j,"invalid-api-key",{appName:h.name}),Nl(j,"invalid-api-key",{appName:h.name});const Y="undefined"!=typeof window?sa:void 0;this._delegate=I.initialize({options:{persistence:Pf(j,h.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(at),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Da.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,I){!function wi(y,c,h){const I=tn(y);X(I._canInitEmulator,I,"emulator-config-failed"),X(/^https?:\/\//.test(c),I,"invalid-emulator-scheme");const j=!!(null==h?void 0:h.disableWarnings),Y=Ii(c),{host:Fe,port:dt}=function sr(y){const c=Ii(y),h=/(\/\/)?([^?#/]+)/.exec(y.substr(c.length));if(!h)return{host:"",port:null};const I=h[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(I);if(j){const Y=j[1];return{host:Y,port:Gr(I.substr(Y.length+1))}}{const[Y,Fe]=I.split(":");return{host:Y,port:Gr(Fe)}}}(c);I.config.emulator={url:`${Y}//${Fe}${null===dt?"":`:${dt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Fe,port:dt,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function dr(){function y(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,h,I)}applyActionCode(h){return function xs(y,c){return Dt.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return Wn(this._delegate,h)}confirmPasswordReset(h,I){return function qo(y,c,h){return Io.apply(this,arguments)}(this._delegate,h,I)}createUserWithEmailAndPassword(h,I){var j=this;return(0,_.Z)(function*(){return Oo(j._delegate,function io(y,c,h){return us.apply(this,arguments)}(j._delegate,h,I))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function S(y,c){return p.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function bo(y,c){const h=Yi.parseLink(c);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,_.Z)(function*(){Nl(Ni(),h._delegate,"operation-not-supported-in-this-environment");const I=yield function Ss(y,c){return ho.apply(this,arguments)}(h._delegate,sa);return I?Oo(h._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function ic(y,c){tn(y)._logFramework(c)}(this._delegate,h)}onAuthStateChanged(h,I,j){const{next:Y,error:Fe,complete:dt}=md(h,I,j);return this._delegate.onAuthStateChanged(Y,Fe,dt)}onIdTokenChanged(h,I,j){const{next:Y,error:Fe,complete:dt}=md(h,I,j);return this._delegate.onIdTokenChanged(Y,Fe,dt)}sendSignInLinkToEmail(h,I){return function ua(y,c,h){return Zo.apply(this,arguments)}(this._delegate,h,I)}sendPasswordResetEmail(h,I){return function bs(y,c,h){return wo.apply(this,arguments)}(this._delegate,h,I||void 0)}setPersistence(h){var I=this;return(0,_.Z)(function*(){let j;switch(function Pl(y,c){Po(Object.values(fo).includes(c),y,"invalid-persistence-type"),(0,W.b$)()?Po(c!==fo.SESSION,y,"unsupported-persistence-type"):(0,W.UG)()?Po(c===fo.NONE,y,"unsupported-persistence-type"):xl()?Po(c===fo.NONE||c===fo.LOCAL&&(0,W.hl)(),y,"unsupported-persistence-type"):Po(c===fo.NONE||sc(),y,"unsupported-persistence-type")}(I._delegate,h),h){case fo.SESSION:j=Vs;break;case fo.LOCAL:j=(yield Ne(fn)._isAvailable())?fn:Ps;break;case fo.NONE:j=gn;break;default:return $e("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Oo(this._delegate,function Qi(y){return vs.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Oo(this._delegate,bn(this._delegate,h))}signInWithCustomToken(h){return Oo(this._delegate,function ri(y,c){return hn.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,I){return Oo(this._delegate,function so(y,c,h){return bn((0,W.m9)(y),_o.credential(c,h))}(this._delegate,h,I))}signInWithEmailLink(h,I){return Oo(this._delegate,function Bo(y,c,h){return F.apply(this,arguments)}(this._delegate,h,I))}signInWithPhoneNumber(h,I){return hc(this._delegate,function Gi(y,c,h){return Wa.apply(this,arguments)}(this._delegate,h,I))}signInWithPopup(h){var I=this;return(0,_.Z)(function*(){return Nl(Ni(),I._delegate,"operation-not-supported-in-this-environment"),Oo(I._delegate,function Za(y,c,h){return ta.apply(this,arguments)}(I._delegate,h,sa))})()}signInWithRedirect(h){var I=this;return(0,_.Z)(function*(){return Nl(Ni(),I._delegate,"operation-not-supported-in-this-environment"),yield uc(I._delegate),function He(y,c,h){return function Ze(y,c,h){return St.apply(this,arguments)}(y,c,h)}(I._delegate,h,sa)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function qr(y,c){return Bs.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=fo,y})();function md(y,c,h){let I=y;"function"!=typeof y&&({next:I,error:c,complete:h}=y);const j=I;return{next:Fe=>j(Fe&&Da.getOrCreate(Fe)),error:c,complete:h}}function Pf(y,c){const h=function pr(y,c){const h=lc();if(!h)return[];const I=Zn(ac,y,c);switch(h.getItem(I)){case fo.NONE:return[gn];case fo.LOCAL:return[fn,Vs];case fo.SESSION:return[Vs];default:return[]}}(y,c);if("undefined"!=typeof self&&!h.includes(fn)&&h.push(fn),"undefined"!=typeof window)for(const I of[Ps,Vs])h.includes(I)||h.push(I);return h.includes(gn)||h.push(gn),h}class _s{constructor(){this.providerId="phone",this._delegate=new js(tu(K.Z.auth()))}static credential(c,h){return js.credential(c,h)}verifyPhoneNumber(c,h){return this._delegate.verifyPhoneNumber(c,h)}unwrap(){return this._delegate}}_s.PHONE_SIGN_IN_METHOD=js.PHONE_SIGN_IN_METHOD,_s.PROVIDER_ID=js.PROVIDER_ID;const yd=X;class ch{constructor(c,h,I=K.Z.app()){var j;yd(null===(j=I.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new id(c,h,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function po(y){y.INTERNAL.registerComponent(new Re.wA("auth-compat",c=>{const h=c.getProvider("app-compat").getImmediate(),I=c.getProvider("auth");return new qu(h,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_o,FacebookAuthProvider:Fs,GithubAuthProvider:ys,GoogleAuthProvider:Hs,OAuthProvider:Bi,SAMLAuthProvider:fi,PhoneAuthProvider:_s,PhoneMultiFactorGenerator:ld,RecaptchaVerifier:ch,TwitterAuthProvider:Gs,Auth:qu,AuthCredential:ui,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.16")}(K.Z)},1135:(Ft,je,L)=>{L.d(je,{X:()=>K});var _=L(7579);class K extends _.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const ye=super._subscribe(ce);return!ye.closed&&ce.next(this._value),ye}getValue(){const{hasError:ce,thrownError:ye,_value:Te}=this;if(ce)throw ye;return this._throwIfClosed(),Te}next(ce){super.next(this._value=ce)}}},8306:(Ft,je,L)=>{L.d(je,{y:()=>ae});var _=L(930),K=L(727),W=L(8822),ce=L(4671);var Re=L(2416),Se=L(576),Ce=L(2806);let ae=(()=>{class Xe{constructor(Ct){Ct&&(this._subscribe=Ct)}lift(Ct){const Ke=new Xe;return Ke.source=this,Ke.operator=Ct,Ke}subscribe(Ct,Ke,st){const be=function Tt(Xe){return Xe&&Xe instanceof _.Lv||function Me(Xe){return Xe&&(0,Se.m)(Xe.next)&&(0,Se.m)(Xe.error)&&(0,Se.m)(Xe.complete)}(Xe)&&(0,K.Nn)(Xe)}(Ct)?Ct:new _.Hp(Ct,Ke,st);return(0,Ce.x)(()=>{const{operator:ut,source:$e}=this;be.add(ut?ut.call(be,$e):$e?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Ct){try{return this._subscribe(Ct)}catch(Ke){Ct.error(Ke)}}forEach(Ct,Ke){return new(Ke=oe(Ke))((st,be)=>{const ut=new _.Hp({next:$e=>{try{Ct($e)}catch(ve){be(ve),ut.unsubscribe()}},error:be,complete:st});this.subscribe(ut)})}_subscribe(Ct){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ct)}[W.L](){return this}pipe(...Ct){return function Te(Xe){return 0===Xe.length?ce.y:1===Xe.length?Xe[0]:function(Ct){return Xe.reduce((Ke,st)=>st(Ke),Ct)}}(Ct)(this)}toPromise(Ct){return new(Ct=oe(Ct))((Ke,st)=>{let be;this.subscribe(ut=>be=ut,ut=>st(ut),()=>Ke(be))})}}return Xe.create=at=>new Xe(at),Xe})();function oe(Xe){var at;return null!==(at=null!=Xe?Xe:Re.v.Promise)&&void 0!==at?at:Promise}},7579:(Ft,je,L)=>{L.d(je,{x:()=>Re});var _=L(8306),K=L(727);const ce=(0,L(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=L(8737),Te=L(2806);let Re=(()=>{class Ce extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Me=new Se(this,this);return Me.operator=oe,Me}_throwIfClosed(){if(this.closed)throw new ce}next(oe){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(oe)}})}error(oe){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Me}=this;for(;Me.length;)Me.shift().error(oe)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Me,isStopped:Tt,observers:Xe}=this;return Me||Tt?K.Lc:(this.currentObservers=null,Xe.push(oe),new K.w0(()=>{this.currentObservers=null,(0,ye.P)(Xe,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Me,thrownError:Tt,isStopped:Xe}=this;Me?oe.error(Tt):Xe&&oe.complete()}asObservable(){const oe=new _.y;return oe.source=this,oe}}return Ce.create=(ae,oe)=>new Se(ae,oe),Ce})();class Se extends Re{constructor(ae,oe){super(),this.destination=ae,this.source=oe}next(ae){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Me||Me.call(oe,ae)}error(ae){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Me||Me.call(oe,ae)}complete(){var ae,oe;null===(oe=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===oe||oe.call(ae)}_subscribe(ae){var oe,Me;return null!==(Me=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ae))&&void 0!==Me?Me:K.Lc}}},930:(Ft,je,L)=>{L.d(je,{Hp:()=>Ct,Lv:()=>Me});var _=L(576),K=L(727),W=L(2416),ce=L(7849),ye=L(5032);const Te=Ce("C",void 0,void 0);function Ce($e,ve,Ue){return{kind:$e,value:ve,error:Ue}}var ae=L(3410),oe=L(2806);class Me extends K.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,K.Nn)(ve)&&ve.add(this)):this.destination=ut}static create(ve,Ue,wt){return new Ct(ve,Ue,wt)}next(ve){this.isStopped?be(function Se($e){return Ce("N",$e,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?be(function Re($e){return Ce("E",void 0,$e)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?be(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Tt=Function.prototype.bind;function Xe($e,ve){return Tt.call($e,ve)}class at{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(ve)}catch(wt){Ke(wt)}}error(ve){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(ve)}catch(wt){Ke(wt)}else Ke(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ue){Ke(Ue)}}}class Ct extends Me{constructor(ve,Ue,wt){let vt;if(super(),(0,_.m)(ve)||!ve)vt={next:null!=ve?ve:void 0,error:null!=Ue?Ue:void 0,complete:null!=wt?wt:void 0};else{let X;this&&W.v.useDeprecatedNextContext?(X=Object.create(ve),X.unsubscribe=()=>this.unsubscribe(),vt={next:ve.next&&Xe(ve.next,X),error:ve.error&&Xe(ve.error,X),complete:ve.complete&&Xe(ve.complete,X)}):vt=ve}this.destination=new at(vt)}}function Ke($e){W.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)($e):(0,ce.h)($e)}function be($e,ve){const{onStoppedNotification:Ue}=W.v;Ue&&ae.z.setTimeout(()=>Ue($e,ve))}const ut={closed:!0,next:ye.Z,error:function st($e){throw $e},complete:ye.Z}},727:(Ft,je,L)=>{L.d(je,{Lc:()=>Te,w0:()=>ye,Nn:()=>Re});var _=L(576);const W=(0,L(3888).d)(Ce=>function(oe){Ce(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Me,Tt)=>`${Tt+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ce=L(8737);class ye{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Xe of oe)Xe.remove(this);else oe.remove(this);const{initialTeardown:Me}=this;if((0,_.m)(Me))try{Me()}catch(Xe){ae=Xe instanceof W?Xe.errors:[Xe]}const{_finalizers:Tt}=this;if(Tt){this._finalizers=null;for(const Xe of Tt)try{Se(Xe)}catch(at){ae=null!=ae?ae:[],at instanceof W?ae=[...ae,...at.errors]:ae.push(at)}}if(ae)throw new W(ae)}}add(ae){var oe;if(ae&&ae!==this)if(this.closed)Se(ae);else{if(ae instanceof ye){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ae)}}_hasParent(ae){const{_parentage:oe}=this;return oe===ae||Array.isArray(oe)&&oe.includes(ae)}_addParent(ae){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ae),oe):oe?[oe,ae]:ae}_removeParent(ae){const{_parentage:oe}=this;oe===ae?this._parentage=null:Array.isArray(oe)&&(0,ce.P)(oe,ae)}remove(ae){const{_finalizers:oe}=this;oe&&(0,ce.P)(oe,ae),ae instanceof ye&&ae._removeParent(this)}}ye.EMPTY=(()=>{const Ce=new ye;return Ce.closed=!0,Ce})();const Te=ye.EMPTY;function Re(Ce){return Ce instanceof ye||Ce&&"closed"in Ce&&(0,_.m)(Ce.remove)&&(0,_.m)(Ce.add)&&(0,_.m)(Ce.unsubscribe)}function Se(Ce){(0,_.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Ft,je,L)=>{L.d(je,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ft,je,L)=>{L.d(je,{z:()=>ye});var _=L(8189),W=L(7669),ce=L(8996);function ye(...Te){return function K(){return(0,_.J)(1)}()((0,ce.D)(Te,(0,W.yG)(Te)))}},9770:(Ft,je,L)=>{L.d(je,{P:()=>W});var _=L(8306),K=L(8421);function W(ce){return new _.y(ye=>{(0,K.Xf)(ce()).subscribe(ye)})}},515:(Ft,je,L)=>{L.d(je,{E:()=>K});const K=new(L(8306).y)(ye=>ye.complete())},4128:(Ft,je,L)=>{L.d(je,{D:()=>Se});var _=L(8306),K=L(4742),W=L(8421),ce=L(7669),ye=L(5403),Te=L(3268),Re=L(1810);function Se(...Ce){const ae=(0,ce.jO)(Ce),{args:oe,keys:Me}=(0,K.D)(Ce),Tt=new _.y(Xe=>{const{length:at}=oe;if(!at)return void Xe.complete();const Ct=new Array(at);let Ke=at,st=at;for(let be=0;be<at;be++){let ut=!1;(0,W.Xf)(oe[be]).subscribe((0,ye.x)(Xe,$e=>{ut||(ut=!0,st--),Ct[be]=$e},()=>Ke--,void 0,()=>{(!Ke||!ut)&&(st||Xe.next(Me?(0,Re.n)(Me,Ct):Ct),Xe.complete())}))}});return ae?Tt.pipe((0,Te.Z)(ae)):Tt}},8996:(Ft,je,L)=>{L.d(je,{D:()=>ve});var _=L(8421),K=L(5363),W=L(9468),Te=L(8306),Se=L(2202),Ce=L(576),ae=L(9672);function Me(Ue,wt){if(!Ue)throw new Error("Iterable cannot be null");return new Te.y(vt=>{(0,ae.f)(vt,wt,()=>{const X=Ue[Symbol.asyncIterator]();(0,ae.f)(vt,wt,()=>{X.next().then(tt=>{tt.done?vt.complete():vt.next(tt.value)})},0,!0)})})}var Tt=L(3670),Xe=L(8239),at=L(1144),Ct=L(6495),Ke=L(2206),st=L(4532),be=L(3260);function ve(Ue,wt){return wt?function $e(Ue,wt){if(null!=Ue){if((0,Tt.c)(Ue))return function ce(Ue,wt){return(0,_.Xf)(Ue).pipe((0,W.R)(wt),(0,K.Q)(wt))}(Ue,wt);if((0,at.z)(Ue))return function Re(Ue,wt){return new Te.y(vt=>{let X=0;return wt.schedule(function(){X===Ue.length?vt.complete():(vt.next(Ue[X++]),vt.closed||this.schedule())})})}(Ue,wt);if((0,Xe.t)(Ue))return function ye(Ue,wt){return(0,_.Xf)(Ue).pipe((0,W.R)(wt),(0,K.Q)(wt))}(Ue,wt);if((0,Ke.D)(Ue))return Me(Ue,wt);if((0,Ct.T)(Ue))return function oe(Ue,wt){return new Te.y(vt=>{let X;return(0,ae.f)(vt,wt,()=>{X=Ue[Se.h](),(0,ae.f)(vt,wt,()=>{let tt,ue;try{({value:tt,done:ue}=X.next())}catch(Pe){return void vt.error(Pe)}ue?vt.complete():vt.next(tt)},0,!0)}),()=>(0,Ce.m)(null==X?void 0:X.return)&&X.return()})}(Ue,wt);if((0,be.L)(Ue))return function ut(Ue,wt){return Me((0,be.Q)(Ue),wt)}(Ue,wt)}throw(0,st.z)(Ue)}(Ue,wt):(0,_.Xf)(Ue)}},8421:(Ft,je,L)=>{L.d(je,{Xf:()=>Tt});var _=L(655),K=L(1144),W=L(8239),ce=L(8306),ye=L(3670),Te=L(2206),Re=L(4532),Se=L(6495),Ce=L(3260),ae=L(576),oe=L(7849),Me=L(8822);function Tt($e){if($e instanceof ce.y)return $e;if(null!=$e){if((0,ye.c)($e))return function Xe($e){return new ce.y(ve=>{const Ue=$e[Me.L]();if((0,ae.m)(Ue.subscribe))return Ue.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,K.z)($e))return function at($e){return new ce.y(ve=>{for(let Ue=0;Ue<$e.length&&!ve.closed;Ue++)ve.next($e[Ue]);ve.complete()})}($e);if((0,W.t)($e))return function Ct($e){return new ce.y(ve=>{$e.then(Ue=>{ve.closed||(ve.next(Ue),ve.complete())},Ue=>ve.error(Ue)).then(null,oe.h)})}($e);if((0,Te.D)($e))return st($e);if((0,Se.T)($e))return function Ke($e){return new ce.y(ve=>{for(const Ue of $e)if(ve.next(Ue),ve.closed)return;ve.complete()})}($e);if((0,Ce.L)($e))return function be($e){return st((0,Ce.Q)($e))}($e)}throw(0,Re.z)($e)}function st($e){return new ce.y(ve=>{(function ut($e,ve){var Ue,wt,vt,X;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,_.KL)($e);!(wt=yield Ue.next()).done;)if(ve.next(wt.value),ve.closed)return}catch(tt){vt={error:tt}}finally{try{wt&&!wt.done&&(X=Ue.return)&&(yield X.call(Ue))}finally{if(vt)throw vt.error}}ve.complete()})})($e,ve).catch(Ue=>ve.error(Ue))})}},6451:(Ft,je,L)=>{L.d(je,{T:()=>Te});var _=L(8189),K=L(8421),W=L(515),ce=L(7669),ye=L(8996);function Te(...Re){const Se=(0,ce.yG)(Re),Ce=(0,ce._6)(Re,1/0),ae=Re;return ae.length?1===ae.length?(0,K.Xf)(ae[0]):(0,_.J)(Ce)((0,ye.D)(ae,Se)):W.E}},9646:(Ft,je,L)=>{L.d(je,{of:()=>W});var _=L(7669),K=L(8996);function W(...ce){const ye=(0,_.yG)(ce);return(0,K.D)(ce,ye)}},5403:(Ft,je,L)=>{L.d(je,{x:()=>K});var _=L(930);function K(ce,ye,Te,Re,Se){return new W(ce,ye,Te,Re,Se)}class W extends _.Lv{constructor(ye,Te,Re,Se,Ce,ae){super(ye),this.onFinalize=Ce,this.shouldUnsubscribe=ae,this._next=Te?function(oe){try{Te(oe)}catch(Me){ye.error(Me)}}:super._next,this._error=Se?function(oe){try{Se(oe)}catch(Me){ye.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(oe){ye.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},4351:(Ft,je,L)=>{L.d(je,{b:()=>W});var _=L(5577),K=L(576);function W(ce,ye){return(0,K.m)(ye)?(0,_.z)(ce,ye,1):(0,_.z)(ce,1)}},8372:(Ft,je,L)=>{L.d(je,{b:()=>ce});var _=L(4986),K=L(4482),W=L(5403);function ce(ye,Te=_.z){return(0,K.e)((Re,Se)=>{let Ce=null,ae=null,oe=null;const Me=()=>{if(Ce){Ce.unsubscribe(),Ce=null;const Xe=ae;ae=null,Se.next(Xe)}};function Tt(){const Xe=oe+ye,at=Te.now();if(at<Xe)return Ce=this.schedule(void 0,Xe-at),void Se.add(Ce);Me()}Re.subscribe((0,W.x)(Se,Xe=>{ae=Xe,oe=Te.now(),Ce||(Ce=Te.schedule(Tt,ye),Se.add(Ce))},()=>{Me(),Se.complete()},void 0,()=>{ae=Ce=null}))})}},6590:(Ft,je,L)=>{L.d(je,{d:()=>W});var _=L(4482),K=L(5403);function W(ce){return(0,_.e)((ye,Te)=>{let Re=!1;ye.subscribe((0,K.x)(Te,Se=>{Re=!0,Te.next(Se)},()=>{Re||Te.next(ce),Te.complete()}))})}},1884:(Ft,je,L)=>{L.d(je,{x:()=>ce});var _=L(4671),K=L(4482),W=L(5403);function ce(Te,Re=_.y){return Te=null!=Te?Te:ye,(0,K.e)((Se,Ce)=>{let ae,oe=!0;Se.subscribe((0,W.x)(Ce,Me=>{const Tt=Re(Me);(oe||!Te(ae,Tt))&&(oe=!1,ae=Tt,Ce.next(Me))}))})}function ye(Te,Re){return Te===Re}},9300:(Ft,je,L)=>{L.d(je,{h:()=>W});var _=L(4482),K=L(5403);function W(ce,ye){return(0,_.e)((Te,Re)=>{let Se=0;Te.subscribe((0,K.x)(Re,Ce=>ce.call(ye,Ce,Se++)&&Re.next(Ce)))})}},590:(Ft,je,L)=>{L.d(je,{P:()=>Re});var _=L(6805),K=L(9300),W=L(5698),ce=L(6590),ye=L(8068),Te=L(4671);function Re(Se,Ce){const ae=arguments.length>=2;return oe=>oe.pipe(Se?(0,K.h)((Me,Tt)=>Se(Me,Tt,oe)):Te.y,(0,W.q)(1),ae?(0,ce.d)(Ce):(0,ye.T)(()=>new _.K))}},4004:(Ft,je,L)=>{L.d(je,{U:()=>W});var _=L(4482),K=L(5403);function W(ce,ye){return(0,_.e)((Te,Re)=>{let Se=0;Te.subscribe((0,K.x)(Re,Ce=>{Re.next(ce.call(ye,Ce,Se++))}))})}},8189:(Ft,je,L)=>{L.d(je,{J:()=>W});var _=L(5577),K=L(4671);function W(ce=1/0){return(0,_.z)(K.y,ce)}},5577:(Ft,je,L)=>{L.d(je,{z:()=>Se});var _=L(4004),K=L(8421),W=L(4482),ce=L(9672),ye=L(5403),Re=L(576);function Se(Ce,ae,oe=1/0){return(0,Re.m)(ae)?Se((Me,Tt)=>(0,_.U)((Xe,at)=>ae(Me,Xe,Tt,at))((0,K.Xf)(Ce(Me,Tt))),oe):("number"==typeof ae&&(oe=ae),(0,W.e)((Me,Tt)=>function Te(Ce,ae,oe,Me,Tt,Xe,at,Ct){const Ke=[];let st=0,be=0,ut=!1;const $e=()=>{ut&&!Ke.length&&!st&&ae.complete()},ve=wt=>st<Me?Ue(wt):Ke.push(wt),Ue=wt=>{Xe&&ae.next(wt),st++;let vt=!1;(0,K.Xf)(oe(wt,be++)).subscribe((0,ye.x)(ae,X=>{null==Tt||Tt(X),Xe?ve(X):ae.next(X)},()=>{vt=!0},void 0,()=>{if(vt)try{for(st--;Ke.length&&st<Me;){const X=Ke.shift();at?(0,ce.f)(ae,at,()=>Ue(X)):Ue(X)}$e()}catch(X){ae.error(X)}}))};return Ce.subscribe((0,ye.x)(ae,ve,()=>{ut=!0,$e()})),()=>{null==Ct||Ct()}}(Me,Tt,Ce,oe)))}},5363:(Ft,je,L)=>{L.d(je,{Q:()=>ce});var _=L(9672),K=L(4482),W=L(5403);function ce(ye,Te=0){return(0,K.e)((Re,Se)=>{Re.subscribe((0,W.x)(Se,Ce=>(0,_.f)(Se,ye,()=>Se.next(Ce),Te),()=>(0,_.f)(Se,ye,()=>Se.complete(),Te),Ce=>(0,_.f)(Se,ye,()=>Se.error(Ce),Te)))})}},5026:(Ft,je,L)=>{L.d(je,{R:()=>ce});var _=L(4482),K=L(5403);function W(ye,Te,Re,Se,Ce){return(ae,oe)=>{let Me=Re,Tt=Te,Xe=0;ae.subscribe((0,K.x)(oe,at=>{const Ct=Xe++;Tt=Me?ye(Tt,at,Ct):(Me=!0,at),Se&&oe.next(Tt)},Ce&&(()=>{Me&&oe.next(Tt),oe.complete()})))}}function ce(ye,Te){return(0,_.e)(W(ye,Te,arguments.length>=2,!0))}},3099:(Ft,je,L)=>{L.d(je,{B:()=>Te});var _=L(8996),K=L(5698),W=L(7579),ce=L(930),ye=L(4482);function Te(Se={}){const{connector:Ce=(()=>new W.x),resetOnError:ae=!0,resetOnComplete:oe=!0,resetOnRefCountZero:Me=!0}=Se;return Tt=>{let Xe=null,at=null,Ct=null,Ke=0,st=!1,be=!1;const ut=()=>{null==at||at.unsubscribe(),at=null},$e=()=>{ut(),Xe=Ct=null,st=be=!1},ve=()=>{const Ue=Xe;$e(),null==Ue||Ue.unsubscribe()};return(0,ye.e)((Ue,wt)=>{Ke++,!be&&!st&&ut();const vt=Ct=null!=Ct?Ct:Ce();wt.add(()=>{Ke--,0===Ke&&!be&&!st&&(at=Re(ve,Me))}),vt.subscribe(wt),Xe||(Xe=new ce.Hp({next:X=>vt.next(X),error:X=>{be=!0,ut(),at=Re($e,ae,X),vt.error(X)},complete:()=>{st=!0,ut(),at=Re($e,oe),vt.complete()}}),(0,_.D)(Ue).subscribe(Xe))})(Tt)}}function Re(Se,Ce,...ae){return!0===Ce?(Se(),null):!1===Ce?null:Ce(...ae).pipe((0,K.q)(1)).subscribe(()=>Se())}},3151:(Ft,je,L)=>{L.d(je,{d:()=>ye});var _=L(7579),K=L(6063);class W extends _.x{constructor(Re=1/0,Se=1/0,Ce=K.l){super(),this._bufferSize=Re,this._windowTime=Se,this._timestampProvider=Ce,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,Se)}next(Re){const{isStopped:Se,_buffer:Ce,_infiniteTimeWindow:ae,_timestampProvider:oe,_windowTime:Me}=this;Se||(Ce.push(Re),!ae&&Ce.push(oe.now()+Me)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(Re),{_infiniteTimeWindow:Ce,_buffer:ae}=this,oe=ae.slice();for(let Me=0;Me<oe.length&&!Re.closed;Me+=Ce?1:2)Re.next(oe[Me]);return this._checkFinalizedStatuses(Re),Se}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:Se,_buffer:Ce,_infiniteTimeWindow:ae}=this,oe=(ae?1:2)*Re;if(Re<1/0&&oe<Ce.length&&Ce.splice(0,Ce.length-oe),!ae){const Me=Se.now();let Tt=0;for(let Xe=1;Xe<Ce.length&&Ce[Xe]<=Me;Xe+=2)Tt=Xe;Tt&&Ce.splice(0,Tt+1)}}}var ce=L(3099);function ye(Te,Re,Se){let Ce,ae=!1;return Te&&"object"==typeof Te?({bufferSize:Ce=1/0,windowTime:Re=1/0,refCount:ae=!1,scheduler:Se}=Te):Ce=null!=Te?Te:1/0,(0,ce.B)({connector:()=>new W(Ce,Re,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ae})}},8675:(Ft,je,L)=>{L.d(je,{O:()=>ce});var _=L(7272),K=L(7669),W=L(4482);function ce(...ye){const Te=(0,K.yG)(ye);return(0,W.e)((Re,Se)=>{(Te?(0,_.z)(ye,Re,Te):(0,_.z)(ye,Re)).subscribe(Se)})}},9468:(Ft,je,L)=>{L.d(je,{R:()=>K});var _=L(4482);function K(W,ce=0){return(0,_.e)((ye,Te)=>{Te.add(W.schedule(()=>ye.subscribe(Te),ce))})}},3900:(Ft,je,L)=>{L.d(je,{w:()=>ce});var _=L(8421),K=L(4482),W=L(5403);function ce(ye,Te){return(0,K.e)((Re,Se)=>{let Ce=null,ae=0,oe=!1;const Me=()=>oe&&!Ce&&Se.complete();Re.subscribe((0,W.x)(Se,Tt=>{null==Ce||Ce.unsubscribe();let Xe=0;const at=ae++;(0,_.Xf)(ye(Tt,at)).subscribe(Ce=(0,W.x)(Se,Ct=>Se.next(Te?Te(Tt,Ct,at,Xe++):Ct),()=>{Ce=null,Me()}))},()=>{oe=!0,Me()}))})}},5698:(Ft,je,L)=>{L.d(je,{q:()=>ce});var _=L(515),K=L(4482),W=L(5403);function ce(ye){return ye<=0?()=>_.E:(0,K.e)((Te,Re)=>{let Se=0;Te.subscribe((0,W.x)(Re,Ce=>{++Se<=ye&&(Re.next(Ce),ye<=Se&&Re.complete())}))})}},8505:(Ft,je,L)=>{L.d(je,{b:()=>ye});var _=L(576),K=L(4482),W=L(5403),ce=L(4671);function ye(Te,Re,Se){const Ce=(0,_.m)(Te)||Re||Se?{next:Te,error:Re,complete:Se}:Te;return Ce?(0,K.e)((ae,oe)=>{var Me;null===(Me=Ce.subscribe)||void 0===Me||Me.call(Ce);let Tt=!0;ae.subscribe((0,W.x)(oe,Xe=>{var at;null===(at=Ce.next)||void 0===at||at.call(Ce,Xe),oe.next(Xe)},()=>{var Xe;Tt=!1,null===(Xe=Ce.complete)||void 0===Xe||Xe.call(Ce),oe.complete()},Xe=>{var at;Tt=!1,null===(at=Ce.error)||void 0===at||at.call(Ce,Xe),oe.error(Xe)},()=>{var Xe,at;Tt&&(null===(Xe=Ce.unsubscribe)||void 0===Xe||Xe.call(Ce)),null===(at=Ce.finalize)||void 0===at||at.call(Ce)}))}):ce.y}},8068:(Ft,je,L)=>{L.d(je,{T:()=>ce});var _=L(6805),K=L(4482),W=L(5403);function ce(Te=ye){return(0,K.e)((Re,Se)=>{let Ce=!1;Re.subscribe((0,W.x)(Se,ae=>{Ce=!0,Se.next(ae)},()=>Ce?Se.complete():Se.error(Te())))})}function ye(){return new _.K}},4408:(Ft,je,L)=>{L.d(je,{o:()=>ye});var _=L(727);class K extends _.w0{constructor(Re,Se){super()}schedule(Re,Se=0){return this}}const W={setInterval(Te,Re,...Se){const{delegate:Ce}=W;return(null==Ce?void 0:Ce.setInterval)?Ce.setInterval(Te,Re,...Se):setInterval(Te,Re,...Se)},clearInterval(Te){const{delegate:Re}=W;return((null==Re?void 0:Re.clearInterval)||clearInterval)(Te)},delegate:void 0};var ce=L(8737);class ye extends K{constructor(Re,Se){super(Re,Se),this.scheduler=Re,this.work=Se,this.pending=!1}schedule(Re,Se=0){if(this.closed)return this;this.state=Re;const Ce=this.id,ae=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(ae,Ce,Se)),this.pending=!0,this.delay=Se,this.id=this.id||this.requestAsyncId(ae,this.id,Se),this}requestAsyncId(Re,Se,Ce=0){return W.setInterval(Re.flush.bind(Re,this),Ce)}recycleAsyncId(Re,Se,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return Se;W.clearInterval(Se)}execute(Re,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(Re,Se);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Se){let ae,Ce=!1;try{this.work(Re)}catch(oe){Ce=!0,ae=oe||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Se}=this,{actions:Ce}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ce,this),null!=Re&&(this.id=this.recycleAsyncId(Se,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ft,je,L)=>{L.d(je,{v:()=>W});var _=L(6063);class K{constructor(ye,Te=K.now){this.schedulerActionCtor=ye,this.now=Te}schedule(ye,Te=0,Re){return new this.schedulerActionCtor(this,ye).schedule(Re,Te)}}K.now=_.l.now;class W extends K{constructor(ye,Te=K.now){super(ye,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ye){const{actions:Te}=this;if(this._active)return void Te.push(ye);let Re;this._active=!0;do{if(Re=ye.execute(ye.state,ye.delay))break}while(ye=Te.shift());if(this._active=!1,Re){for(;ye=Te.shift();)ye.unsubscribe();throw Re}}}},4986:(Ft,je,L)=>{L.d(je,{z:()=>W});var _=L(4408);const W=new(L(7565).v)(_.o)},6063:(Ft,je,L)=>{L.d(je,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Ft,je,L)=>{L.d(je,{z:()=>_});const _={setTimeout(K,W,...ce){const{delegate:ye}=_;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(K,W,...ce):setTimeout(K,W,...ce)},clearTimeout(K){const{delegate:W}=_;return((null==W?void 0:W.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(Ft,je,L)=>{L.d(je,{h:()=>K});const K=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ft,je,L)=>{L.d(je,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ft,je,L)=>{L.d(je,{K:()=>K});const K=(0,L(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ft,je,L)=>{L.d(je,{_6:()=>Te,jO:()=>ce,yG:()=>ye});var _=L(576);function W(Re){return Re[Re.length-1]}function ce(Re){return(0,_.m)(W(Re))?Re.pop():void 0}function ye(Re){return function K(Re){return Re&&(0,_.m)(Re.schedule)}(W(Re))?Re.pop():void 0}function Te(Re,Se){return"number"==typeof W(Re)?Re.pop():Se}},4742:(Ft,je,L)=>{L.d(je,{D:()=>ye});const{isArray:_}=Array,{getPrototypeOf:K,prototype:W,keys:ce}=Object;function ye(Re){if(1===Re.length){const Se=Re[0];if(_(Se))return{args:Se,keys:null};if(function Te(Re){return Re&&"object"==typeof Re&&K(Re)===W}(Se)){const Ce=ce(Se);return{args:Ce.map(ae=>Se[ae]),keys:Ce}}}return{args:Re,keys:null}}},8737:(Ft,je,L)=>{function _(K,W){if(K){const ce=K.indexOf(W);0<=ce&&K.splice(ce,1)}}L.d(je,{P:()=>_})},3888:(Ft,je,L)=>{function _(K){const ce=K(ye=>{Error.call(ye),ye.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}L.d(je,{d:()=>_})},1810:(Ft,je,L)=>{function _(K,W){return K.reduce((ce,ye,Te)=>(ce[ye]=W[Te],ce),{})}L.d(je,{n:()=>_})},2806:(Ft,je,L)=>{L.d(je,{O:()=>ce,x:()=>W});var _=L(2416);let K=null;function W(ye){if(_.v.useDeprecatedSynchronousErrorHandling){const Te=!K;if(Te&&(K={errorThrown:!1,error:null}),ye(),Te){const{errorThrown:Re,error:Se}=K;if(K=null,Re)throw Se}}else ye()}function ce(ye){_.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ye)}},9672:(Ft,je,L)=>{function _(K,W,ce,ye=0,Te=!1){const Re=W.schedule(function(){ce(),Te?K.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(K.add(Re),!Te)return Re}L.d(je,{f:()=>_})},4671:(Ft,je,L)=>{function _(K){return K}L.d(je,{y:()=>_})},1144:(Ft,je,L)=>{L.d(je,{z:()=>_});const _=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(Ft,je,L)=>{L.d(je,{D:()=>K});var _=L(576);function K(W){return Symbol.asyncIterator&&(0,_.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(Ft,je,L)=>{function _(K){return"function"==typeof K}L.d(je,{m:()=>_})},3670:(Ft,je,L)=>{L.d(je,{c:()=>W});var _=L(8822),K=L(576);function W(ce){return(0,K.m)(ce[_.L])}},6495:(Ft,je,L)=>{L.d(je,{T:()=>W});var _=L(2202),K=L(576);function W(ce){return(0,K.m)(null==ce?void 0:ce[_.h])}},8239:(Ft,je,L)=>{L.d(je,{t:()=>K});var _=L(576);function K(W){return(0,_.m)(null==W?void 0:W.then)}},3260:(Ft,je,L)=>{L.d(je,{L:()=>ce,Q:()=>W});var _=L(655),K=L(576);function W(ye){return(0,_.FC)(this,arguments,function*(){const Re=ye.getReader();try{for(;;){const{value:Se,done:Ce}=yield(0,_.qq)(Re.read());if(Ce)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Se)}}finally{Re.releaseLock()}})}function ce(ye){return(0,K.m)(null==ye?void 0:ye.getReader)}},4482:(Ft,je,L)=>{L.d(je,{A:()=>K,e:()=>W});var _=L(576);function K(ce){return(0,_.m)(null==ce?void 0:ce.lift)}function W(ce){return ye=>{if(K(ye))return ye.lift(function(Te){try{return ce(Te,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ft,je,L)=>{L.d(je,{Z:()=>ce});var _=L(4004);const{isArray:K}=Array;function ce(ye){return(0,_.U)(Te=>function W(ye,Te){return K(Te)?ye(...Te):ye(Te)}(ye,Te))}},5032:(Ft,je,L)=>{function _(){}L.d(je,{Z:()=>_})},7849:(Ft,je,L)=>{L.d(je,{h:()=>W});var _=L(2416),K=L(3410);function W(ce){K.z.setTimeout(()=>{const{onUnhandledError:ye}=_.v;if(!ye)throw ce;ye(ce)})}},4532:(Ft,je,L)=>{function _(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(je,{z:()=>_})},655:(Ft,je,L)=>{function ce(ue,Pe){var Ne={};for(var Ge in ue)Object.prototype.hasOwnProperty.call(ue,Ge)&&Pe.indexOf(Ge)<0&&(Ne[Ge]=ue[Ge]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Ge=Object.getOwnPropertySymbols(ue);Ve<Ge.length;Ve++)Pe.indexOf(Ge[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ge[Ve])&&(Ne[Ge[Ve]]=ue[Ge[Ve]])}return Ne}function Se(ue,Pe,Ne,Ge){return new(Ne||(Ne=Promise))(function(Et,Kt){function Ye(et){try{ee(Ge.next(et))}catch(gt){Kt(gt)}}function At(et){try{ee(Ge.throw(et))}catch(gt){Kt(gt)}}function ee(et){et.done?Et(et.value):function Ve(Et){return Et instanceof Ne?Et:new Ne(function(Kt){Kt(Et)})}(et.value).then(Ye,At)}ee((Ge=Ge.apply(ue,Pe||[])).next())})}function Ke(ue){return this instanceof Ke?(this.v=ue,this):new Ke(ue)}function st(ue,Pe,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Ge=Ne.apply(ue,Pe||[]),Et=[];return Ve={},Kt("next"),Kt("throw"),Kt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Kt(xt){Ge[xt]&&(Ve[xt]=function(Ut){return new Promise(function(xn,rn){Et.push([xt,Ut,xn,rn])>1||Ye(xt,Ut)})})}function Ye(xt,Ut){try{!function At(xt){xt.value instanceof Ke?Promise.resolve(xt.value.v).then(ee,et):gt(Et[0][2],xt)}(Ge[xt](Ut))}catch(xn){gt(Et[0][3],xn)}}function ee(xt){Ye("next",xt)}function et(xt){Ye("throw",xt)}function gt(xt,Ut){xt(Ut),Et.shift(),Et.length&&Ye(Et[0][0],Et[0][1])}}function ut(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Pe=ue[Symbol.asyncIterator];return Pe?Pe.call(ue):(ue=function Me(ue){var Pe="function"==typeof Symbol&&Symbol.iterator,Ne=Pe&&ue[Pe],Ge=0;if(Ne)return Ne.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ge>=ue.length&&(ue=void 0),{value:ue&&ue[Ge++],done:!ue}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ne={},Ge("next"),Ge("throw"),Ge("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Ge(Et){Ne[Et]=ue[Et]&&function(Kt){return new Promise(function(Ye,At){!function Ve(Et,Kt,Ye,At){Promise.resolve(At).then(function(ee){Et({value:ee,done:Ye})},Kt)}(Ye,At,(Kt=ue[Et](Kt)).done,Kt.value)})}}}L.d(je,{FC:()=>st,KL:()=>ut,_T:()=>ce,mG:()=>Se,qq:()=>Ke})},1777:(Ft,je,L)=>{L.d(je,{LC:()=>K,SB:()=>Ce,X$:()=>ce,ZE:()=>be,ZN:()=>st,_j:()=>_,eR:()=>oe,jt:()=>ye,k1:()=>ut,l3:()=>W,oB:()=>Se,vP:()=>Re});class _{}class K{}const W="*";function ce($e,ve){return{type:7,name:$e,definitions:ve,options:{}}}function ye($e,ve=null){return{type:4,styles:ve,timings:$e}}function Re($e,ve=null){return{type:2,steps:$e,options:ve}}function Se($e){return{type:6,styles:$e,offset:null}}function Ce($e,ve,Ue){return{type:0,name:$e,styles:ve,options:Ue}}function oe($e,ve,Ue=null){return{type:1,expr:$e,animation:ve,options:Ue}}function Ke($e){Promise.resolve(null).then($e)}class st{constructor(ve=0,Ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+Ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._onStartFns.push(ve)}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ke(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const Ue="start"==ve?this._onStartFns:this._onDoneFns;Ue.forEach(wt=>wt()),Ue.length=0}}class be{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let Ue=0,wt=0,vt=0;const X=this.players.length;0==X?Ke(()=>this._onFinish()):this.players.forEach(tt=>{tt.onDone(()=>{++Ue==X&&this._onFinish()}),tt.onDestroy(()=>{++wt==X&&this._onDestroy()}),tt.onStart(()=>{++vt==X&&this._onStart()})}),this.totalTime=this.players.reduce((tt,ue)=>Math.max(tt,ue.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const Ue=ve*this.totalTime;this.players.forEach(wt=>{const vt=wt.totalTime?Math.min(1,Ue/wt.totalTime):1;wt.setPosition(vt)})}getPosition(){const ve=this.players.reduce((Ue,wt)=>null===Ue||wt.totalTime>Ue.totalTime?wt:Ue,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const Ue="start"==ve?this._onStartFns:this._onDoneFns;Ue.forEach(wt=>wt()),Ue.length=0}}const ut="!"},9808:(Ft,je,L)=>{L.d(je,{Do:()=>$e,EM:()=>vs,HT:()=>ye,JF:()=>Jn,K0:()=>Re,Mx:()=>bi,NF:()=>Br,Nd:()=>Yi,O5:()=>Qr,Ov:()=>Je,PM:()=>Vi,RF:()=>Sr,S$:()=>Ke,V_:()=>ae,Ye:()=>ve,b0:()=>ut,bD:()=>Jr,ez:()=>Wo,lw:()=>Se,mr:()=>be,n9:()=>mi,q:()=>W,rS:()=>zt,sg:()=>Ur,uU:()=>or,w_:()=>Te});var _=L(5e3);let K=null;function W(){return K}function ye(O){K||(K=O)}class Te{}const Re=new _.OlP("DocumentToken");let Se=(()=>{class O{historyGo(P){throw new Error("Not implemented")}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=_.Yz7({token:O,factory:function(){return function Ce(){return(0,_.LFG)(oe)}()},providedIn:"platform"}),O})();const ae=new _.OlP("Location Initialized");let oe=(()=>{class O extends Se{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(P){const Q=W().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",P,!1),()=>Q.removeEventListener("popstate",P)}onHashChange(P){const Q=W().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",P,!1),()=>Q.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Q,pe){Me()?this._history.pushState(P,Q,pe):this.location.hash=pe}replaceState(P,Q,pe){Me()?this._history.replaceState(P,Q,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return O.\u0275fac=function(P){return new(P||O)(_.LFG(Re))},O.\u0275prov=_.Yz7({token:O,factory:function(){return function Tt(){return new oe((0,_.LFG)(Re))}()},providedIn:"platform"}),O})();function Me(){return!!window.history.pushState}function Xe(O,G){if(0==O.length)return G;if(0==G.length)return O;let P=0;return O.endsWith("/")&&P++,G.startsWith("/")&&P++,2==P?O+G.substring(1):1==P?O+G:O+"/"+G}function at(O){const G=O.match(/#|\?|$/),P=G&&G.index||O.length;return O.slice(0,P-("/"===O[P-1]?1:0))+O.slice(P)}function Ct(O){return O&&"?"!==O[0]?"?"+O:O}let Ke=(()=>{class O{historyGo(P){throw new Error("Not implemented")}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=_.Yz7({token:O,factory:function(){return function st(O){const G=(0,_.LFG)(Re).location;return new ut((0,_.LFG)(Se),G&&G.origin||"")}()},providedIn:"root"}),O})();const be=new _.OlP("appBaseHref");let ut=(()=>{class O extends Ke{constructor(P,Q){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==Q&&(Q=this._platformLocation.getBaseHrefFromDOM()),null==Q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Xe(this._baseHref,P)}path(P=!1){const Q=this._platformLocation.pathname+Ct(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&P?`${Q}${pe}`:Q}pushState(P,Q,pe,it){const ft=this.prepareExternalUrl(pe+Ct(it));this._platformLocation.pushState(P,Q,ft)}replaceState(P,Q,pe,it){const ft=this.prepareExternalUrl(pe+Ct(it));this._platformLocation.replaceState(P,Q,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Q,pe;null===(pe=(Q=this._platformLocation).historyGo)||void 0===pe||pe.call(Q,P)}}return O.\u0275fac=function(P){return new(P||O)(_.LFG(Se),_.LFG(be,8))},O.\u0275prov=_.Yz7({token:O,factory:O.\u0275fac}),O})(),$e=(()=>{class O extends Ke{constructor(P,Q){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(P){const Q=Xe(this._baseHref,P);return Q.length>0?"#"+Q:Q}pushState(P,Q,pe,it){let ft=this.prepareExternalUrl(pe+Ct(it));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(P,Q,ft)}replaceState(P,Q,pe,it){let ft=this.prepareExternalUrl(pe+Ct(it));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(P,Q,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Q,pe;null===(pe=(Q=this._platformLocation).historyGo)||void 0===pe||pe.call(Q,P)}}return O.\u0275fac=function(P){return new(P||O)(_.LFG(Se),_.LFG(be,8))},O.\u0275prov=_.Yz7({token:O,factory:O.\u0275fac}),O})(),ve=(()=>{class O{constructor(P,Q){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const pe=this._platformStrategy.getBaseHref();this._platformLocation=Q,this._baseHref=at(vt(pe)),this._platformStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,Q=""){return this.path()==this.normalize(P+Ct(Q))}normalize(P){return O.stripTrailingSlash(function wt(O,G){return O&&G.startsWith(O)?G.substring(O.length):G}(this._baseHref,vt(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,Q="",pe=null){this._platformStrategy.pushState(pe,"",P,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ct(Q)),pe)}replaceState(P,Q="",pe=null){this._platformStrategy.replaceState(pe,"",P,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ct(Q)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var Q,pe;null===(pe=(Q=this._platformStrategy).historyGo)||void 0===pe||pe.call(Q,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)}))}_notifyUrlChangeListeners(P="",Q){this._urlChangeListeners.forEach(pe=>pe(P,Q))}subscribe(P,Q,pe){return this._subject.subscribe({next:P,error:Q,complete:pe})}}return O.normalizeQueryParams=Ct,O.joinWithSlash=Xe,O.stripTrailingSlash=at,O.\u0275fac=function(P){return new(P||O)(_.LFG(Ke),_.LFG(Se))},O.\u0275prov=_.Yz7({token:O,factory:function(){return function Ue(){return new ve((0,_.LFG)(Ke),(0,_.LFG)(Se))}()},providedIn:"root"}),O})();function vt(O){return O.replace(/\/index.html$/,"")}var Pe=(()=>((Pe=Pe||{})[Pe.Format=0]="Format",Pe[Pe.Standalone=1]="Standalone",Pe))(),Ne=(()=>((Ne=Ne||{})[Ne.Narrow=0]="Narrow",Ne[Ne.Abbreviated=1]="Abbreviated",Ne[Ne.Wide=2]="Wide",Ne[Ne.Short=3]="Short",Ne))(),Ge=(()=>((Ge=Ge||{})[Ge.Short=0]="Short",Ge[Ge.Medium=1]="Medium",Ge[Ge.Long=2]="Long",Ge[Ge.Full=3]="Full",Ge))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function Ut(O,G){return Ir((0,_.cg1)(O)[_.wAp.DateFormat],G)}function xn(O,G){return Ir((0,_.cg1)(O)[_.wAp.TimeFormat],G)}function rn(O,G){return Ir((0,_.cg1)(O)[_.wAp.DateTimeFormat],G)}function on(O,G){const P=(0,_.cg1)(O),Q=P[_.wAp.NumberSymbols][G];if(void 0===Q){if(G===Ve.CurrencyDecimal)return P[_.wAp.NumberSymbols][Ve.Decimal];if(G===Ve.CurrencyGroup)return P[_.wAp.NumberSymbols][Ve.Group]}return Q}function Cn(O){if(!O[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ir(O,G){for(let P=G;P>-1;P--)if(void 0!==O[P])return O[P];throw new Error("Locale data API: locale data undefined")}function lr(O){const[G,P]=O.split(":");return{hours:+G,minutes:+P}}const we=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xe={},_t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ze=(()=>((ze=ze||{})[ze.Short=0]="Short",ze[ze.ShortGMT=1]="ShortGMT",ze[ze.Long=2]="Long",ze[ze.Extended=3]="Extended",ze))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function wn(O,G,P,Q){let pe=function Ee(O){if(ke(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[pe,it=1,ft=1]=O.split("-").map(Qt=>+Qt);return pn(pe,it-1,ft)}const P=parseFloat(O);if(!isNaN(O-P))return new Date(P);let Q;if(Q=O.match(we))return function ne(O){const G=new Date(0);let P=0,Q=0;const pe=O[8]?G.setUTCFullYear:G.setFullYear,it=O[8]?G.setUTCHours:G.setHours;O[9]&&(P=Number(O[9]+O[10]),Q=Number(O[9]+O[11])),pe.call(G,Number(O[1]),Number(O[2])-1,Number(O[3]));const ft=Number(O[4]||0)-P,Qt=Number(O[5]||0)-Q,bn=Number(O[6]||0),Yn=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return it.call(G,ft,Qt,bn,Yn),G}(Q)}const G=new Date(O);if(!ke(G))throw new Error(`Unable to convert "${O}" into a date`);return G}(O);G=ln(P,G)||G;let Qt,ft=[];for(;G;){if(Qt=_t.exec(G),!Qt){ft.push(G);break}{ft=ft.concat(Qt.slice(1));const kn=ft.pop();if(!kn)break;G=kn}}let bn=pe.getTimezoneOffset();Q&&(bn=mr(Q,bn),pe=function We(O,G,P){const Q=P?-1:1,pe=O.getTimezoneOffset();return function gi(O,G){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+G),O}(O,Q*(mr(G,pe)-pe))}(pe,Q,!0));let Yn="";return ft.forEach(kn=>{const jn=function Zn(O){if(gn[O])return gn[O];let G;switch(O){case"G":case"GG":case"GGG":G=Ie(Nt.Eras,Ne.Abbreviated);break;case"GGGG":G=Ie(Nt.Eras,Ne.Wide);break;case"GGGGG":G=Ie(Nt.Eras,Ne.Narrow);break;case"y":G=ie(mt.FullYear,1,0,!1,!0);break;case"yy":G=ie(mt.FullYear,2,0,!0,!0);break;case"yyy":G=ie(mt.FullYear,3,0,!1,!0);break;case"yyyy":G=ie(mt.FullYear,4,0,!1,!0);break;case"Y":G=gr(1);break;case"YY":G=gr(2,!0);break;case"YYY":G=gr(3);break;case"YYYY":G=gr(4);break;case"M":case"L":G=ie(mt.Month,1,1);break;case"MM":case"LL":G=ie(mt.Month,2,1);break;case"MMM":G=Ie(Nt.Months,Ne.Abbreviated);break;case"MMMM":G=Ie(Nt.Months,Ne.Wide);break;case"MMMMM":G=Ie(Nt.Months,Ne.Narrow);break;case"LLL":G=Ie(Nt.Months,Ne.Abbreviated,Pe.Standalone);break;case"LLLL":G=Ie(Nt.Months,Ne.Wide,Pe.Standalone);break;case"LLLLL":G=Ie(Nt.Months,Ne.Narrow,Pe.Standalone);break;case"w":G=Yt(1);break;case"ww":G=Yt(2);break;case"W":G=Yt(1,!0);break;case"d":G=ie(mt.Date,1);break;case"dd":G=ie(mt.Date,2);break;case"c":case"cc":G=ie(mt.Day,1);break;case"ccc":G=Ie(Nt.Days,Ne.Abbreviated,Pe.Standalone);break;case"cccc":G=Ie(Nt.Days,Ne.Wide,Pe.Standalone);break;case"ccccc":G=Ie(Nt.Days,Ne.Narrow,Pe.Standalone);break;case"cccccc":G=Ie(Nt.Days,Ne.Short,Pe.Standalone);break;case"E":case"EE":case"EEE":G=Ie(Nt.Days,Ne.Abbreviated);break;case"EEEE":G=Ie(Nt.Days,Ne.Wide);break;case"EEEEE":G=Ie(Nt.Days,Ne.Narrow);break;case"EEEEEE":G=Ie(Nt.Days,Ne.Short);break;case"a":case"aa":case"aaa":G=Ie(Nt.DayPeriods,Ne.Abbreviated);break;case"aaaa":G=Ie(Nt.DayPeriods,Ne.Wide);break;case"aaaaa":G=Ie(Nt.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":G=Ie(Nt.DayPeriods,Ne.Abbreviated,Pe.Standalone,!0);break;case"bbbb":G=Ie(Nt.DayPeriods,Ne.Wide,Pe.Standalone,!0);break;case"bbbbb":G=Ie(Nt.DayPeriods,Ne.Narrow,Pe.Standalone,!0);break;case"B":case"BB":case"BBB":G=Ie(Nt.DayPeriods,Ne.Abbreviated,Pe.Format,!0);break;case"BBBB":G=Ie(Nt.DayPeriods,Ne.Wide,Pe.Format,!0);break;case"BBBBB":G=Ie(Nt.DayPeriods,Ne.Narrow,Pe.Format,!0);break;case"h":G=ie(mt.Hours,1,-12);break;case"hh":G=ie(mt.Hours,2,-12);break;case"H":G=ie(mt.Hours,1);break;case"HH":G=ie(mt.Hours,2);break;case"m":G=ie(mt.Minutes,1);break;case"mm":G=ie(mt.Minutes,2);break;case"s":G=ie(mt.Seconds,1);break;case"ss":G=ie(mt.Seconds,2);break;case"S":G=ie(mt.FractionalSeconds,1);break;case"SS":G=ie(mt.FractionalSeconds,2);break;case"SSS":G=ie(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":G=fe(ze.Short);break;case"ZZZZZ":G=fe(ze.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":G=fe(ze.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":G=fe(ze.Long);break;default:return null}return gn[O]=G,G}(kn);Yn+=jn?jn(pe,P,bn):"''"===kn?"'":kn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Yn}function pn(O,G,P){const Q=new Date(0);return Q.setFullYear(O,G,P),Q.setHours(0,0,0),Q}function ln(O,G){const P=function Kt(O){return(0,_.cg1)(O)[_.wAp.LocaleId]}(O);if(xe[P]=xe[P]||{},xe[P][G])return xe[P][G];let Q="";switch(G){case"shortDate":Q=Ut(O,Ge.Short);break;case"mediumDate":Q=Ut(O,Ge.Medium);break;case"longDate":Q=Ut(O,Ge.Long);break;case"fullDate":Q=Ut(O,Ge.Full);break;case"shortTime":Q=xn(O,Ge.Short);break;case"mediumTime":Q=xn(O,Ge.Medium);break;case"longTime":Q=xn(O,Ge.Long);break;case"fullTime":Q=xn(O,Ge.Full);break;case"short":const pe=ln(O,"shortTime"),it=ln(O,"shortDate");Q=Nr(rn(O,Ge.Short),[pe,it]);break;case"medium":const ft=ln(O,"mediumTime"),Qt=ln(O,"mediumDate");Q=Nr(rn(O,Ge.Medium),[ft,Qt]);break;case"long":const bn=ln(O,"longTime"),Yn=ln(O,"longDate");Q=Nr(rn(O,Ge.Long),[bn,Yn]);break;case"full":const kn=ln(O,"fullTime"),jn=ln(O,"fullDate");Q=Nr(rn(O,Ge.Full),[kn,jn])}return Q&&(xe[P][G]=Q),Q}function Nr(O,G){return G&&(O=O.replace(/\{([^}]+)}/g,function(P,Q){return null!=G&&Q in G?G[Q]:P})),O}function cr(O,G,P="-",Q,pe){let it="";(O<0||pe&&O<=0)&&(pe?O=1-O:(O=-O,it=P));let ft=String(O);for(;ft.length<G;)ft="0"+ft;return Q&&(ft=ft.substr(ft.length-G)),it+ft}function ie(O,G,P=0,Q=!1,pe=!1){return function(it,ft){let Qt=function me(O,G){switch(O){case mt.FullYear:return G.getFullYear();case mt.Month:return G.getMonth();case mt.Date:return G.getDate();case mt.Hours:return G.getHours();case mt.Minutes:return G.getMinutes();case mt.Seconds:return G.getSeconds();case mt.FractionalSeconds:return G.getMilliseconds();case mt.Day:return G.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,it);if((P>0||Qt>-P)&&(Qt+=P),O===mt.Hours)0===Qt&&-12===P&&(Qt=12);else if(O===mt.FractionalSeconds)return function Un(O,G){return cr(O,3).substr(0,G)}(Qt,G);const bn=on(ft,Ve.MinusSign);return cr(Qt,G,bn,Q,pe)}}function Ie(O,G,P=Pe.Format,Q=!1){return function(pe,it){return function lt(O,G,P,Q,pe,it){switch(P){case Nt.Months:return function ee(O,G,P){const Q=(0,_.cg1)(O),it=Ir([Q[_.wAp.MonthsFormat],Q[_.wAp.MonthsStandalone]],G);return Ir(it,P)}(G,pe,Q)[O.getMonth()];case Nt.Days:return function At(O,G,P){const Q=(0,_.cg1)(O),it=Ir([Q[_.wAp.DaysFormat],Q[_.wAp.DaysStandalone]],G);return Ir(it,P)}(G,pe,Q)[O.getDay()];case Nt.DayPeriods:const ft=O.getHours(),Qt=O.getMinutes();if(it){const Yn=function Mn(O){const G=(0,_.cg1)(O);return Cn(G),(G[_.wAp.ExtraData][2]||[]).map(Q=>"string"==typeof Q?lr(Q):[lr(Q[0]),lr(Q[1])])}(G),kn=function jt(O,G,P){const Q=(0,_.cg1)(O);Cn(Q);const it=Ir([Q[_.wAp.ExtraData][0],Q[_.wAp.ExtraData][1]],G)||[];return Ir(it,P)||[]}(G,pe,Q),jn=Yn.findIndex(kr=>{if(Array.isArray(kr)){const[tr,nr]=kr,Pi=ft>=tr.hours&&Qt>=tr.minutes,ri=ft<nr.hours||ft===nr.hours&&Qt<nr.minutes;if(tr.hours<nr.hours){if(Pi&&ri)return!0}else if(Pi||ri)return!0}else if(kr.hours===ft&&kr.minutes===Qt)return!0;return!1});if(-1!==jn)return kn[jn]}return function Ye(O,G,P){const Q=(0,_.cg1)(O),it=Ir([Q[_.wAp.DayPeriodsFormat],Q[_.wAp.DayPeriodsStandalone]],G);return Ir(it,P)}(G,pe,Q)[ft<12?0:1];case Nt.Eras:return function et(O,G){return Ir((0,_.cg1)(O)[_.wAp.Eras],G)}(G,Q)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${P}`)}}(pe,it,O,G,P,Q)}}function fe(O){return function(G,P,Q){const pe=-1*Q,it=on(P,Ve.MinusSign),ft=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(O){case ze.Short:return(pe>=0?"+":"")+cr(ft,2,it)+cr(Math.abs(pe%60),2,it);case ze.ShortGMT:return"GMT"+(pe>=0?"+":"")+cr(ft,1,it);case ze.Long:return"GMT"+(pe>=0?"+":"")+cr(ft,2,it)+":"+cr(Math.abs(pe%60),2,it);case ze.Extended:return 0===Q?"Z":(pe>=0?"+":"")+cr(ft,2,it)+":"+cr(Math.abs(pe%60),2,it);default:throw new Error(`Unknown zone width "${O}"`)}}}function sn(O){return pn(O.getFullYear(),O.getMonth(),O.getDate()+(4-O.getDay()))}function Yt(O,G=!1){return function(P,Q){let pe;if(G){const it=new Date(P.getFullYear(),P.getMonth(),1).getDay()-1,ft=P.getDate();pe=1+Math.floor((ft+it)/7)}else{const it=sn(P),ft=function Bt(O){const G=pn(O,0,1).getDay();return pn(O,0,1+(G<=4?4:11)-G)}(it.getFullYear()),Qt=it.getTime()-ft.getTime();pe=1+Math.round(Qt/6048e5)}return cr(pe,O,on(Q,Ve.MinusSign))}}function gr(O,G=!1){return function(P,Q){return cr(sn(P).getFullYear(),O,on(Q,Ve.MinusSign),G)}}const gn={};function mr(O,G){O=O.replace(/:/g,"");const P=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(P)?G:P}function ke(O){return O instanceof Date&&!isNaN(O.valueOf())}function bi(O,G){G=encodeURIComponent(G);for(const P of O.split(";")){const Q=P.indexOf("="),[pe,it]=-1==Q?[P,""]:[P.slice(0,Q),P.slice(Q+1)];if(pe.trim()===G)return decodeURIComponent(it)}return null}class li{constructor(G,P,Q,pe){this.$implicit=G,this.ngForOf=P,this.index=Q,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class O{constructor(P,Q,pe){this._viewContainer=P,this._template=Q,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Q=this._viewContainer;P.forEachOperation((pe,it,ft)=>{if(null==pe.previousIndex)Q.createEmbeddedView(this._template,new li(pe.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)Q.remove(null===it?void 0:it);else if(null!==it){const Qt=Q.get(it);Q.move(Qt,ft),Yr(Qt,pe)}});for(let pe=0,it=Q.length;pe<it;pe++){const Qt=Q.get(pe).context;Qt.index=pe,Qt.count=it,Qt.ngForOf=this._ngForOf}P.forEachIdentityChange(pe=>{Yr(Q.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(P,Q){return!0}}return O.\u0275fac=function(P){return new(P||O)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},O.\u0275dir=_.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();function Yr(O,G){O.context.$implicit=G.item}let Qr=(()=>{class O{constructor(P,Q){this._viewContainer=P,this._context=new er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Ui("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Ui("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Q){return!0}}return O.\u0275fac=function(P){return new(P||O)(_.Y36(_.s_b),_.Y36(_.Rgc))},O.\u0275dir=_.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class er{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(O,G){if(G&&!G.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,_.AaK)(G)}'.`)}class xi{constructor(G,P){this._viewContainerRef=G,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let Sr=(()=>{class O{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(P)}_matchCase(P){const Q=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(P){if(this._defaultViews&&P!==this._defaultUsed){this._defaultUsed=P;for(let Q=0;Q<this._defaultViews.length;Q++)this._defaultViews[Q].enforceState(P)}}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275dir=_.lG2({type:O,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),O})(),mi=(()=>{class O{constructor(P,Q,pe){this.ngSwitch=pe,pe._addCase(),this._view=new xi(P,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return O.\u0275fac=function(P){return new(P||O)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(Sr,9))},O.\u0275dir=_.lG2({type:O,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),O})();function yr(O,G){return new _.vHH(2100,"")}class ss{createSubscription(G,P){return G.subscribe({next:P,error:Q=>{throw Q}})}dispose(G){G.unsubscribe()}onDestroy(G){G.unsubscribe()}}class ps{createSubscription(G,P){return G.then(P,Q=>{throw Q})}dispose(G){}onDestroy(G){}}const Oe=new ps,ge=new ss;let Je=(()=>{class O{constructor(P){this._ref=P,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,Q=>this._updateLatestValue(P,Q))}_selectStrategy(P){if((0,_.QGY)(P))return Oe;if((0,_.F4k)(P))return ge;throw yr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,Q){P===this._obj&&(this._latestValue=Q,this._ref.markForCheck())}}return O.\u0275fac=function(P){return new(P||O)(_.Y36(_.sBO,16))},O.\u0275pipe=_.Yjl({name:"async",type:O,pure:!1}),O})();const kt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let zt=(()=>{class O{transform(P){if(null==P)return null;if("string"!=typeof P)throw yr();return P.replace(kt,Q=>Q[0].toUpperCase()+Q.substr(1).toLowerCase())}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275pipe=_.Yjl({name:"titlecase",type:O,pure:!0}),O})();const Pr=new _.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let or=(()=>{class O{constructor(P,Q){this.locale=P,this.defaultTimezone=Q}transform(P,Q="mediumDate",pe,it){var ft;if(null==P||""===P||P!=P)return null;try{return wn(P,Q,it||this.locale,null!==(ft=null!=pe?pe:this.defaultTimezone)&&void 0!==ft?ft:void 0)}catch(Qt){throw yr()}}}return O.\u0275fac=function(P){return new(P||O)(_.Y36(_.soG,16),_.Y36(Pr,24))},O.\u0275pipe=_.Yjl({name:"date",type:O,pure:!0}),O})(),Yi=(()=>{class O{constructor(P){this.differs=P,this.keyValues=[],this.compareFn=no}transform(P,Q=no){if(!P||!(P instanceof Map)&&"object"!=typeof P)return null;this.differ||(this.differ=this.differs.find(P).create());const pe=this.differ.diff(P),it=Q!==this.compareFn;return pe&&(this.keyValues=[],pe.forEachItem(ft=>{this.keyValues.push(function Di(O,G){return{key:O,value:G}}(ft.key,ft.currentValue))})),(pe||it)&&(this.keyValues.sort(Q),this.compareFn=Q),this.keyValues}}return O.\u0275fac=function(P){return new(P||O)(_.Y36(_.aQg,16))},O.\u0275pipe=_.Yjl({name:"keyvalue",type:O,pure:!1}),O})();function no(O,G){const P=O.key,Q=G.key;if(P===Q)return 0;if(void 0===P)return 1;if(void 0===Q)return-1;if(null===P)return 1;if(null===Q)return-1;if("string"==typeof P&&"string"==typeof Q)return P<Q?-1:1;if("number"==typeof P&&"number"==typeof Q)return P-Q;if("boolean"==typeof P&&"boolean"==typeof Q)return P<Q?-1:1;const pe=String(P),it=String(Q);return pe==it?0:pe<it?-1:1}let Wo=(()=>{class O{}return O.\u0275fac=function(P){return new(P||O)},O.\u0275mod=_.oAB({type:O}),O.\u0275inj=_.cJS({}),O})();const Jr="browser";function Br(O){return O===Jr}function Vi(O){return"server"===O}let vs=(()=>{class O{}return O.\u0275prov=(0,_.Yz7)({token:O,providedIn:"root",factory:()=>new ji((0,_.LFG)(Re),window)}),O})();class ji{constructor(G,P){this.document=G,this.window=P,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const P=function as(O,G){const P=O.getElementById(G)||O.getElementsByName(G)[0];if(P)return P;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const Q=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let pe=Q.currentNode;for(;pe;){const it=pe.shadowRoot;if(it){const ft=it.getElementById(G)||it.querySelector(`[name="${G}"]`);if(ft)return ft}pe=Q.nextNode()}}return null}(this.document,G);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=G)}}scrollToElement(G){const P=G.getBoundingClientRect(),Q=P.left+this.window.pageXOffset,pe=P.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(Q-it[0],pe-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=ro(this.window.history)||ro(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function ro(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class Jn{}},520:(Ft,je,L)=>{L.d(je,{JF:()=>lr,eN:()=>Ve});var _=L(9808),K=L(5e3),W=L(9646),ce=L(8306),ye=L(4351),Te=L(9300),Re=L(4004);class Se{}class Ce{}class ae{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(xe=>{const _t=xe.indexOf(":");if(_t>0){const ze=xe.slice(0,_t),mt=ze.toLowerCase(),Nt=xe.slice(_t+1).trim();this.maybeSetNormalizedName(ze,mt),this.headers.has(mt)?this.headers.get(mt).push(Nt):this.headers.set(mt,[Nt])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(xe=>{let _t=we[xe];const ze=xe.toLowerCase();"string"==typeof _t&&(_t=[_t]),_t.length>0&&(this.headers.set(ze,_t),this.maybeSetNormalizedName(xe,ze))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const xe=this.headers.get(we.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,xe){return this.clone({name:we,value:xe,op:"a"})}set(we,xe){return this.clone({name:we,value:xe,op:"s"})}delete(we,xe){return this.clone({name:we,value:xe,op:"d"})}maybeSetNormalizedName(we,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,we)}init(){this.lazyInit&&(this.lazyInit instanceof ae?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(xe=>{this.headers.set(xe,we.headers.get(xe)),this.normalizedNames.set(xe,we.normalizedNames.get(xe))})}clone(we){const xe=new ae;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ae?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([we]),xe}applyUpdate(we){const xe=we.name.toLowerCase();switch(we.op){case"a":case"s":let _t=we.value;if("string"==typeof _t&&(_t=[_t]),0===_t.length)return;this.maybeSetNormalizedName(we.name,xe);const ze=("a"===we.op?this.headers.get(xe):void 0)||[];ze.push(..._t),this.headers.set(xe,ze);break;case"d":const mt=we.value;if(mt){let Nt=this.headers.get(xe);if(!Nt)return;Nt=Nt.filter(wn=>-1===mt.indexOf(wn)),0===Nt.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,Nt)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>we(this.normalizedNames.get(xe),this.headers.get(xe)))}}class oe{encodeKey(we){return at(we)}encodeValue(we){return at(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const Tt=/%(\d[a-f0-9])/gi,Xe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function at(ct){return encodeURIComponent(ct).replace(Tt,(we,xe)=>{var _t;return null!==(_t=Xe[xe])&&void 0!==_t?_t:we})}function Ct(ct){return`${ct}`}class Ke{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new oe,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Me(ct,we){const xe=new Map;return ct.length>0&&ct.replace(/^\?/,"").split("&").forEach(ze=>{const mt=ze.indexOf("="),[Nt,wn]=-1==mt?[we.decodeKey(ze),""]:[we.decodeKey(ze.slice(0,mt)),we.decodeValue(ze.slice(mt+1))],pn=xe.get(Nt)||[];pn.push(wn),xe.set(Nt,pn)}),xe}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(xe=>{const _t=we.fromObject[xe];this.map.set(xe,Array.isArray(_t)?_t:[_t])})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const xe=this.map.get(we);return xe?xe[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,xe){return this.clone({param:we,value:xe,op:"a"})}appendAll(we){const xe=[];return Object.keys(we).forEach(_t=>{const ze=we[_t];Array.isArray(ze)?ze.forEach(mt=>{xe.push({param:_t,value:mt,op:"a"})}):xe.push({param:_t,value:ze,op:"a"})}),this.clone(xe)}set(we,xe){return this.clone({param:we,value:xe,op:"s"})}delete(we,xe){return this.clone({param:we,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const xe=this.encoder.encodeKey(we);return this.map.get(we).map(_t=>xe+"="+this.encoder.encodeValue(_t)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const xe=new Ke({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(we),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const xe=("a"===we.op?this.map.get(we.param):void 0)||[];xe.push(Ct(we.value)),this.map.set(we.param,xe);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let _t=this.map.get(we.param)||[];const ze=_t.indexOf(Ct(we.value));-1!==ze&&_t.splice(ze,1),_t.length>0?this.map.set(we.param,_t):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(we,xe){return this.map.set(we,xe),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function $e(ct){return"undefined"!=typeof ArrayBuffer&&ct instanceof ArrayBuffer}function ve(ct){return"undefined"!=typeof Blob&&ct instanceof Blob}function Ue(ct){return"undefined"!=typeof FormData&&ct instanceof FormData}class vt{constructor(we,xe,_t,ze){let mt;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function ut(ct){switch(ct){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ze?(this.body=void 0!==_t?_t:null,mt=ze):mt=_t,mt&&(this.reportProgress=!!mt.reportProgress,this.withCredentials=!!mt.withCredentials,mt.responseType&&(this.responseType=mt.responseType),mt.headers&&(this.headers=mt.headers),mt.context&&(this.context=mt.context),mt.params&&(this.params=mt.params)),this.headers||(this.headers=new ae),this.context||(this.context=new be),this.params){const Nt=this.params.toString();if(0===Nt.length)this.urlWithParams=xe;else{const wn=xe.indexOf("?");this.urlWithParams=xe+(-1===wn?"?":wn<xe.length-1?"&":"")+Nt}}else this.params=new Ke,this.urlWithParams=xe}serializeBody(){return null===this.body?null:$e(this.body)||ve(this.body)||Ue(this.body)||function wt(ct){return"undefined"!=typeof URLSearchParams&&ct instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ue(this.body)?null:ve(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){var xe;const _t=we.method||this.method,ze=we.url||this.url,mt=we.responseType||this.responseType,Nt=void 0!==we.body?we.body:this.body,wn=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,pn=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let ln=we.headers||this.headers,Nr=we.params||this.params;const cr=null!==(xe=we.context)&&void 0!==xe?xe:this.context;return void 0!==we.setHeaders&&(ln=Object.keys(we.setHeaders).reduce((Un,ie)=>Un.set(ie,we.setHeaders[ie]),ln)),we.setParams&&(Nr=Object.keys(we.setParams).reduce((Un,ie)=>Un.set(ie,we.setParams[ie]),Nr)),new vt(_t,ze,Nt,{params:Nr,headers:ln,context:cr,reportProgress:pn,responseType:mt,withCredentials:wn})}}var X=(()=>((X=X||{})[X.Sent=0]="Sent",X[X.UploadProgress=1]="UploadProgress",X[X.ResponseHeader=2]="ResponseHeader",X[X.DownloadProgress=3]="DownloadProgress",X[X.Response=4]="Response",X[X.User=5]="User",X))();class tt{constructor(we,xe=200,_t="OK"){this.headers=we.headers||new ae,this.status=void 0!==we.status?we.status:xe,this.statusText=we.statusText||_t,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends tt{constructor(we={}){super(we),this.type=X.ResponseHeader}clone(we={}){return new ue({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Pe extends tt{constructor(we={}){super(we),this.type=X.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new Pe({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Ne extends tt{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Ge(ct,we){return{body:we,headers:ct.headers,context:ct.context,observe:ct.observe,params:ct.params,reportProgress:ct.reportProgress,responseType:ct.responseType,withCredentials:ct.withCredentials}}let Ve=(()=>{class ct{constructor(xe){this.handler=xe}request(xe,_t,ze={}){let mt;if(xe instanceof vt)mt=xe;else{let pn,ln;pn=ze.headers instanceof ae?ze.headers:new ae(ze.headers),ze.params&&(ln=ze.params instanceof Ke?ze.params:new Ke({fromObject:ze.params})),mt=new vt(xe,_t,void 0!==ze.body?ze.body:null,{headers:pn,context:ze.context,params:ln,reportProgress:ze.reportProgress,responseType:ze.responseType||"json",withCredentials:ze.withCredentials})}const Nt=(0,W.of)(mt).pipe((0,ye.b)(pn=>this.handler.handle(pn)));if(xe instanceof vt||"events"===ze.observe)return Nt;const wn=Nt.pipe((0,Te.h)(pn=>pn instanceof Pe));switch(ze.observe||"body"){case"body":switch(mt.responseType){case"arraybuffer":return wn.pipe((0,Re.U)(pn=>{if(null!==pn.body&&!(pn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pn.body}));case"blob":return wn.pipe((0,Re.U)(pn=>{if(null!==pn.body&&!(pn.body instanceof Blob))throw new Error("Response is not a Blob.");return pn.body}));case"text":return wn.pipe((0,Re.U)(pn=>{if(null!==pn.body&&"string"!=typeof pn.body)throw new Error("Response is not a string.");return pn.body}));default:return wn.pipe((0,Re.U)(pn=>pn.body))}case"response":return wn;default:throw new Error(`Unreachable: unhandled observe type ${ze.observe}}`)}}delete(xe,_t={}){return this.request("DELETE",xe,_t)}get(xe,_t={}){return this.request("GET",xe,_t)}head(xe,_t={}){return this.request("HEAD",xe,_t)}jsonp(xe,_t){return this.request("JSONP",xe,{params:(new Ke).append(_t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,_t={}){return this.request("OPTIONS",xe,_t)}patch(xe,_t,ze={}){return this.request("PATCH",xe,Ge(ze,_t))}post(xe,_t,ze={}){return this.request("POST",xe,Ge(ze,_t))}put(xe,_t,ze={}){return this.request("PUT",xe,Ge(ze,_t))}}return ct.\u0275fac=function(xe){return new(xe||ct)(K.LFG(Se))},ct.\u0275prov=K.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class Et{constructor(we,xe){this.next=we,this.interceptor=xe}handle(we){return this.interceptor.intercept(we,this.next)}}const Kt=new K.OlP("HTTP_INTERCEPTORS");let Ye=(()=>{class ct{intercept(xe,_t){return _t.handle(xe)}}return ct.\u0275fac=function(xe){return new(xe||ct)},ct.\u0275prov=K.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const on=/^\)\]\}',?\n/;let Bn=(()=>{class ct{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.y(_t=>{const ze=this.xhrFactory.build();if(ze.open(xe.method,xe.urlWithParams),xe.withCredentials&&(ze.withCredentials=!0),xe.headers.forEach((ie,me)=>ze.setRequestHeader(ie,me.join(","))),xe.headers.has("Accept")||ze.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const ie=xe.detectContentTypeHeader();null!==ie&&ze.setRequestHeader("Content-Type",ie)}if(xe.responseType){const ie=xe.responseType.toLowerCase();ze.responseType="json"!==ie?ie:"text"}const mt=xe.serializeBody();let Nt=null;const wn=()=>{if(null!==Nt)return Nt;const ie=ze.statusText||"OK",me=new ae(ze.getAllResponseHeaders()),Ie=function Gn(ct){return"responseURL"in ct&&ct.responseURL?ct.responseURL:/^X-Request-URL:/m.test(ct.getAllResponseHeaders())?ct.getResponseHeader("X-Request-URL"):null}(ze)||xe.url;return Nt=new ue({headers:me,status:ze.status,statusText:ie,url:Ie}),Nt},pn=()=>{let{headers:ie,status:me,statusText:Ie,url:lt}=wn(),fe=null;204!==me&&(fe=void 0===ze.response?ze.responseText:ze.response),0===me&&(me=fe?200:0);let Be=me>=200&&me<300;if("json"===xe.responseType&&"string"==typeof fe){const ot=fe;fe=fe.replace(on,"");try{fe=""!==fe?JSON.parse(fe):null}catch(Bt){fe=ot,Be&&(Be=!1,fe={error:Bt,text:fe})}}Be?(_t.next(new Pe({body:fe,headers:ie,status:me,statusText:Ie,url:lt||void 0})),_t.complete()):_t.error(new Ne({error:fe,headers:ie,status:me,statusText:Ie,url:lt||void 0}))},ln=ie=>{const{url:me}=wn(),Ie=new Ne({error:ie,status:ze.status||0,statusText:ze.statusText||"Unknown Error",url:me||void 0});_t.error(Ie)};let Nr=!1;const cr=ie=>{Nr||(_t.next(wn()),Nr=!0);let me={type:X.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(me.total=ie.total),"text"===xe.responseType&&!!ze.responseText&&(me.partialText=ze.responseText),_t.next(me)},Un=ie=>{let me={type:X.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(me.total=ie.total),_t.next(me)};return ze.addEventListener("load",pn),ze.addEventListener("error",ln),ze.addEventListener("timeout",ln),ze.addEventListener("abort",ln),xe.reportProgress&&(ze.addEventListener("progress",cr),null!==mt&&ze.upload&&ze.upload.addEventListener("progress",Un)),ze.send(mt),_t.next({type:X.Sent}),()=>{ze.removeEventListener("error",ln),ze.removeEventListener("abort",ln),ze.removeEventListener("load",pn),ze.removeEventListener("timeout",ln),xe.reportProgress&&(ze.removeEventListener("progress",cr),null!==mt&&ze.upload&&ze.upload.removeEventListener("progress",Un)),ze.readyState!==ze.DONE&&ze.abort()}})}}return ct.\u0275fac=function(xe){return new(xe||ct)(K.LFG(_.JF))},ct.\u0275prov=K.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const $n=new K.OlP("XSRF_COOKIE_NAME"),Nn=new K.OlP("XSRF_HEADER_NAME");class Kn{}let Qn=(()=>{class ct{constructor(xe,_t,ze){this.doc=xe,this.platform=_t,this.cookieName=ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,_.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}}return ct.\u0275fac=function(xe){return new(xe||ct)(K.LFG(_.K0),K.LFG(K.Lbi),K.LFG($n))},ct.\u0275prov=K.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Cn=(()=>{class ct{constructor(xe,_t){this.tokenService=xe,this.headerName=_t}intercept(xe,_t){const ze=xe.url.toLowerCase();if("GET"===xe.method||"HEAD"===xe.method||ze.startsWith("http://")||ze.startsWith("https://"))return _t.handle(xe);const mt=this.tokenService.getToken();return null!==mt&&!xe.headers.has(this.headerName)&&(xe=xe.clone({headers:xe.headers.set(this.headerName,mt)})),_t.handle(xe)}}return ct.\u0275fac=function(xe){return new(xe||ct)(K.LFG(Kn),K.LFG(Nn))},ct.\u0275prov=K.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Mn=(()=>{class ct{constructor(xe,_t){this.backend=xe,this.injector=_t,this.chain=null}handle(xe){if(null===this.chain){const _t=this.injector.get(Kt,[]);this.chain=_t.reduceRight((ze,mt)=>new Et(ze,mt),this.backend)}return this.chain.handle(xe)}}return ct.\u0275fac=function(xe){return new(xe||ct)(K.LFG(Ce),K.LFG(K.zs3))},ct.\u0275prov=K.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Ir=(()=>{class ct{static disable(){return{ngModule:ct,providers:[{provide:Cn,useClass:Ye}]}}static withOptions(xe={}){return{ngModule:ct,providers:[xe.cookieName?{provide:$n,useValue:xe.cookieName}:[],xe.headerName?{provide:Nn,useValue:xe.headerName}:[]]}}}return ct.\u0275fac=function(xe){return new(xe||ct)},ct.\u0275mod=K.oAB({type:ct}),ct.\u0275inj=K.cJS({providers:[Cn,{provide:Kt,useExisting:Cn,multi:!0},{provide:Kn,useClass:Qn},{provide:$n,useValue:"XSRF-TOKEN"},{provide:Nn,useValue:"X-XSRF-TOKEN"}]}),ct})(),lr=(()=>{class ct{}return ct.\u0275fac=function(xe){return new(xe||ct)},ct.\u0275mod=K.oAB({type:ct}),ct.\u0275inj=K.cJS({providers:[Ve,{provide:Se,useClass:Mn},Bn,{provide:Ce,useExisting:Bn}],imports:[[Ir.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ct})()},5e3:(Ft,je,L)=>{L.d(je,{$8M:()=>Ia,$Z:()=>zm,AFp:()=>mE,ALo:()=>U0,AaK:()=>Se,BQk:()=>Np,CHM:()=>Ms,CRH:()=>Z0,CZH:()=>x_,CqO:()=>Fp,EJc:()=>DI,EiD:()=>Li,EpF:()=>kp,F$t:()=>au,F4k:()=>Wm,FYo:()=>D0,FiY:()=>ba,G48:()=>WI,Gf:()=>W0,GfV:()=>T0,Gpc:()=>oe,Hsn:()=>Ov,Ikx:()=>mf,JOm:()=>Y,JVY:()=>rh,L6k:()=>gu,LAX:()=>wl,LFG:()=>mn,LSH:()=>rc,Lbi:()=>wI,NdJ:()=>Up,OlP:()=>rr,Oqu:()=>ff,PXZ:()=>BI,Q6J:()=>Gc,QGY:()=>Lp,Qsj:()=>vw,R0b:()=>Ru,RDi:()=>ro,Rgc:()=>pg,SBq:()=>cg,Sil:()=>CI,Suo:()=>q0,TTD:()=>Bi,TgZ:()=>lf,Tol:()=>Wc,VLi:()=>LI,X6Q:()=>KI,XFs:()=>jt,Xpm:()=>sn,Y36:()=>Hc,YKP:()=>R0,YNc:()=>tf,Yjl:()=>ne,Yz7:()=>Ut,ZZ4:()=>G_,_Bn:()=>w0,_UZ:()=>Pp,_Vd:()=>Ny,_c5:()=>lb,_uU:()=>Jp,aQg:()=>z_,c2e:()=>II,cJS:()=>rn,cg1:()=>Jc,dDg:()=>IE,deG:()=>Wt,dqk:()=>ln,eBb:()=>Af,eFA:()=>TE,ekj:()=>Kc,f3M:()=>Tr,g9A:()=>vE,h0i:()=>wf,hGG:()=>cb,hij:()=>Gd,iGM:()=>K0,ifc:()=>ze,ip1:()=>gE,kL8:()=>sg,lG2:()=>Ee,lcZ:()=>B0,mCW:()=>yu,n5z:()=>$o,oAB:()=>mr,oxw:()=>Ym,pB0:()=>ld,q3G:()=>Ji,q4F:()=>C0,qLn:()=>Ol,qOj:()=>mp,qZA:()=>zc,qzn:()=>pu,s9C:()=>Sa,sBO:()=>qI,sIi:()=>$l,s_b:()=>Fy,soG:()=>P_,tBr:()=>ks,tb:()=>_E,tp0:()=>Go,uIk:()=>Dp,uOi:()=>ic,vHH:()=>at,vpe:()=>ml,wAp:()=>En,xi3:()=>V0,xp6:()=>Ng,yhl:()=>ra,ynx:()=>Op,z2F:()=>U_,z3N:()=>na,zSh:()=>Vh,zs3:()=>ou});var _=L(7579),K=L(727),W=L(8306),ce=L(6451),ye=L(3099);function Te(n){for(let r in n)if(n[r]===Te)return r;throw Error("Could not find renamed property on target object.")}function Re(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function Se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Ce(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ae=Te({__forward_ref__:Te});function oe(n){return n.__forward_ref__=oe,n.toString=function(){return Se(this())},n}function Me(n){return Tt(n)?n():n}function Tt(n){return"function"==typeof n&&n.hasOwnProperty(ae)&&n.__forward_ref__===oe}class at extends Error{constructor(r,o){super(function Ct(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Ke(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ke(n)}function ve(n,r){const o=r?` in ${r}`:"";throw new at(-201,`No provider for ${st(n)} found${o}`)}function At(n,r){null==n&&function ee(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Ut(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function on(n){return Gn(n,Kn)||Gn(n,Cn)}function Gn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Nn(n){return n&&(n.hasOwnProperty(Qn)||n.hasOwnProperty(Mn))?n[Qn]:null}const Kn=Te({\u0275prov:Te}),Qn=Te({\u0275inj:Te}),Cn=Te({ngInjectableDef:Te}),Mn=Te({ngInjectorDef:Te});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let Fr;function lr(n){const r=Fr;return Fr=n,r}function Kr(n,r,o){const a=on(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&jt.Optional?null:void 0!==r?r:void ve(Se(n),"Injector")}function ct(n){return{toString:n}.toString()}var we=(()=>((we=we||{})[we.OnPush=0]="OnPush",we[we.Default=1]="Default",we))(),ze=(()=>{return(n=ze||(ze={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ze;var n})();const mt="undefined"!=typeof globalThis&&globalThis,Nt="undefined"!=typeof window&&window,wn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ln=mt||"undefined"!=typeof global&&global||Nt||wn,Un={},ie=[],me=Te({\u0275cmp:Te}),Ie=Te({\u0275dir:Te}),lt=Te({\u0275pipe:Te}),fe=Te({\u0275mod:Te}),Be=Te({\u0275fac:Te}),ot=Te({__NG_ELEMENT_ID__:Te});let Bt=0;function sn(n){return ct(()=>{const o={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ie,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ze.Emulated,id:"c",styles:n.styles||ie,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,f=n.features,v=n.pipes;return a.id+=Bt++,a.inputs=We(n.inputs,o),a.outputs=We(n.outputs),f&&f.forEach(D=>D(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(gr):null,a.pipeDefs=v?()=>("function"==typeof v?v():v).map(gn):null,a})}function gr(n){return ke(n)||function pt(n){return n[Ie]||null}(n)}function gn(n){return function en(n){return n[lt]||null}(n)}const Zn={};function mr(n){return ct(()=>{const r={type:n.type,bootstrap:n.bootstrap||ie,declarations:n.declarations||ie,imports:n.imports||ie,exports:n.exports||ie,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Zn[n.id]=n.type),r})}function We(n,r){if(null==n)return Un;const o={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),o[l]=a,r&&(r[l]=f)}return o}const Ee=sn;function ne(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ke(n){return n[me]||null}function yn(n,r){const o=n[fe]||null;if(!o&&!0===r)throw new Error(`Type ${Se(n)} does not have '\u0275mod' property.`);return o}function Sr(n){return Array.isArray(n)&&"object"==typeof n[1]}function mi(n){return Array.isArray(n)&&!0===n[1]}function rs(n){return 0!=(8&n.flags)}function ws(n){return 2==(2&n.flags)}function di(n){return 1==(1&n.flags)}function qi(n){return null!==n.template}function Wr(n){return 0!=(512&n[2])}function hi(n,r){return n.hasOwnProperty(Be)?n[Be]:null}class ms{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Bi(){return Fs}function Fs(n){return n.type.prototype.ngOnChanges&&(n.setInput=ys),Hs}function Hs(){const n=Jr(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===Un)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ys(n,r,o,a){const l=Jr(n)||function Us(n,r){return n[Wo]=r}(n,{previous:Un,current:null}),f=l.current||(l.current={}),v=l.previous,D=this.declaredInputs[o],R=v[D];f[D]=new ms(R&&R.currentValue,r,v===Un),n[a]=r}Bi.ngInherit=!0;const Wo="__ngSimpleChanges__";function Jr(n){return n[Wo]||null}let ji;function ro(n){ji=n}function Jn(n){return!!n.listen}const O={createRenderer:(n,r)=>function as(){return void 0!==ji?ji:"undefined"!=typeof document?document:void 0}()};function P(n){for(;Array.isArray(n);)n=n[0];return n}function it(n,r){return P(r[n])}function ft(n,r){return P(r[n.index])}function bn(n,r){return n.data[r]}function Yn(n,r){return n[r]}function kn(n,r){const o=r[n];return Sr(o)?o:o[0]}function jn(n){return 4==(4&n[2])}function kr(n){return 128==(128&n[2])}function nr(n,r){return null==r?null:n[r]}function Pi(n){n[18]=0}function ri(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const hn={lFrame:vn(null),bindingsEnabled:!0};function qo(){return hn.bindingsEnabled}function Dt(){return hn.lFrame.lView}function Wn(){return hn.lFrame.tView}function Ms(n){return hn.lFrame.contextLView=n,n[8]}function qr(){let n=Bs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bs(){return hn.lFrame.currentTNode}function us(n,r){const o=hn.lFrame;o.currentTNode=n,o.isParent=r}function so(){return hn.lFrame.isParent}function ua(){hn.lFrame.isParent=!1}function N(){const n=hn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function p(){return hn.lFrame.bindingIndex++}function g(n){const r=hn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function q(n,r){const o=hn.lFrame;o.bindingIndex=o.bindingRootIndex=n,de(r)}function de(n){hn.lFrame.currentDirectiveIndex=n}function nt(){return hn.lFrame.currentQueryIndex}function Lt(n){hn.lFrame.currentQueryIndex=n}function Ht(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function cn(n,r,o){if(o&jt.SkipSelf){let l=r,f=n;for(;!(l=l.parent,null!==l||o&jt.Host||(l=Ht(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;r=l,n=f}const a=hn.lFrame=qt();return a.currentTNode=r,a.lView=n,!0}function an(n){const r=qt(),o=n[1];hn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function qt(){const n=hn.lFrame,r=null===n?null:n.child;return null===r?vn(n):r}function vn(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ln(){const n=hn.lFrame;return hn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const zn=Ln;function hr(){const n=Ln();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Or(){return hn.lFrame.selectedIndex}function Ti(n){hn.lFrame.selectedIndex=n}function ar(){const n=hn.lFrame;return bn(n.tView,n.selectedIndex)}function zs(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:R,ngAfterViewChecked:$,ngOnDestroy:z}=f;v&&(n.contentHooks||(n.contentHooks=[])).push(-o,v),D&&((n.contentHooks||(n.contentHooks=[])).push(o,D),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,D)),R&&(n.viewHooks||(n.viewHooks=[])).push(-o,R),$&&((n.viewHooks||(n.viewHooks=[])).push(o,$),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,$)),null!=z&&(n.destroyHooks||(n.destroyHooks=[])).push(o,z)}}function Ds(n,r,o){Sn(n,r,3,o)}function Jt(n,r,o,a){(3&n[2])===o&&Sn(n,r,o,a)}function Vt(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function Sn(n,r,o,a){const f=null!=a?a:-1,v=r.length-1;let D=0;for(let R=void 0!==a?65535&n[18]:0;R<v;R++)if("number"==typeof r[R+1]){if(D=r[R],null!=a&&D>=a)break}else r[R]<0&&(n[18]+=65536),(D<f||-1==f)&&(fr(n,o,r,R),n[18]=(4294901760&n[18])+R+2),R++}function fr(n,r,o,a){const l=o[a]<0,f=o[a+1],D=n[l?-o[a]:o[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(D)}finally{}}}else try{f.call(D)}finally{}}class Ci{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Ps(n,r,o){const a=Jn(n);let l=0;for(;l<o.length;){const f=o[l];if("number"==typeof f){if(0!==f)break;l++;const v=o[l++],D=o[l++],R=o[l++];a?n.setAttribute(r,D,R,v):r.setAttributeNS(v,D,R)}else{const v=f,D=o[++l];Vs(v)?a&&n.setProperty(r,v,D):a?n.setAttribute(r,v,D):r.setAttribute(v,D),l++}}return l}function ao(n){return 3===n||4===n||6===n}function Vs(n){return 64===n.charCodeAt(0)}function Ra(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?o=l:0===o||xu(n,o,l,null,-1===o||2===o?r[++a]:null)}}return n}function xu(n,r,o,a,l){let f=0,v=n.length;if(-1===r)v=-1;else for(;f<n.length;){const D=n[f++];if("number"==typeof D){if(D===r){v=-1;break}if(D>r){v=f-1;break}}}for(;f<n.length;){const D=n[f];if("number"==typeof D)break;if(D===o){if(null===a)return void(null!==l&&(n[f+1]=l));if(a===n[f+1])return void(n[f+2]=l)}f++,null!==a&&f++,null!==l&&f++}-1!==v&&(n.splice(v,0,r),f=v+1),n.splice(f++,0,o),null!==a&&n.splice(f++,0,a),null!==l&&n.splice(f++,0,l)}function ca(n){return-1!==n}function Yo(n){return 32767&n}function Qo(n,r){let o=function Si(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let Jo=!0;function _i(n){const r=Jo;return Jo=n,r}let Mu=0;function zr(n,r){const o=Xo(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Ao(a.data,n),Ao(r,null),Ao(a.blueprint,null));const l=b(n,r),f=n.injectorIndex;if(ca(l)){const v=Yo(l),D=Qo(l,r),R=D[1].data;for(let $=0;$<8;$++)r[f+$]=D[v+$]|R[v+$]}return r[f+8]=l,f}function Ao(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Xo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function b(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,l=r;for(;null!==l;){const f=l[1],v=f.type;if(a=2===v?f.declTNode:1===v?l[6]:null,null===a)return-1;if(o++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function w(n,r,o){!function Ot(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ot)&&(a=o[ot]),null==a&&(a=o[ot]=Mu++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,o)}function A(n,r,o){if(o&jt.Optional)return n;ve(r,"NodeInjector")}function x(n,r,o,a){if(o&jt.Optional&&void 0===a&&(a=null),0==(o&(jt.Self|jt.Host))){const l=n[9],f=lr(void 0);try{return l?l.get(r,a,o&jt.Optional):Kr(r,a,o&jt.Optional)}finally{lr(f)}}return A(a,r,o)}function B(n,r,o,a=jt.Default,l){if(null!==n){const f=function fn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ot)?n[ot]:void 0;return"number"==typeof r?r>=0?255&r:De:r}(o);if("function"==typeof f){if(!cn(r,n,a))return a&jt.Host?A(l,o,a):x(r,o,a,l);try{const v=f(a);if(null!=v||a&jt.Optional)return v;ve(o)}finally{zn()}}else if("number"==typeof f){let v=null,D=Xo(n,r),R=-1,$=a&jt.Host?r[16][6]:null;for((-1===D||a&jt.SkipSelf)&&(R=-1===D?b(n,r):r[D+8],-1!==R&&Rr(a,!1)?(v=r[1],D=Yo(R),r=Qo(R,r)):D=-1);-1!==D;){const z=r[1];if(Ar(f,D,z.data)){const se=ht(D,r,o,v,a,$);if(se!==re)return se}R=r[D+8],-1!==R&&Rr(a,r[1].data[D+8]===$)&&Ar(f,D,r)?(v=z,D=Yo(R),r=Qo(R,r)):D=-1}}}return x(r,o,a,l)}const re={};function De(){return new cs(qr(),Dt())}function ht(n,r,o,a,l,f){const v=r[1],D=v.data[n+8],z=Xt(D,v,o,null==a?ws(D)&&Jo:a!=v&&0!=(3&D.type),l&jt.Host&&f===D);return null!==z?qn(r,v,z,D):re}function Xt(n,r,o,a,l){const f=n.providerIndexes,v=r.data,D=1048575&f,R=n.directiveStart,z=f>>20,Ae=l?D+z:n.directiveEnd;for(let qe=a?D:D+z;qe<Ae;qe++){const It=v[qe];if(qe<R&&o===It||qe>=R&&It.type===o)return qe}if(l){const qe=v[R];if(qe&&qi(qe)&&qe.type===o)return R}return null}function qn(n,r,o,a){let l=n[o];const f=r.data;if(function si(n){return n instanceof Ci}(l)){const v=l;v.resolving&&function be(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new at(-200,`Circular dependency in DI detected for ${n}${o}`)}(st(f[o]));const D=_i(v.canSeeViewProviders);v.resolving=!0;const R=v.injectImpl?lr(v.injectImpl):null;cn(n,a,jt.Default);try{l=n[o]=v.factory(void 0,f,n,a),r.firstCreatePass&&o>=a.directiveStart&&function Vo(n,r,o){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:f}=r.type.prototype;if(a){const v=Fs(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],r)}finally{null!==R&&lr(R),_i(D),v.resolving=!1,zn()}}return l}function Ar(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function Rr(n,r){return!(n&jt.Self||n&jt.Host&&r)}class cs{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return B(this._tNode,this._lView,r,a,o)}}function $o(n){return ct(()=>{const r=n.prototype.constructor,o=r[Be]||ha(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const f=l[Be]||ha(l);if(f&&f!==o)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function ha(n){return Tt(n)?()=>{const r=ha(Me(n));return r&&r()}:hi(n)}function Ia(n){return function E(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let l=0;for(;l<a;){const f=o[l];if(ao(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<a&&"string"==typeof o[l];)l++;else{if(f===r)return o[l+1];l+=2}}}return null}(qr(),n)}const uo="__parameters__";function ea(n,r,o){return ct(()=>{const a=function Fn(n){return function(...o){if(n){const a=n(...o);for(const l in a)this[l]=a[l]}}}(r);function l(...f){if(this instanceof l)return a.apply(this,f),this;const v=new l(...f);return D.annotation=v,D;function D(R,$,z){const se=R.hasOwnProperty(uo)?R[uo]:Object.defineProperty(R,uo,{value:[]})[uo];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(v),R}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class rr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ut({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wt=new rr("AnalyzeForEntryComponents");function Qe(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),Qe(a,r)):r!==n&&r.push(a)}return r}function Os(n,r){n.forEach(o=>Array.isArray(o)?Os(o,r):r(o))}function qs(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function qa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function lo(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function Zs(n,r,o){let a=Ma(n,r);return a>=0?n[1|a]=o:(a=~a,function Ho(n,r,o,a){let l=n.length;if(l==r)n.push(o,a);else if(1===l)n.push(a,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function Ns(n,r){const o=Ma(n,r);if(o>=0)return n[1|o]}function Ma(n,r){return function ta(n,r,o){let a=0,l=n.length>>o;for(;l!==a;){const f=a+(l-a>>1),v=n[f<<o];if(r===v)return f<<o;v>r?l=f:a=f+1}return~(l<<o)}(n,r,1)}const Pa={},Ro="__NG_DI_FLAG__",pi="ngTempTokenPath",k=/\n/gm,he="__source",He=Te({provide:String,useValue:Te});let Ze;function St(n){const r=Ze;return Ze=n,r}function nn(n,r=jt.Default){if(void 0===Ze)throw new at(203,"");return null===Ze?Kr(n,void 0,r):Ze.get(n,r&jt.Optional?null:void 0,r)}function mn(n,r=jt.Default){return(function Ir(){return Fr}()||nn)(Me(n),r)}const Tr=mn;function Tn(n){const r=[];for(let o=0;o<n.length;o++){const a=Me(n[o]);if(Array.isArray(a)){if(0===a.length)throw new at(900,"");let l,f=jt.Default;for(let v=0;v<a.length;v++){const D=a[v],R=Ss(D);"number"==typeof R?-1===R?l=D.token:f|=R:l=D}r.push(mn(l,f))}else r.push(mn(a))}return r}function Xr(n,r){return n[Ro]=r,n.prototype[Ro]=r,n}function Ss(n){return n[Ro]}const ks=Xr(ea("Inject",n=>({token:n})),-1),ba=Xr(ea("Optional"),8),Go=Xr(ea("SkipSelf"),4);let Ja,Uu;function Oa(n){var r;return(null===(r=function Fu(){if(void 0===Ja&&(Ja=null,ln.trustedTypes))try{Ja=ln.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ja}())||void 0===r?void 0:r.createHTML(n))||n}function th(n){var r;return(null===(r=function ad(){if(void 0===Uu&&(Uu=null,ln.trustedTypes))try{Uu=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Uu}())||void 0===r?void 0:r.createScriptURL(n))||n}class fu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nh extends fu{getTypeName(){return"HTML"}}class Cf extends fu{getTypeName(){return"Style"}}class Xa extends fu{getTypeName(){return"Script"}}class Bu extends fu{getTypeName(){return"URL"}}class Sf extends fu{getTypeName(){return"ResourceURL"}}function na(n){return n instanceof fu?n.changingThisBreaksApplicationSecurity:n}function pu(n,r){const o=ra(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function ra(n){return n instanceof fu&&n.getTypeName()||null}function rh(n){return new nh(n)}function gu(n){return new Cf(n)}function Af(n){return new Xa(n)}function wl(n){return new Bu(n)}function ld(n){return new Sf(n)}class mu{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Oa(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class ia{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Oa(r),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Oa(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const o=r.attributes;for(let l=o.length-1;0<l;l--){const v=o.item(l).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&r.removeAttribute(v)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const bl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Na=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yu(n){return(n=String(n)).match(bl)||n.match(Na)?n:"unsafe:"+n}function zo(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function Dl(...n){const r={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const Tl=zo("area,br,col,hr,img,wbr"),dd=zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hd=zo("rp,rt"),Vu=Dl(Tl,Dl(dd,zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dl(hd,zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dl(hd,dd)),eu=zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ka=zo("srcset"),fd=Dl(eu,ka,zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vu=zo("script,style,template");class tc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Vu.hasOwnProperty(o))return this.sanitizedSomething=!0,!vu.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let l=0;l<a.length;l++){const f=a.item(l),v=f.name,D=v.toLowerCase();if(!fd.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let R=f.value;eu[D]&&(R=yu(R)),ka[D]&&(n=R,R=(n=String(n)).split(",").map(r=>yu(r.trim())).join(", ")),this.buf.push(" ",v,'="',nc(R),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Vu.hasOwnProperty(o)&&!Tl.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(nc(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const sh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sl=/([^\#-~ |!])/g;function nc(n){return n.replace(/&/g,"&amp;").replace(sh,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Sl,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $u;function Li(n,r){let o=null;try{$u=$u||function Il(n){const r=new ia(n);return function ih(){try{return!!(new window.DOMParser).parseFromString(Oa(""),"text/html")}catch(n){return!1}}()?new mu(r):r}(n);let a=r?String(r):"";o=$u.getInertBodyElement(a);let l=5,f=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=f,f=o.innerHTML,o=$u.getInertBodyElement(a)}while(a!==f);return Oa((new tc).sanitizeChildren(Hu(o)||o))}finally{if(o){const a=Hu(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Hu(n){return"content"in n&&function _u(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ji=(()=>((Ji=Ji||{})[Ji.NONE=0]="NONE",Ji[Ji.HTML=1]="HTML",Ji[Ji.STYLE=2]="STYLE",Ji[Ji.SCRIPT=3]="SCRIPT",Ji[Ji.URL=4]="URL",Ji[Ji.RESOURCE_URL=5]="RESOURCE_URL",Ji))();function rc(n){const r=Rl();return r?r.sanitize(Ji.URL,n)||"":pu(n,"URL")?na(n):yu(Ke(n))}function ic(n){const r=Rl();if(r)return th(r.sanitize(Ji.RESOURCE_URL,n)||"");if(pu(n,"ResourceURL"))return th(na(n));throw new at(904,"")}function Rl(){const n=Dt();return n&&n[12]}const xl="__ngContext__";function Ni(n,r){n[xl]=r}function Js(n){const r=function Wu(n){return n[xl]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function tu(n){return n.ngOriginalError}function lh(n,...r){n.error(...r)}class Ol{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),a=function dc(n){return n&&n.ngErrorLogger||lh}(r);a(this._console,"ERROR",r),o&&a(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&tu(r);for(;o&&tu(o);)o=tu(o);return o||null}}const _s=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ln))();function y(n){return n instanceof Function?n():n}var Y=(()=>((Y=Y||{})[Y.Important=1]="Important",Y[Y.DashCase=2]="DashCase",Y))();function dt(n,r){return undefined(n,r)}function On(n){const r=n[3];return mi(r)?r[3]:r}function No(n){return pc(n[13])}function Zu(n){return pc(n[4])}function pc(n){for(;null!==n&&!mi(n);)n=n[4];return n}function Eu(n,r,o,a,l){if(null!=a){let f,v=!1;mi(a)?f=a:Sr(a)&&(v=!0,a=a[0]);const D=P(a);0===n&&null!==o?null==l?Ig(r,o,D):Ll(r,o,D,l||null,!0):1===n&&null!==o?Ll(r,o,D,l||null,!0):2===n?function mh(n,r,o){const a=ph(n,r);a&&function zy(n,r,o,a){Jn(n)?n.removeChild(r,o,a):r.removeChild(o)}(n,a,r,o)}(r,D,v):3===n&&r.destroyNode(D),null!=f&&function Yu(n,r,o,a,l){const f=o[7];f!==P(o)&&Eu(r,n,a,f,l);for(let D=10;D<o.length;D++){const R=o[D];Fl(R[1],R,n,r,a,f)}}(r,n,f,o,l)}}function gc(n,r,o){if(Jn(n))return n.createElement(r,o);{const a=null!==o?function vs(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Of(n,r){const o=n[9],a=o.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,ri(l,-1)),o.splice(a,1)}function mc(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const l=a[17];null!==l&&l!==n&&Of(l,a),r>0&&(n[o-1][4]=a[4]);const f=qa(n,10+r);!function vd(n,r){Fl(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=f[19];null!==v&&v.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Nf(n,r){if(!(256&r[2])){const o=r[11];Jn(o)&&o.destroyNode&&Fl(n,r,o,3,null,null),function Ed(n){let r=n[13];if(!r)return kf(n[1],n);for(;r;){let o=null;if(Sr(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)Sr(r)&&kf(r[1],r),r=r[3];null===r&&(r=n),Sr(r)&&kf(r[1],r),o=r&&r[4]}r=o}}(r)}}function kf(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Gy(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const l=r[o[a]];if(!(l instanceof Ci)){const f=o[a+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const D=l[f[v]],R=f[v+1];try{R.call(D)}finally{}}else try{f.call(l)}finally{}}}}(n,r),function Hy(n,r){const o=n.cleanup,a=r[7];let l=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const v=o[f+1],D="function"==typeof v?v(r):P(r[v]),R=a[l=o[f+2]],$=o[f+3];"boolean"==typeof $?D.removeEventListener(o[f],R,$):$>=0?a[l=$]():a[l=-$].unsubscribe(),f+=2}else{const v=a[l=o[f+1]];o[f].call(v)}if(null!==a){for(let f=l+1;f<a.length;f++)a[f]();r[7]=null}}(n,r),1===r[1].type&&Jn(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&mi(r[3])){o!==r[3]&&Of(o,r);const a=r[19];null!==a&&a.detachView(n)}}}function Eg(n,r,o){return function wg(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===ze.None||l===ze.Emulated)return null}return ft(a,o)}(n,r.parent,o)}function Ll(n,r,o,a,l){Jn(n)?n.insertBefore(r,o,a,l):r.insertBefore(o,a,l)}function Ig(n,r,o){Jn(n)?n.appendChild(r,o):r.appendChild(o)}function bg(n,r,o,a,l){null!==a?Ll(n,r,o,a,l):Ig(n,r,o)}function ph(n,r){return Jn(n)?n.parentNode(r):r.parentNode}function Dg(n,r,o){return Cg(n,r,o)}let Cg=function Tg(n,r,o){return 40&n.type?ft(n,o):null};function gh(n,r,o,a){const l=Eg(n,a,r),f=r[11],D=Dg(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(o))for(let R=0;R<o.length;R++)bg(f,l,o[R],D,!1);else bg(f,l,o,D,!1)}function wd(n,r){if(null!==r){const o=r.type;if(3&o)return ft(r,n);if(4&o)return Bf(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return wd(n,a);{const l=n[r.index];return mi(l)?Bf(-1,l):P(l)}}if(32&o)return dt(r,n)()||P(n[r.index]);{const a=Uf(n,r);return null!==a?Array.isArray(a)?a[0]:wd(On(n[16]),a):wd(n,r.next)}}return null}function Uf(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Bf(n,r){const o=10+n+1;if(o<r.length){const a=r[o],l=a[1].firstChild;if(null!==l)return wd(a,l)}return r[7]}function Ls(n,r,o,a,l,f,v){for(;null!=o;){const D=a[o.index],R=o.type;if(v&&0===r&&(D&&Ni(P(D),a),o.flags|=4),64!=(64&o.flags))if(8&R)Ls(n,r,o.child,a,l,f,!1),Eu(r,n,l,D,f);else if(32&R){const $=dt(o,a);let z;for(;z=$();)Eu(r,n,l,z,f);Eu(r,n,l,D,f)}else 16&R?yh(n,r,a,o,l,f):Eu(r,n,l,D,f);o=v?o.projectionNext:o.next}}function Fl(n,r,o,a,l,f){Ls(o,a,n.firstChild,r,l,f,!1)}function yh(n,r,o,a,l,f){const v=o[16],R=v[6].projection[a.projection];if(Array.isArray(R))for(let $=0;$<R.length;$++)Eu(r,n,l,R[$],f);else Ls(n,r,R,v[3],l,f,!0)}function Ag(n,r,o){Jn(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function vh(n,r,o){Jn(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function Id(n,r,o){let a=n.length;for(;;){const l=n.indexOf(r,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=r.length;if(l+f===a||n.charCodeAt(l+f)<=32)return l}o=l+1}}const Qu="ng-template";function Ul(n,r,o){let a=0;for(;a<n.length;){let l=n[a++];if(o&&"class"===l){if(l=n[a],-1!==Id(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function vc(n){return 4===n.type&&n.value!==Qu}function Rg(n,r,o){return r===(4!==n.type||o?n.value:Qu)}function jf(n,r,o){let a=4;const l=n.attrs||[],f=function Mg(n){for(let r=0;r<n.length;r++)if(ao(n[r]))return r;return n.length}(l);let v=!1;for(let D=0;D<r.length;D++){const R=r[D];if("number"!=typeof R){if(!v)if(4&a){if(a=2|1&a,""!==R&&!Rg(n,R,o)||""===R&&1===r.length){if(va(a))return!1;v=!0}}else{const $=8&a?R:r[++D];if(8&a&&null!==n.attrs){if(!Ul(n.attrs,$,o)){if(va(a))return!1;v=!0}continue}const se=xg(8&a?"class":R,l,vc(n),o);if(-1===se){if(va(a))return!1;v=!0;continue}if(""!==$){let Ae;Ae=se>f?"":l[se+1].toLowerCase();const qe=8&a?Ae:null;if(qe&&-1!==Id(qe,$,0)||2&a&&$!==Ae){if(va(a))return!1;v=!0}}}}else{if(!v&&!va(a)&&!va(R))return!1;if(v&&va(R))continue;v=!1,a=R|1&a}}return va(a)||v}function va(n){return 0==(1&n)}function xg(n,r,o,a){if(null===r)return-1;let l=0;if(a||!o){let f=!1;for(;l<r.length;){const v=r[l];if(v===n)return l;if(3===v||6===v)f=!0;else{if(1===v||2===v){let D=r[++l];for(;"string"==typeof D;)D=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=f?1:2}return-1}return function Pg(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function $f(n,r,o=!1){for(let a=0;a<r.length;a++)if(jf(n,r[a],o))return!0;return!1}function _h(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function _c(n,r){return n?":not("+r.trim()+")":r}function Bl(n){let r=n[0],o=1,a=2,l="",f=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&a){const D=n[++o];l+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!va(v)&&(r+=_c(f,l),l=""),a=v,f=f||!va(a);o++}return""!==l&&(r+=_c(f,l)),r}const ur={};function Ng(n){kg(Wn(),Dt(),Or()+n,!1)}function kg(n,r,o,a){if(!a)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Ds(r,f,o)}else{const f=n.preOrderHooks;null!==f&&Jt(r,f,0,o)}Ti(o)}function ru(n,r){return n<<17|r<<2}function mo(n){return n>>17&32767}function Gf(n){return 2|n}function Ba(n){return(131068&n)>>2}function wc(n,r){return-131069&n|r<<2}function Eh(n){return 1|n}function $g(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const l=o[a],f=o[a+1];if(-1!==f){const v=n.data[f];Lt(l),v.contentQueries(2,r[f],f)}}}function Cc(n,r,o,a,l,f,v,D,R,$){const z=r.blueprint.slice();return z[0]=l,z[2]=140|a,Pi(z),z[3]=z[15]=n,z[8]=o,z[10]=v||n&&n[10],z[11]=D||n&&n[11],z[12]=R||n&&n[12]||null,z[9]=$||n&&n[9]||null,z[6]=f,z[16]=2==r.type?n[16]:z,z}function tl(n,r,o,a,l){let f=n.data[r];if(null===f)f=function Sd(n,r,o,a,l){const f=Bs(),v=so(),R=n.data[r]=function Sc(n,r,o,a,l,f){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,o,r,a,l);return null===n.firstChild&&(n.firstChild=R),null!==f&&(v?null==f.child&&null!==R.parent&&(f.child=R):null===f.next&&(f.next=R)),R}(n,r,o,a,l),function C(){return hn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=a,f.attrs=l;const v=function io(){const n=hn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===v?-1:v.injectorIndex}return us(f,!0),f}function iu(n,r,o,a){if(0===o)return-1;const l=r.length;for(let f=0;f<o;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function nl(n,r,o){an(r);try{const a=n.viewQuery;null!==a&&su(1,a,o);const l=n.template;null!==l&&Xf(n,r,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$g(n,r),n.staticViewQueries&&su(2,n.viewQuery,o);const f=n.components;null!==f&&function rv(n,r){for(let o=0;o<r.length;o++)Pd(n,r[o])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,hr()}}function rl(n,r,o,a){const l=r[2];if(256!=(256&l)){an(r);try{Pi(r),function S(n){return hn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Xf(n,r,o,2,a);const v=3==(3&l);if(v){const $=n.preOrderCheckHooks;null!==$&&Ds(r,$,null)}else{const $=n.preOrderHooks;null!==$&&Jt(r,$,0,null),Vt(r,0)}if(function dv(n){for(let r=No(n);null!==r;r=Zu(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const l=o[a],f=l[3];0==(1024&l[2])&&ri(f,1),l[2]|=1024}}}(r),function cv(n){for(let r=No(n);null!==r;r=Zu(r))for(let o=10;o<r.length;o++){const a=r[o],l=a[1];kr(a)&&rl(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&$g(n,r),v){const $=n.contentCheckHooks;null!==$&&Ds(r,$)}else{const $=n.contentHooks;null!==$&&Jt(r,$,1),Vt(r,1)}!function jg(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const l=o[a];if(l<0)Ti(~l);else{const f=l,v=o[++a],D=o[++a];q(v,f),D(2,r[f])}}}finally{Ti(-1)}}(n,r);const D=n.components;null!==D&&function Ch(n,r){for(let o=0;o<r.length;o++)hv(n,r[o])}(r,D);const R=n.viewQuery;if(null!==R&&su(2,R,a),v){const $=n.viewCheckHooks;null!==$&&Ds(r,$)}else{const $=n.viewHooks;null!==$&&Jt(r,$,2),Vt(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,ri(r[3],-1))}finally{hr()}}}function Jf(n,r,o,a){const l=r[10],v=jn(r);try{!v&&l.begin&&l.begin(),v&&nl(n,r,a),rl(n,r,o,a)}finally{!v&&l.end&&l.end()}}function Xf(n,r,o,a,l){const f=Or(),v=2&a;try{Ti(-1),v&&r.length>20&&kg(n,r,20,!1),o(a,l)}finally{Ti(f)}}function Hg(n,r,o){if(rs(r)){const l=r.directiveEnd;for(let f=r.directiveStart;f<l;f++){const v=n.data[f];v.contentQueries&&v.contentQueries(1,o[f],f)}}}function Sh(n,r,o){!qo()||(function Nh(n,r,o,a){const l=o.directiveStart,f=o.directiveEnd;n.firstCreatePass||zr(o,r),Ni(a,r);const v=o.initialInputs;for(let D=l;D<f;D++){const R=n.data[D],$=qi(R);$&&uv(r,o,R);const z=qn(r,n,D,o);Ni(z,r),null!==v&&Md(0,D-l,z,R,0,v),$&&(kn(o.index,r)[8]=z)}}(n,r,o,ft(o,r)),128==(128&o.flags)&&function ep(n,r,o){const a=o.directiveStart,l=o.directiveEnd,v=o.index,D=function le(){return hn.lFrame.currentDirectiveIndex}();try{Ti(v);for(let R=a;R<l;R++){const $=n.data[R],z=r[R];de(R),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&kh($,z)}}finally{Ti(-1),de(D)}}(n,r,o))}function Ah(n,r,o=ft){const a=r.localNames;if(null!==a){let l=r.index+1;for(let f=0;f<a.length;f+=2){const v=a[f+1],D=-1===v?o(r,n):n[v];n[l++]=D}}}function Rh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=xh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function xh(n,r,o,a,l,f,v,D,R,$){const z=20+a,se=z+l,Ae=function Gg(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:ur);return o}(z,se),qe="function"==typeof $?$():$;return Ae[1]={type:n,blueprint:Ae,template:o,queries:null,viewQuery:D,declTNode:r,data:Ae.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:R,consts:qe,incompleteFirstPass:!1}}function Vl(n,r,o,a){const l=Fh(r);null===o?l.push(a):(l.push(o),n.firstCreatePass&&rm(n).push(a,l.length-1))}function Mh(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,l):o[a]=[r,l]}return o}function oa(n,r,o,a,l,f,v,D){const R=ft(r,o);let z,$=r.inputs;!D&&null!=$&&(z=$[a])?(Bh(n,o,z,a,l),ws(r)&&function qg(n,r){const o=kn(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(a=function Wg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=v?v(l,r.value||"",a):l,Jn(f)?f.setProperty(R,a,l):Vs(a)||(R.setProperty?R.setProperty(a,l):R[a]=l))}function Ad(n,r,o,a){let l=!1;if(qo()){const f=function tp(n,r,o){const a=n.directiveRegistry;let l=null;if(a)for(let f=0;f<a.length;f++){const v=a[f];$f(o,v.selectors,!1)&&(l||(l=[]),w(zr(o,r),n,v.type),qi(v)?(np(n,o),l.unshift(v)):l.push(v))}return l}(n,r,o),v=null===a?null:{"":-1};if(null!==f){l=!0,Jg(o,n.data.length,f.length);for(let z=0;z<f.length;z++){const se=f[z];se.providersResolver&&se.providersResolver(se)}let D=!1,R=!1,$=iu(n,r,f.length,null);for(let z=0;z<f.length;z++){const se=f[z];o.mergedAttrs=Ra(o.mergedAttrs,se.hostAttrs),Xg(n,o,r,$,se),Qg($,se,v),null!==se.contentQueries&&(o.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(o.flags|=128);const Ae=se.type.prototype;!D&&(Ae.ngOnChanges||Ae.ngOnInit||Ae.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),D=!0),!R&&(Ae.ngOnChanges||Ae.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),R=!0),$++}!function Ph(n,r){const a=r.directiveEnd,l=n.data,f=r.attrs,v=[];let D=null,R=null;for(let $=r.directiveStart;$<a;$++){const z=l[$],se=z.inputs,Ae=null===f||vc(r)?null:rp(se,f);v.push(Ae),D=Mh(se,$,D),R=Mh(z.outputs,$,R)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=D,r.outputs=R}(n,o)}v&&function av(n,r,o){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const f=o[r[l+1]];if(null==f)throw new at(-301,!1);a.push(r[l],f)}}}(o,a,v)}return o.mergedAttrs=Ra(o.mergedAttrs,o.attrs),l}function Rd(n,r,o,a,l,f){const v=f.hostBindings;if(v){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const R=~r.index;(function xd(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(D)!=R&&D.push(R),D.push(a,l,v)}}function kh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function np(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Qg(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;qi(r)&&(o[""]=n)}}function Jg(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Xg(n,r,o,a,l){n.data[a]=l;const f=l.factory||(l.factory=hi(l.type)),v=new Ci(f,qi(l),null);n.blueprint[a]=v,o[a]=v,Rd(n,r,0,a,iu(n,o,l.hostVars,ur),l)}function uv(n,r,o){const a=ft(r,n),l=Rh(o),f=n[10],v=bu(n,Cc(n,l,null,o.onPush?64:16,a,r,f,f.createRenderer(a,o),null,null));n[r.index]=v}function Va(n,r,o,a,l,f){const v=ft(n,r);!function Ac(n,r,o,a,l,f,v){if(null==f)Jn(n)?n.removeAttribute(r,l,o):r.removeAttribute(l);else{const D=null==v?Ke(f):v(f,a||"",l);Jn(n)?n.setAttribute(r,l,D,o):o?r.setAttributeNS(o,l,D):r.setAttribute(l,D)}}(r[11],v,f,n.value,o,a,l)}function Md(n,r,o,a,l,f){const v=f[r];if(null!==v){const D=a.setInput;for(let R=0;R<v.length;){const $=v[R++],z=v[R++],se=v[R++];null!==D?a.setInput(o,se,$,z):o[z]=se}}}function rp(n,r){let o=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return o}function em(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function hv(n,r){const o=kn(r,n);if(kr(o)){const a=o[1];80&o[2]?rl(a,o,a.template,o[8]):o[5]>0&&ip(o)}}function ip(n){for(let a=No(n);null!==a;a=Zu(a))for(let l=10;l<a.length;l++){const f=a[l];if(1024&f[2]){const v=f[1];rl(v,f,v.template,f[8])}else f[5]>0&&ip(f)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const l=kn(o[a],n);kr(l)&&l[5]>0&&ip(l)}}function Pd(n,r){const o=kn(r,n),a=o[1];(function sp(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),nl(a,o,o[8])}function bu(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Od(n){for(;n;){n[2]|=64;const r=On(n);if(Wr(n)&&!r)return n;n=r}return null}function op(n){!function jl(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],a=Js(o),l=a[1];Jf(l,a,l.template,o)}}(n[8])}function su(n,r,o){Lt(0),r(n,o)}const pv=(()=>Promise.resolve(null))();function Fh(n){return n[7]||(n[7]=[])}function rm(n){return n.cleanup||(n.cleanup=[])}function im(n,r){const o=n[9],a=o?o.get(Ol,null):null;a&&a.handleError(r)}function Bh(n,r,o,a,l){for(let f=0;f<o.length;){const v=o[f++],D=o[f++],R=r[v],$=n.data[v];null!==$.setInput?$.setInput(R,l,a,D):R[D]=l}}function Ta(n,r,o){const a=it(r,n);!function Ua(n,r,o){Jn(n)?n.setValue(r,o):r.textContent=o}(n[11],a,o)}function Rc(n,r,o){let a=o?n.styles:null,l=o?n.classes:null,f=0;if(null!==r)for(let v=0;v<r.length;v++){const D=r[v];"number"==typeof D?f=D:1==f?l=Ce(l,D):2==f&&(a=Ce(a,D+": "+r[++v]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=l:n.classesWithoutHost=l}const ap=new rr("INJECTOR",-1);class am{get(r,o=Pa){if(o===Pa){const a=new Error(`NullInjectorError: No provider for ${Se(r)}!`);throw a.name="NullInjectorError",a}return o}}const Vh=new rr("Set Injector scope."),Mc={},gv={};let kd;function um(){return void 0===kd&&(kd=new am),kd}function jh(n,r=null,o=null,a){const l=lm(n,r,o,a);return l._resolveInjectorDefTypes(),l}function lm(n,r=null,o=null,a){return new up(n,o,r||um(),a)}class up{constructor(r,o,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&Os(o,D=>this.processProvider(D,r,o)),Os([r],D=>this.processInjectorType(D,[],f)),this.records.set(ap,il(void 0,this));const v=this.records.get(Vh);this.scope=null!=v?v.value:null,this.source=l||("object"==typeof r?null:Se(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=Pa,a=jt.Default){this.assertNotDestroyed();const l=St(this),f=lr(void 0);try{if(!(a&jt.SkipSelf)){let D=this.records.get(r);if(void 0===D){const R=function kc(n){return"function"==typeof n||"object"==typeof n&&n instanceof rr}(r)&&on(r);D=R&&this.injectableDefInScope(R)?il(lp(r),Mc):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&jt.Self?um():this.parent).get(r,o=a&jt.Optional&&o===Pa?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[pi]=v[pi]||[]).unshift(Se(r)),l)throw v;return function ho(n,r,o,a){const l=n[pi];throw r[he]&&l.unshift(r[he]),n.message=function ma(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=Se(r);if(Array.isArray(r))l=r.map(Se).join(" -> ");else if("object"==typeof r){let f=[];for(let v in r)if(r.hasOwnProperty(v)){let D=r[v];f.push(v+":"+("string"==typeof D?JSON.stringify(D):Se(D)))}l=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${l}]: ${n.replace(k,"\n  ")}`}("\n"+n.message,l,o,a),n.ngTokenPath=l,n[pi]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{lr(f),St(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(Se(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processInjectorType(r,o,a){if(!(r=Me(r)))return!1;let l=Nn(r);const f=null==l&&r.ngModule||void 0,v=void 0===f?r:f,D=-1!==a.indexOf(v);if(void 0!==f&&(l=Nn(f)),null==l)return!1;if(null!=l.imports&&!D){let z;a.push(v);try{Os(l.imports,se=>{this.processInjectorType(se,o,a)&&(void 0===z&&(z=[]),z.push(se))})}finally{}if(void 0!==z)for(let se=0;se<z.length;se++){const{ngModule:Ae,providers:qe}=z[se];Os(qe,It=>this.processProvider(It,Ae,qe||ie))}}this.injectorDefTypes.add(v);const R=hi(v)||(()=>new v);this.records.set(v,il(R,Mc));const $=l.providers;if(null!=$&&!D){const z=r;Os($,se=>this.processProvider(se,z,$))}return void 0!==f&&void 0!==r.providers}processProvider(r,o,a){let l=ol(r=Me(r))?r:Me(r&&r.provide);const f=function cm(n,r,o){return Hh(n)?il(void 0,n.useValue):il($h(n),Mc)}(r);if(ol(r)||!0!==r.multi)this.records.get(l);else{let v=this.records.get(l);v||(v=il(void 0,Mc,!0),v.factory=()=>Tn(v.multi),this.records.set(l,v)),l=r,v.multi.push(r)}this.records.set(l,f)}hydrate(r,o){return o.value===Mc&&(o.value=gv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function dm(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Me(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function lp(n){const r=on(n),o=null!==r?r.factory:hi(n);if(null!==o)return o;if(n instanceof rr)throw new at(204,!1);if(n instanceof Function)return function cp(n){const r=n.length;if(r>0)throw lo(r,"?"),new at(204,!1);const o=function Bn(n){const r=n&&(n[Kn]||n[Cn]);if(r){const o=function $n(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new at(204,!1)}function $h(n,r,o){let a;if(ol(n)){const l=Me(n);return hi(l)||lp(l)}if(Hh(n))a=()=>Me(n.useValue);else if(function sl(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Tn(n.deps||[]));else if(function Pc(n){return!(!n||!n.useExisting)}(n))a=()=>mn(Me(n.useExisting));else{const l=Me(n&&(n.useClass||n.provide));if(!function Nc(n){return!!n.deps}(n))return hi(l)||lp(l);a=()=>new l(...Tn(n.deps))}return a}function il(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Hh(n){return null!==n&&"object"==typeof n&&He in n}function ol(n){return"function"==typeof n}let ou=(()=>{class n{static create(o,a){var l;if(Array.isArray(o))return jh({name:""},a,o,"");{const f=null!==(l=o.name)&&void 0!==l?l:"";return jh({name:f},o.parent,o.providers,f)}}}return n.THROW_IF_NOT_FOUND=Pa,n.NULL=new am,n.\u0275prov=Ut({token:n,providedIn:"any",factory:()=>mn(ap)}),n.__NG_ELEMENT_ID__=-1,n})();function wm(n,r){zs(Js(n)[1],qr())}function mp(n){let r=function gp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let l;if(qi(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new at(903,"");l=r.\u0275dir}if(l){if(o){a.push(l);const v=n;v.inputs=vp(n.inputs),v.declaredInputs=vp(n.declaredInputs),v.outputs=vp(n.outputs);const D=l.hostBindings;D&&Ep(n,D);const R=l.viewQuery,$=l.contentQueries;if(R&&_p(n,R),$&&Iv(n,$),Re(n.inputs,l.inputs),Re(n.declaredInputs,l.declaredInputs),Re(n.outputs,l.outputs),qi(l)&&l.data.animation){const z=n.data;z.animation=(z.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let v=0;v<f.length;v++){const D=f[v];D&&D.ngInherit&&D(n),D===mp&&(o=!1)}}r=Object.getPrototypeOf(r)}!function yp(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Ra(l.hostAttrs,o=Ra(o,l.hostAttrs))}}(a)}function vp(n){return n===Un?{}:n===ie?[]:n}function _p(n,r){const o=n.viewQuery;n.viewQuery=o?(a,l)=>{r(a,l),o(a,l)}:r}function Iv(n,r){const o=n.contentQueries;n.contentQueries=o?(a,l,f)=>{r(a,l,f),o(a,l,f)}:r}function Ep(n,r){const o=n.hostBindings;n.hostBindings=o?(a,l)=>{r(a,l),o(a,l)}:r}let Lc=null;function ja(){if(!Lc){const n=ln.Symbol;if(n&&n.iterator)Lc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Lc=a)}}}return Lc}function $l(n){return!!$a(n)&&(Array.isArray(n)||!(n instanceof Map)&&ja()in n)}function $a(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ca(n,r,o){return n[r]=o}function eo(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Dp(n,r,o,a){const l=Dt();return eo(l,p(),r)&&(Wn(),Va(ar(),l,n,r,o,a)),Dp}function Fc(n,r,o,a){return eo(n,p(),o)?r+Ke(o)+a:ur}function tf(n,r,o,a,l,f,v,D){const R=Dt(),$=Wn(),z=n+20,se=$.firstCreatePass?function Tv(n,r,o,a,l,f,v,D,R){const $=r.consts,z=tl(r,n,4,v||null,nr($,D));Ad(r,o,z,nr($,R)),zs(r,z);const se=z.tViews=xh(2,z,a,l,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$);return null!==r.queries&&(r.queries.template(r,z),se.queries=r.queries.embeddedTView(z)),z}(z,$,R,r,o,a,l,f,v):$.data[z];us(se,!1);const Ae=R[11].createComment("");gh($,R,Ae,se),Ni(Ae,R),bu(R,R[z]=em(Ae,R,Ae,se)),di(se)&&Sh($,R,se),null!=v&&Ah(R,se,D)}function Hc(n,r=jt.Default){const o=Dt();return null===o?mn(n,r):B(qr(),o,Me(n),r)}function zm(){throw new Error("invalid")}function Gc(n,r,o){const a=Dt();return eo(a,p(),r)&&oa(Wn(),ar(),a,n,r,a[11],o,!1),Gc}function uf(n,r,o,a,l){const v=l?"class":"style";Bh(n,o,r.inputs[v],v,a)}function lf(n,r,o,a){const l=Dt(),f=Wn(),v=20+n,D=l[11],R=l[v]=gc(D,r,function la(){return hn.lFrame.currentNamespace}()),$=f.firstCreatePass?function Km(n,r,o,a,l,f,v){const D=r.consts,$=tl(r,n,2,l,nr(D,f));return Ad(r,o,$,nr(D,v)),null!==$.attrs&&Rc($,$.attrs,!1),null!==$.mergedAttrs&&Rc($,$.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,$),$}(v,f,l,0,r,o,a):f.data[v];us($,!0);const z=$.mergedAttrs;null!==z&&Ps(D,R,z);const se=$.classes;null!==se&&vh(D,R,se);const Ae=$.styles;return null!==Ae&&Ag(D,R,Ae),64!=(64&$.flags)&&gh(f,l,R,$),0===function Rs(){return hn.lFrame.elementDepthCount}()&&Ni(R,l),function bs(){hn.lFrame.elementDepthCount++}(),di($)&&(Sh(f,l,$),Hg(f,$,l)),null!==a&&Ah(l,$),lf}function zc(){let n=qr();so()?ua():(n=n.parent,us(n,!1));const r=n;!function wo(){hn.lFrame.elementDepthCount--}();const o=Wn();return o.firstCreatePass&&(zs(o,n),rs(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ts(n){return 0!=(16&n.flags)}(r)&&uf(o,r,Dt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Hi(n){return 0!=(32&n.flags)}(r)&&uf(o,r,Dt(),r.stylesWithoutHost,!1),zc}function Pp(n,r,o,a){return lf(n,r,o,a),zc(),Pp}function Op(n,r,o){const a=Dt(),l=Wn(),f=n+20,v=l.firstCreatePass?function Xi(n,r,o,a,l){const f=r.consts,v=nr(f,a),D=tl(r,n,8,"ng-container",v);return null!==v&&Rc(D,v,!0),Ad(r,o,D,nr(f,l)),null!==r.queries&&r.queries.elementStart(r,D),D}(f,l,a,r,o):l.data[f];us(v,!0);const D=a[f]=a[11].createComment("");return gh(l,a,D,v),Ni(D,a),di(v)&&(Sh(l,a,v),Hg(l,v,a)),null!=o&&Ah(a,v),Op}function Np(){let n=qr();const r=Wn();return so()?ua():(n=n.parent,us(n,!1)),r.firstCreatePass&&(zs(r,n),rs(n)&&r.queries.elementEnd(n)),Np}function kp(){return Dt()}function Lp(n){return!!n&&"function"==typeof n.then}function Wm(n){return!!n&&"function"==typeof n.subscribe}const Fp=Wm;function Up(n,r,o,a){const l=Dt(),f=Wn(),v=qr();return function Zm(n,r,o,a,l,f,v,D){const R=di(a),z=n.firstCreatePass&&rm(n),se=r[8],Ae=Fh(r);let qe=!0;if(3&a.type||D){const Zt=ft(a,r),_n=D?D(Zt):Zt,Rt=Ae.length,Vn=D?$r=>D(P($r[a.index])):a.index;if(Jn(o)){let $r=null;if(!D&&R&&($r=function Mv(n,r,o,a){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const v=l[f];if(v===o&&l[f+1]===a){const D=r[7],R=l[f+2];return D.length>R?D[R]:null}"string"==typeof v&&(f+=2)}return null}(n,r,l,a.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=f,$r.__ngLastListenerFn__=f,qe=!1;else{f=Bp(a,r,se,f,!1);const Ri=o.listen(_n,l,f);Ae.push(f,Ri),z&&z.push(l,Vn,Rt,Rt+1)}}else f=Bp(a,r,se,f,!0),_n.addEventListener(l,f,v),Ae.push(f),z&&z.push(l,Vn,Rt,v)}else f=Bp(a,r,se,f,!1);const It=a.outputs;let Gt;if(qe&&null!==It&&(Gt=It[l])){const Zt=Gt.length;if(Zt)for(let _n=0;_n<Zt;_n+=2){const za=r[Gt[_n]][Gt[_n+1]].subscribe(f),Qd=Ae.length;Ae.push(f,za),z&&z.push(l,a.index,Qd,-(Qd+1))}}}(f,l,l[11],v,n,r,!!o,a),Up}function Pv(n,r,o,a){try{return!1!==o(a)}catch(l){return im(n,l),!1}}function Bp(n,r,o,a,l){return function f(v){if(v===Function)return a;const D=2&n.flags?kn(n.index,r):r;0==(32&r[2])&&Od(D);let R=Pv(r,0,a,v),$=f.__ngNextListenerFn__;for(;$;)R=Pv(r,0,$,v)&&R,$=$.__ngNextListenerFn__;return l&&!1===R&&(v.preventDefault(),v.returnValue=!1),R}}function Ym(n=1){return function ii(n){return(hn.lFrame.contextLView=function Vr(n,r){for(;n>0;)r=r[15],n--;return r}(n,hn.lFrame.contextLView))[8]}(n)}function Qm(n,r){let o=null;const a=function Wy(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let l=0;l<r.length;l++){const f=r[l];if("*"!==f){if(null===a?$f(n,f,!0):_h(a,f))return l}else o=l}return o}function au(n){const r=Dt()[16][6];if(!r.projection){const a=r.projection=lo(n?n.length:1,null),l=a.slice();let f=r.child;for(;null!==f;){const v=n?Qm(f,n):0;null!==v&&(l[v]?l[v].projectionNext=f:a[v]=f,l[v]=f),f=f.next}}}function Ov(n,r=0,o){const a=Dt(),l=Wn(),f=tl(l,20+n,16,null,o||null);null===f.projection&&(f.projection=r),ua(),64!=(64&f.flags)&&function Vf(n,r,o){yh(r[11],0,r,o,Eg(n,o,r),Dg(o.parent||r[6],o,r))}(l,a,f)}function Sa(n,r,o){return Tu(n,"",r,"",o),Sa}function Tu(n,r,o,a,l){const f=Dt(),v=Fc(f,r,o,a);return v!==ur&&oa(Wn(),ar(),f,n,v,f[11],l,!1),Tu}function cf(n,r,o,a,l){const f=n[o+1],v=null===r;let D=a?mo(f):Ba(f),R=!1;for(;0!==D&&(!1===R||v);){const z=n[D+1];Nv(n[D],r)&&(R=!0,n[D+1]=a?Eh(z):Gf(z)),D=a?mo(z):Ba(z)}R&&(n[o+1]=a?Gf(f):Eh(f))}function Nv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ma(n,r)>=0}const $s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ny(n){return n.substring($s.key,$s.keyEnd)}function zp(n,r){const o=$s.textEnd;return o===r?-1:(r=$s.keyEnd=function qp(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,$s.key=r,o),hl(n,r,o))}function hl(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Kc(n,r){return function Ha(n,r,o,a){const l=Dt(),f=Wn(),v=g(2);f.firstUpdatePass&&qc(f,n,v,a),r!==ur&&eo(l,v,r)&&oy(f,f.data[Or()],l,l[11],n,l[v+1]=function Vv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Se(na(n)))),n}(r,o),a,v)}(n,r,null,!0),Kc}function Wc(n){!function Aa(n,r,o,a){const l=Wn(),f=g(2);l.firstUpdatePass&&qc(l,null,f,a);const v=Dt();if(o!==ur&&eo(v,f,o)){const D=l.data[Or()];if(uy(D,a)&&!Yp(l,f)){let R=a?D.classesWithoutHost:D.stylesWithoutHost;null!==R&&(o=Ce(R,o||"")),uf(l,D,v,o,a)}else!function sy(n,r,o,a,l,f,v,D){l===ur&&(l=ie);let R=0,$=0,z=0<l.length?l[0]:null,se=0<f.length?f[0]:null;for(;null!==z||null!==se;){const Ae=R<l.length?l[R+1]:void 0,qe=$<f.length?f[$+1]:void 0;let Gt,It=null;z===se?(R+=2,$+=2,Ae!==qe&&(It=se,Gt=qe)):null===se||null!==z&&z<se?(R+=2,It=z):($+=2,It=se,Gt=qe),null!==It&&oy(n,r,o,a,It,Gt,v,D),z=R<l.length?l[R]:null,se=$<f.length?f[$]:null}}(l,D,v,v[11],v[f+1],v[f+1]=function Bv(n,r,o){if(null==o||""===o)return ie;const a=[],l=na(o);if(Array.isArray(l))for(let f=0;f<l.length;f++)n(a,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&n(a,f,l[f]);else"string"==typeof l&&r(a,l);return a}(n,r,o),a,f)}}(Zs,yo,n,!0)}function yo(n,r){for(let o=function Gp(n){return function Wp(n){$s.key=0,$s.keyEnd=0,$s.value=0,$s.valueEnd=0,$s.textEnd=n.length}(n),zp(n,hl(n,0,$s.textEnd))}(r);o>=0;o=zp(r,o))Zs(n,ny(r),!0)}function Yp(n,r){return r>=n.expandoStartIndex}function qc(n,r,o,a){const l=n.data;if(null===l[o+1]){const f=l[Or()],v=Yp(n,o);uy(f,a)&&null===r&&!v&&(r=!1),r=function fl(n,r,o,a){const l=function Le(n){const r=hn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(o=Zc(o=Qp(null,n,r,o,a),r.attrs,a),f=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Qp(l,n,r,o,a),null===f){let R=function Lv(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Ba(a))return n[mo(a)]}(n,r,a);void 0!==R&&Array.isArray(R)&&(R=Qp(null,n,r,R[1],a),R=Zc(R,r.attrs,a),function Fv(n,r,o,a){n[mo(o?r.classBindings:r.styleBindings)]=a}(n,r,a,R))}else f=function Uv(n,r,o){let a;const l=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<l;f++)a=Zc(a,n[f].hostAttrs,o);return Zc(a,r.attrs,o)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),o}(l,f,r,a),function jd(n,r,o,a,l,f){let v=f?r.classBindings:r.styleBindings,D=mo(v),R=Ba(v);n[a]=o;let z,$=!1;if(Array.isArray(o)){const se=o;z=se[1],(null===z||Ma(se,z)>0)&&($=!0)}else z=o;if(l)if(0!==R){const Ae=mo(n[D+1]);n[a+1]=ru(Ae,D),0!==Ae&&(n[Ae+1]=wc(n[Ae+1],a)),n[D+1]=function Zy(n,r){return 131071&n|r<<17}(n[D+1],a)}else n[a+1]=ru(D,0),0!==D&&(n[D+1]=wc(n[D+1],a)),D=a;else n[a+1]=ru(R,0),0===D?D=a:n[R+1]=wc(n[R+1],a),R=a;$&&(n[a+1]=Gf(n[a+1])),cf(n,z,a,!0),cf(n,z,a,!1),function ty(n,r,o,a,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&Ma(f,r)>=0&&(o[a+1]=Eh(o[a+1]))}(r,z,n,a,f),v=ru(D,R),f?r.classBindings=v:r.styleBindings=v}(l,f,r,o,v,a)}}function Qp(n,r,o,a,l){let f=null;const v=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<v&&(f=r[D],a=Zc(a,f.hostAttrs,l),f!==n);)D++;return null!==n&&(o.directiveStylingLast=D),a}function Zc(n,r,o){const a=o?1:2;let l=-1;if(null!==r)for(let f=0;f<r.length;f++){const v=r[f];"number"==typeof v?l=v:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zs(n,v,!!o||r[++f]))}return void 0===n?null:n}function oy(n,r,o,a,l,f,v,D){if(!(3&r.type))return;const R=n.data,$=R[D+1];Hd(function Lg(n){return 1==(1&n)}($)?ay(R,r,o,l,Ba($),v):void 0)||(Hd(f)||function Hf(n){return 2==(2&n)}($)&&(f=ay(R,null,o,l,D,v)),function Sg(n,r,o,a,l){const f=Jn(n);if(r)l?f?n.addClass(o,a):o.classList.add(a):f?n.removeClass(o,a):o.classList.remove(a);else{let v=-1===a.indexOf("-")?void 0:Y.DashCase;if(null==l)f?n.removeStyle(o,a,v):o.style.removeProperty(a);else{const D="string"==typeof l&&l.endsWith("!important");D&&(l=l.slice(0,-10),v|=Y.Important),f?n.setStyle(o,a,l,v):o.style.setProperty(a,l,D?"important":"")}}}(a,v,it(Or(),o),l,f))}function ay(n,r,o,a,l,f){const v=null===r;let D;for(;l>0;){const R=n[l],$=Array.isArray(R),z=$?R[1]:R,se=null===z;let Ae=o[l+1];Ae===ur&&(Ae=se?ie:void 0);let qe=se?Ns(Ae,a):z===a?Ae:void 0;if($&&!Hd(qe)&&(qe=Ns(R,a)),Hd(qe)&&(D=qe,v))return D;const It=n[l+1];l=v?mo(It):Ba(It)}if(null!==r){let R=f?r.residualClasses:r.residualStyles;null!=R&&(D=Ns(R,a))}return D}function Hd(n){return void 0!==n}function uy(n,r){return 0!=(n.flags&(r?16:32))}function Jp(n,r=""){const o=Dt(),a=Wn(),l=n+20,f=a.firstCreatePass?tl(a,l,1,r,null):a.data[l],v=o[l]=function Fa(n,r){return Jn(n)?n.createText(r):n.createTextNode(r)}(o[11],r);gh(a,o,v,f),us(f,!1)}function ff(n){return Gd("",n,""),ff}function Gd(n,r,o){const a=Dt(),l=Fc(a,n,r,o);return l!==ur&&Ta(a,Or(),l),Gd}function mf(n,r,o){const a=Dt();return eo(a,p(),r)&&oa(Wn(),ar(),a,n,r,a[11],o,!0),mf}const Ga=void 0;var t_=["en",[["a","p"],["AM","PM"],Ga],[["AM","PM"],Ga,Ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ga,"{1} 'at' {0}",Ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ig(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Qc={};function Jc(n){const r=function Ko(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=og(r);if(o)return o;const a=r.split("-")[0];if(o=og(a),o)return o;if("en"===a)return t_;throw new Error(`Missing locale data for the locale "${n}".`)}function sg(n){return Jc(n)[En.PluralCase]}function og(n){return n in Qc||(Qc[n]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[n]),Qc[n]}var En=(()=>((En=En||{})[En.LocaleId=0]="LocaleId",En[En.DayPeriodsFormat=1]="DayPeriodsFormat",En[En.DayPeriodsStandalone=2]="DayPeriodsStandalone",En[En.DaysFormat=3]="DaysFormat",En[En.DaysStandalone=4]="DaysStandalone",En[En.MonthsFormat=5]="MonthsFormat",En[En.MonthsStandalone=6]="MonthsStandalone",En[En.Eras=7]="Eras",En[En.FirstDayOfWeek=8]="FirstDayOfWeek",En[En.WeekendRange=9]="WeekendRange",En[En.DateFormat=10]="DateFormat",En[En.TimeFormat=11]="TimeFormat",En[En.DateTimeFormat=12]="DateTimeFormat",En[En.NumberSymbols=13]="NumberSymbols",En[En.NumberFormats=14]="NumberFormats",En[En.CurrencyCode=15]="CurrencyCode",En[En.CurrencySymbol=16]="CurrencySymbol",En[En.CurrencyName=17]="CurrencyName",En[En.Currencies=18]="Currencies",En[En.Directionality=19]="Directionality",En[En.PluralCase=20]="PluralCase",En[En.ExtraData=21]="ExtraData",En))();const pl="en-US";let gl=pl;function c_(n,r,o,a,l){if(n=Me(n),Array.isArray(n))for(let f=0;f<n.length;f++)c_(n[f],r,o,a,l);else{const f=Wn(),v=Dt();let D=ol(n)?n:Me(n.provide),R=$h(n);const $=qr(),z=1048575&$.providerIndexes,se=$.directiveStart,Ae=$.providerIndexes>>20;if(ol(n)||!n.multi){const qe=new Ci(R,l,Hc),It=h_(D,r,l?z:z+Ae,se);-1===It?(w(zr($,v),f,D),d_(f,n,r.length),r.push(D),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(qe),v.push(qe)):(o[It]=qe,v[It]=qe)}else{const qe=h_(D,r,z+Ae,se),It=h_(D,r,z,z+Ae),Gt=qe>=0&&o[qe],Zt=It>=0&&o[It];if(l&&!Zt||!l&&!Gt){w(zr($,v),f,D);const _n=function hw(n,r,o,a,l){const f=new Ci(n,o,Hc);return f.multi=[],f.index=r,f.componentProviders=0,E0(f,l,a&&!o),f}(l?dw:cw,o.length,l,a,R);!l&&Zt&&(o[It].providerFactory=_n),d_(f,n,r.length,0),r.push(D),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(_n),v.push(_n)}else d_(f,n,qe>-1?qe:It,E0(o[l?It:qe],R,!l&&a));!l&&a&&Zt&&o[It].componentProviders++}}}function d_(n,r,o,a){const l=ol(r),f=function Oc(n){return!!n.useClass}(r);if(l||f){const R=(f?Me(r.useClass):r).prototype.ngOnDestroy;if(R){const $=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const z=$.indexOf(o);-1===z?$.push(o,[a,R]):$[z+1].push(a,R)}else $.push(o,R)}}}function E0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function h_(n,r,o,a){for(let l=o;l<a;l++)if(r[l]===n)return l;return-1}function cw(n,r,o,a){return f_(this.multi,[])}function dw(n,r,o,a){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=qn(o,o[1],this.providerFactory.index,a);f=D.slice(0,v),f_(l,f);for(let R=v;R<D.length;R++)f.push(D[R])}else f=[],f_(l,f);return f}function f_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function w0(n,r=[]){return o=>{o.providersResolver=(a,l)=>function lw(n,r,o){const a=Wn();if(a.firstCreatePass){const l=qi(n);c_(o,a.data,a.blueprint,l,!0),c_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class I0{}class gw{resolveComponentFactory(r){throw function pw(n){const r=Error(`No component factory found for ${Se(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ny=(()=>{class n{}return n.NULL=new gw,n})();function mw(){return Ef(qr(),Dt())}function Ef(n,r){return new cg(ft(n,r))}let cg=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=mw,n})();function yw(n){return n instanceof cg?n.nativeElement:n}class D0{}let vw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ew(){const n=Dt(),o=kn(qr().index,n);return function _w(n){return n[11]}(Sr(o)?o:n)}(),n})(),ww=(()=>{class n{}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:()=>null}),n})();class T0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const C0=new T0("13.3.8"),p_={};function ky(n,r,o,a,l=!1){for(;null!==o;){const f=r[o.index];if(null!==f&&a.push(P(f)),mi(f))for(let D=10;D<f.length;D++){const R=f[D],$=R[1].firstChild;null!==$&&ky(R[1],R,$,a)}const v=o.type;if(8&v)ky(n,r,o.child,a);else if(32&v){const D=dt(o,r);let R;for(;R=D();)a.push(R)}else if(16&v){const D=Uf(r,o);if(Array.isArray(D))a.push(...D);else{const R=On(r[16]);ky(R[1],R,D,a,!0)}}o=l?o.projectionNext:o.next}return a}class dg{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return ky(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(mi(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(mc(r,a),qa(o,a))}this._attachedToViewContainer=!1}Nf(this._lView[1],this._lView)}onDestroy(r){Vl(this._lView[1],this._lView,null,r)}markForCheck(){Od(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Nd(n,r,o){const a=r[10];a.begin&&a.begin();try{rl(n,r,n.template,o)}catch(l){throw im(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function go(n,r){Fl(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new at(902,"");this._appRef=r}}class Iw extends dg{constructor(r){super(r),this._view=r}detectChanges(){op(this._view)}checkNoChanges(){}get context(){return null}}class S0 extends Ny{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=ke(r);return new g_(o,this.ngModule)}}function A0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class g_ extends I0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function qy(n){return n.map(Bl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return A0(this.componentDef.inputs)}get outputs(){return A0(this.componentDef.outputs)}create(r,o,a,l){const f=(l=l||this.ngModule)?function Dw(n,r){return{get:(o,a,l)=>{const f=n.get(o,p_,l);return f!==p_||a===p_?f:r.get(o,a,l)}}}(r,l.injector):r,v=f.get(D0,O),D=f.get(ww,null),R=v.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",z=a?function Kg(n,r,o){if(Jn(n))return n.selectRootElement(r,o===ze.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(R,a,this.componentDef.encapsulation):gc(v.createRenderer(null,this.componentDef),$,function bw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}($)),se=this.componentDef.onPush?576:528,Ae=function Zh(n,r){return{components:[],scheduler:n||_s,clean:pv,playerHandler:r||null,flags:0}}(),qe=xh(0,null,null,1,0,null,null,null,null,null),It=Cc(null,qe,Ae,se,null,null,v,R,D,f);let Gt,Zt;an(It);try{const _n=function qh(n,r,o,a,l,f){const v=o[1];o[20]=n;const R=tl(v,20,2,"#host",null),$=R.mergedAttrs=r.hostAttrs;null!==$&&(Rc(R,$,!0),null!==n&&(Ps(l,n,$),null!==R.classes&&vh(l,n,R.classes),null!==R.styles&&Ag(l,n,R.styles)));const z=a.createRenderer(n,r),se=Cc(o,Rh(r),null,r.onPush?64:16,o[20],R,a,z,f||null,null);return v.firstCreatePass&&(w(zr(R,o),v,r.type),np(v,R),Jg(R,o.length,1)),bu(o,se),o[20]=se}(z,this.componentDef,It,v,R);if(z)if(a)Ps(R,z,["ng-version",C0.full]);else{const{attrs:Rt,classes:Vn}=function Og(n){const r=[],o=[];let a=1,l=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===l?""!==f&&r.push(f,n[++a]):8===l&&o.push(f);else{if(!va(l))break;l=f}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Rt&&Ps(R,z,Rt),Vn&&Vn.length>0&&vh(R,z,Vn.join(" "))}if(Zt=bn(qe,20),void 0!==o){const Rt=Zt.projection=[];for(let Vn=0;Vn<this.ngContentSelectors.length;Vn++){const $r=o[Vn];Rt.push(null!=$r?Array.from($r):null)}}Gt=function Em(n,r,o,a,l){const f=o[1],v=function Yg(n,r,o){const a=qr();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Xg(n,a,r,iu(n,r,1,null),o));const l=qn(r,n,a.directiveStart,a);Ni(l,r);const f=ft(a,r);return f&&Ni(f,r),l}(f,o,r);if(a.components.push(v),n[8]=v,l&&l.forEach(R=>R(v,r)),r.contentQueries){const R=qr();r.contentQueries(1,v,R.directiveStart)}const D=qr();return!f.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Ti(D.index),Rd(o[1],D,0,D.directiveStart,D.directiveEnd,r),kh(r,v)),v}(_n,this.componentDef,It,Ae,[wm]),nl(qe,It,null)}finally{hr()}return new Cw(this.componentType,Gt,Ef(Zt,It),It,Zt)}}class Cw extends class fw{}{constructor(r,o,a,l,f){super(),this.location=a,this._rootLView=l,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new Iw(l),this.componentType=r}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class wf{}class R0{}const If=new Map;class P0 extends wf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new S0(this);const a=yn(r);this._bootstrapComponents=y(a.bootstrap),this._r3Injector=lm(r,o,[{provide:wf,useValue:this},{provide:Ny,useValue:this.componentFactoryResolver}],Se(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=ou.THROW_IF_NOT_FOUND,a=jt.Default){return r===ou||r===wf||r===ap?this:this._r3Injector.get(r,o,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class m_ extends R0{constructor(r){super(),this.moduleType=r,null!==yn(r)&&function Aw(n){const r=new Set;!function o(a){const l=yn(a,!0),f=l.id;null!==f&&(function x0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${Se(r)} vs ${Se(r.name)}`)}(f,If.get(f),a),If.set(f,a));const v=y(l.imports);for(const D of v)r.has(D)||(r.add(D),o(D))}(n)}(r)}create(r){return new P0(this.moduleType,r)}}function hg(n,r){const o=n[r];return o===ur?void 0:o}function N0(n,r,o,a,l,f,v){const D=r+o;return function Hl(n,r,o,a){const l=eo(n,r,o);return eo(n,r+1,a)||l}(n,D,l,f)?Ca(n,D+2,v?a.call(v,l,f):a(l,f)):hg(n,D+2)}function U0(n,r){const o=Wn();let a;const l=n+20;o.firstCreatePass?(a=function Bw(n,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(n===a.name)return a}}(r,o.pipeRegistry),o.data[l]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(l,a.onDestroy)):a=o.data[l];const f=a.factory||(a.factory=hi(a.type)),v=lr(Hc);try{const D=_i(!1),R=f();return _i(D),function Sm(n,r,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=a}(o,Dt(),l,R),R}finally{lr(v)}}function B0(n,r,o){const a=n+20,l=Dt(),f=Yn(l,a);return fg(l,a)?function O0(n,r,o,a,l,f){const v=r+o;return eo(n,v,l)?Ca(n,v+1,f?a.call(f,l):a(l)):hg(n,v+1)}(l,N(),r,f.transform,o,f):f.transform(o)}function V0(n,r,o,a){const l=n+20,f=Dt(),v=Yn(f,l);return fg(f,l)?N0(f,N(),r,v.transform,o,a,v):v.transform(o,a)}function fg(n,r){return n[1].data[r].pure}function y_(n){return r=>{setTimeout(n,void 0,r)}}const ml=class Hw extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){var l,f,v;let D=r,R=o||(()=>null),$=a;if(r&&"object"==typeof r){const se=r;D=null===(l=se.next)||void 0===l?void 0:l.bind(se),R=null===(f=se.error)||void 0===f?void 0:f.bind(se),$=null===(v=se.complete)||void 0===v?void 0:v.bind(se)}this.__isAsync&&(R=y_(R),D&&(D=y_(D)),$&&($=y_($)));const z=super.subscribe({next:D,error:R,complete:$});return r instanceof K.w0&&r.add(z),z}};function Gw(){return this._results[ja()]()}class v_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ja(),a=v_.prototype;a[o]||(a[o]=Gw)}get changes(){return this._changes||(this._changes=new ml)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const l=Qe(r);(this._changesDetected=!function yl(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],f=r[a];if(o&&(l=o(l),f=o(f)),f!==l)return!1}return!0}(a._results,l,o))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ww,n})();const zw=pg,Kw=class extends zw{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r){const o=this._declarationTContainer.tViews,a=Cc(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(o)),nl(o,a,r),new dg(a)}};function Ww(){return Ly(qr(),Dt())}function Ly(n,r){return 4&n.type?new Kw(r,n,Ef(n,r)):null}let Fy=(()=>{class n{}return n.__NG_ELEMENT_ID__=qw,n})();function qw(){return H0(qr(),Dt())}const Zw=Fy,j0=class extends Zw{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Ef(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const r=b(this._hostTNode,this._hostLView);if(ca(r)){const o=Qo(r,this._hostLView),a=Yo(r);return new cs(o[1].data[a+8],o)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=$0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){const l=r.createEmbeddedView(o||{});return this.insert(l,a),l}createComponent(r,o,a,l,f){const v=r&&!function lu(n){return"function"==typeof n}(r);let D;if(v)D=o;else{const se=o||{};D=se.index,a=se.injector,l=se.projectableNodes,f=se.ngModuleRef}const R=v?r:new g_(ke(r)),$=a||this.parentInjector;if(!f&&null==R.ngModule){const Ae=(v?$:this.parentInjector).get(wf,null);Ae&&(f=Ae)}const z=R.create($,l,void 0,f);return this.insert(z.hostView,D),z}insert(r,o){const a=r._lView,l=a[1];if(function tr(n){return mi(n[3])}(a)){const z=this.indexOf(r);if(-1!==z)this.detach(z);else{const se=a[3],Ae=new j0(se,se[6],se[3]);Ae.detach(Ae.indexOf(r))}}const f=this._adjustIndex(o),v=this._lContainer;!function fh(n,r,o,a){const l=10+a,f=o.length;a>0&&(o[l-1][4]=r),a<f-10?(r[4]=o[l],qs(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const v=r[17];null!==v&&o!==v&&function nu(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(v,r);const D=r[19];null!==D&&D.insertView(n),r[2]|=128}(l,a,v,f);const D=Bf(f,v),R=a[11],$=ph(R,v[7]);return null!==$&&function _d(n,r,o,a,l,f){a[0]=l,a[6]=r,Fl(n,a,o,1,l,f)}(l,v[6],R,a,$,D),r.attachToViewContainerRef(),qs(__(v),f,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=$0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=mc(this._lContainer,o);a&&(qa(__(this._lContainer),o),Nf(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=mc(this._lContainer,o);return a&&null!=qa(__(this._lContainer),o)?new dg(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function $0(n){return n[8]}function __(n){return n[8]||(n[8]=[])}function H0(n,r){let o;const a=r[n.index];if(mi(a))o=a;else{let l;if(8&n.type)l=P(a);else{const f=r[11];l=f.createComment("");const v=ft(n,r);Ll(f,ph(f,v),l,function Ky(n,r){return Jn(n)?n.nextSibling(r):r.nextSibling}(f,v),!1)}r[n.index]=o=em(a,r,l,n),bu(r,o)}return new j0(o,n,r)}class E_{constructor(r){this.queryList=r,this.matches=null}clone(){return new E_(this.queryList)}setDirty(){this.queryList.setDirty()}}class w_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let f=0;f<a;f++){const v=o.getByIndex(f);l.push(this.queries[v.indexInDeclarationView].clone())}return new w_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==J0(r,o).matches&&this.queries[o].setDirty()}}class G0{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class I_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const l=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(r,l);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new I_(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class b_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new b_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const f=a[l];this.matchTNodeWithReadOption(r,o,Jw(o,f)),this.matchTNodeWithReadOption(r,o,Xt(o,r,f,!1,!1))}else a===pg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Xt(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===cg||l===Fy||l===pg&&4&o.type)this.addMatch(o.index,-2);else{const f=Xt(o,r,l,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Jw(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function eI(n,r,o,a){return-1===o?function Xw(n,r){return 11&n.type?Ef(n,r):4&n.type?Ly(n,r):null}(r,n):-2===o?function tI(n,r,o){return o===cg?Ef(r,n):o===pg?Ly(r,n):o===Fy?H0(r,n):void 0}(n,r,a):qn(n,n[1],o,r)}function z0(n,r,o,a){const l=r[19].queries[a];if(null===l.matches){const f=n.data,v=o.matches,D=[];for(let R=0;R<v.length;R+=2){const $=v[R];D.push($<0?null:eI(r,f[$],v[R+1],o.metadata.read))}l.matches=D}return l.matches}function D_(n,r,o,a){const l=n.queries.getByIndex(o),f=l.matches;if(null!==f){const v=z0(n,r,l,o);for(let D=0;D<f.length;D+=2){const R=f[D];if(R>0)a.push(v[D/2]);else{const $=f[D+1],z=r[-R];for(let se=10;se<z.length;se++){const Ae=z[se];Ae[17]===Ae[3]&&D_(Ae[1],Ae,$,a)}if(null!==z[9]){const se=z[9];for(let Ae=0;Ae<se.length;Ae++){const qe=se[Ae];D_(qe[1],qe,$,a)}}}}}return a}function K0(n){const r=Dt(),o=Wn(),a=nt();Lt(a+1);const l=J0(o,a);if(n.dirty&&jn(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?D_(o,r,a,[]):z0(o,r,l,a);n.reset(f,yw),n.notifyOnChanges()}return!0}return!1}function W0(n,r,o){const a=Wn();a.firstCreatePass&&(Q0(a,new G0(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),Y0(a,Dt(),r)}function q0(n,r,o,a){const l=Wn();if(l.firstCreatePass){const f=qr();Q0(l,new G0(r,o,a),f.index),function rI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}Y0(l,Dt(),o)}function Z0(){return function nI(n,r){return n[19].queries[r].queryList}(Dt(),nt())}function Y0(n,r,o){const a=new v_(4==(4&o));Vl(n,r,a,a.destroy),null===r[19]&&(r[19]=new w_),r[19].queries.push(new E_(a))}function Q0(n,r,o){null===n.queries&&(n.queries=new I_),n.queries.track(new b_(r,o))}function J0(n,r){return n.queries.getByIndex(r)}function Vy(...n){}const gE=new rr("Application Initializer");let x_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Vy,this.reject=Vy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(Lp(f))o.push(f);else if(Fp(f)){const v=new Promise((D,R)=>{f.subscribe({complete:D,error:R})});o.push(v)}}Promise.all(o).then(()=>{a()}).catch(l=>{this.reject(l)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(mn(gE,8))},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mE=new rr("AppId",{providedIn:"root",factory:function yE(){return`${M_()}${M_()}${M_()}`}});function M_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vE=new rr("Platform Initializer"),wI=new rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_E=new rr("appBootstrapListener");let II=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const P_=new rr("LocaleId",{providedIn:"root",factory:()=>Tr(P_,jt.Optional|jt.SkipSelf)||function bI(){return"undefined"!=typeof $localize&&$localize.locale||pl}()}),DI=new rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TI{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let CI=(()=>{class n{compileModuleSync(o){return new m_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=y(yn(o).declarations).reduce((v,D)=>{const R=ke(D);return R&&v.push(new g_(R)),v},[]);return new TI(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AI=(()=>Promise.resolve(0))();function O_(n){"undefined"==typeof Zone?AI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ru{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function RI(){let n=ln.requestAnimationFrame,r=ln.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function PI(n){const r=()=>{!function MI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ln,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,k_(n),n.isCheckStableRunning=!0,N_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),k_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,l,f,v,D)=>{try{return EE(n),o.invokeTask(l,f,v,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),wE(n)}},onInvoke:(o,a,l,f,v,D,R)=>{try{return EE(n),o.invoke(l,f,v,D,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),wE(n)}},onHasTask:(o,a,l,f)=>{o.hasTask(l,f),a===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,k_(n),N_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,l,f)=>(o.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,l){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+l,r,xI,Vy,Vy);try{return f.runTask(v,o,a)}finally{f.cancelTask(v)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const xI={};function N_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function k_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wE(n){n._nesting--,N_(n)}class OI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ml,this.onMicrotaskEmpty=new ml,this.onStable=new ml,this.onError=new ml}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,l){return r.apply(o,a)}}let IE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),O_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())O_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,l){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:l})}whenStable(o,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,a,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(mn(Ru))},n.\u0275prov=Ut({token:n,factory:n.\u0275fac}),n})(),NI=(()=>{class n{constructor(){this._applications=new Map,L_.addToWindow(this)}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return L_.findTestabilityInTree(this,o,a)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class kI{addToWindow(r){}findTestabilityInTree(r,o,a){return null}}function LI(n){L_=n}let L_=new kI,Zd=null;const bE=new rr("AllowMultipleToken"),DE=new rr("PlatformOnDestroy");class BI{constructor(r,o){this.name=r,this.token=o}}function TE(n,r,o=[]){const a=`Platform: ${r}`,l=new rr(a);return(f=[])=>{let v=F_();if(!v||v.injector.get(bE,!1)){const D=[...o,...f,{provide:l,useValue:!0}];n?n(D):function VI(n){if(Zd&&!Zd.get(bE,!1))throw new at(400,"");Zd=n;const r=n.get(CE),o=n.get(vE,null);o&&o.forEach(a=>a())}(function $I(n=[],r){return ou.create({name:r,providers:[{provide:Vh,useValue:"platform"},{provide:DE,useValue:()=>Zd=null},...n]})}(D,a))}return function jI(n){const r=F_();if(!r)throw new at(401,"");return r}()}}function F_(){var n;return null!==(n=null==Zd?void 0:Zd.get(CE))&&void 0!==n?n:null}let CE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const D=function HI(n,r){let o;return o="noop"===n?new OI:("zone.js"===n?void 0:n)||new Ru({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),R=[{provide:Ru,useValue:D}];return D.run(()=>{const $=ou.create({providers:R,parent:this.injector,name:o.moduleType.name}),z=o.create($),se=z.injector.get(Ol,null);if(!se)throw new at(402,"");return D.runOutsideAngular(()=>{const Ae=D.onError.subscribe({next:qe=>{se.handleError(qe)}});z.onDestroy(()=>{B_(this._modules,z),Ae.unsubscribe()})}),function GI(n,r,o){try{const a=o();return Lp(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(se,D,()=>{const Ae=z.injector.get(x_);return Ae.runInitializers(),Ae.donePromise.then(()=>(function ag(n){At(n,"Expected localeId to be defined"),"string"==typeof n&&(gl=n.toLowerCase().replace(/_/g,"-"))}(z.injector.get(P_,pl)||pl),this._moduleDoBootstrap(z),z))})})}bootstrapModule(o,a=[]){const l=SE({},a);return function FI(n,r,o){const a=new m_(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(o){const a=o.injector.get(U_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new at(403,"");o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new at(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(DE,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(mn(ou))},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function SE(n,r){return Array.isArray(r)?r.reduce(SE,n):Object.assign(Object.assign({},n),r)}let U_=(()=>{class n{constructor(o,a,l,f){this._zone=o,this._injector=a,this._exceptionHandler=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new W.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),D=new W.y(R=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),O_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{$.unsubscribe(),z.unsubscribe()}});this.isStable=(0,ce.T)(v,D.pipe((0,ye.B)()))}bootstrap(o,a){if(!this._initStatus.done)throw new at(405,"");let l;l=o instanceof I0?o:this._injector.get(Ny).resolveComponentFactory(o),this.componentTypes.push(l.componentType);const f=function UI(n){return n.isBoundToModule}(l)?void 0:this._injector.get(wf),D=l.create(ou.NULL,[],a||l.selector,f),R=D.location.nativeElement,$=D.injector.get(IE,null),z=$&&D.injector.get(NI);return $&&z&&z.registerApplication(R,$),D.onDestroy(()=>{this.detachView(D.hostView),B_(this.components,D),z&&z.unregisterApplication(R)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new at(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;B_(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(_E,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(mn(Ru),mn(ou),mn(Ol),mn(x_))},n.\u0275prov=Ut({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B_(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let RE=!0,xE=!1;function KI(){return xE=!0,RE}function WI(){if(xE)throw new Error("Cannot enable prod mode after platform setup.");RE=!1}let qI=(()=>{class n{}return n.__NG_ELEMENT_ID__=ZI,n})();function ZI(n){return function YI(n,r,o){if(ws(n)&&!o){const a=kn(n.index,r);return new dg(a,a)}return 47&n.type?new dg(r[16],r):null}(qr(),Dt(),16==(16&n))}class NE{constructor(){}supports(r){return $l(r)}create(r){return new nb(r)}}const tb=(n,r)=>r;class nb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||tb}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,l=0,f=null;for(;o||a;){const v=!a||o&&o.currentIndex<LE(a,l,f)?o:a,D=LE(v,l,f),R=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{f||(f=[]);const $=D-l,z=R-l;if($!=z){for(let Ae=0;Ae<$;Ae++){const qe=Ae<f.length?f[Ae]:f[Ae]=0,It=qe+Ae;z<=It&&It<$&&(f[Ae]=qe+1)}f[v.previousIndex]=z-$}}D!==R&&r(v,D,R)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!$l(r))throw new at(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,f,v,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)f=r[D],v=this._trackByFn(D,f),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,f,v,D)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,v,D),a=!0),o=o._next}else l=0,function bp(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[ja()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,D=>{v=this._trackByFn(l,D),null!==o&&Object.is(o.trackById,v)?(a&&(o=this._verifyReinsertion(o,D,v,l)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,v,l),a=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,l){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,f,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,f,l)):r=this._addAfter(new rb(o,a),f,l),r}_verifyReinsertion(r,o,a,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,f=r._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new kE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class rb{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ib{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class kE{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new ib,this.map.set(o,a)),a.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LE(n,r,o){const a=n.previousIndex;if(null===a)return a;let l=0;return o&&a<o.length&&(l=o[a]),a+r+l}class FE{constructor(){}supports(r){return r instanceof Map||$a(r)}create(){return new sb}}class sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||$a(r)))throw new at(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(l,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const f=l._prev,v=l._next;return f&&(f._next=v),v&&(v._prev=f),l._next=null,l._prev=null,l}const a=new ob(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class ob{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UE(){return new G_([new NE])}let G_=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const l=a.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||UE()),deps:[[n,new Go,new ba]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(null!=a)return a;throw new at(901,"")}}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:UE}),n})();function BE(){return new z_([new FE])}let z_=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const l=a.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||BE()),deps:[[n,new Go,new ba]]}}find(o){const a=this.factories.find(f=>f.supports(o));if(a)return a;throw new at(901,"")}}return n.\u0275prov=Ut({token:n,providedIn:"root",factory:BE}),n})();const lb=TE(null,"core",[]);let cb=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(mn(U_))},n.\u0275mod=mr({type:n}),n.\u0275inj=rn({}),n})()},6360:(Ft,je,L)=>{L.d(je,{Qb:()=>Zo,PW:()=>N});var _=L(5e3),K=L(2313),W=L(1777);const ce=!1;function Te(S){return new _.vHH(3e3,ce)}function xn(){return"undefined"!=typeof window&&void 0!==window.document}function rn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function on(S){switch(S.length){case 0:return new W.ZN;case 1:return S[0];default:return new W.ZE(S)}}function Gn(S,p,g,C,V={},q={}){const le=[],de=[];let Le=-1,nt=null;if(C.forEach(Lt=>{const Ht=Lt.offset,cn=Ht==Le,an=cn&&nt||{};Object.keys(Lt).forEach(qt=>{let vn=qt,Ln=Lt[qt];if("offset"!==qt)switch(vn=p.normalizePropertyName(vn,le),Ln){case W.k1:Ln=V[qt];break;case W.l3:Ln=q[qt];break;default:Ln=p.normalizeStyleValue(qt,vn,Ln,le)}an[vn]=Ln}),cn||de.push(an),nt=an,Le=Ht}),le.length)throw function Ne(S){return new _.vHH(3502,ce)}();return de}function Bn(S,p,g,C){switch(p){case"start":S.onStart(()=>C(g&&$n(g,"start",S)));break;case"done":S.onDone(()=>C(g&&$n(g,"done",S)));break;case"destroy":S.onDestroy(()=>C(g&&$n(g,"destroy",S)))}}function $n(S,p,g){const C=g.totalTime,q=Nn(S.element,S.triggerName,S.fromState,S.toState,p||S.phaseName,null==C?S.totalTime:C,!!g.disabled),le=S._data;return null!=le&&(q._data=le),q}function Nn(S,p,g,C,V="",q=0,le){return{element:S,triggerName:p,fromState:g,toState:C,phaseName:V,totalTime:q,disabled:!!le}}function Kn(S,p,g){let C;return S instanceof Map?(C=S.get(p),C||S.set(p,C=g)):(C=S[p],C||(C=S[p]=g)),C}function Qn(S){const p=S.indexOf(":");return[S.substring(1,p),S.substr(p+1)]}let Cn=(S,p)=>!1,Mn=(S,p,g)=>[],jt=null;function Fr(S){const p=S.parentNode||S.host;return p===jt?null:p}(rn()||"undefined"!=typeof Element)&&(xn()?(jt=(()=>document.documentElement)(),Cn=(S,p)=>{for(;p;){if(p===S)return!0;p=Fr(p)}return!1}):Cn=(S,p)=>S.contains(p),Mn=(S,p,g)=>{if(g)return Array.from(S.querySelectorAll(p));const C=S.querySelector(p);return C?[C]:[]});let Kr=null,ti=!1;function ct(S){Kr||(Kr=function we(){return"undefined"!=typeof document?document.body:null}()||{},ti=!!Kr.style&&"WebkitAppearance"in Kr.style);let p=!0;return Kr.style&&!function lr(S){return"ebkit"==S.substring(1,6)}(S)&&(p=S in Kr.style,!p&&ti&&(p="Webkit"+S.charAt(0).toUpperCase()+S.substr(1)in Kr.style)),p}const xe=Cn,_t=Mn;let mt=(()=>{class S{validateStyleProperty(g){return ct(g)}matchesElement(g,C){return!1}containsElement(g,C){return xe(g,C)}getParentElement(g){return Fr(g)}query(g,C,V){return _t(g,C,V)}computeStyle(g,C,V){return V||""}animate(g,C,V,q,le,de=[],Le){return new W.ZN(V,q)}}return S.\u0275fac=function(g){return new(g||S)},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})(),Nt=(()=>{class S{}return S.NOOP=new mt,S})();const Nr="ng-enter",cr="ng-leave",Un="ng-trigger",ie=".ng-trigger",me="ng-animating",Ie=".ng-animating";function lt(S){if("number"==typeof S)return S;const p=S.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:fe(parseFloat(p[1]),p[2])}function fe(S,p){return"s"===p?1e3*S:S}function Be(S,p,g){return S.hasOwnProperty("duration")?S:function ot(S,p,g){let V,q=0,le="";if("string"==typeof S){const de=S.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return p.push(Te()),{duration:0,delay:0,easing:""};V=fe(parseFloat(de[1]),de[2]);const Le=de[3];null!=Le&&(q=fe(parseFloat(Le),de[4]));const nt=de[5];nt&&(le=nt)}else V=S;if(!g){let de=!1,Le=p.length;V<0&&(p.push(function Re(){return new _.vHH(3100,ce)}()),de=!0),q<0&&(p.push(function Se(){return new _.vHH(3101,ce)}()),de=!0),de&&p.splice(Le,0,Te())}return{duration:V,delay:q,easing:le}}(S,p,g)}function Bt(S,p={}){return Object.keys(S).forEach(g=>{p[g]=S[g]}),p}function Yt(S,p,g={}){if(p)for(let C in S)g[C]=S[C];else Bt(S,g);return g}function gr(S,p,g){return g?p+":"+g+";":""}function gn(S){let p="";for(let g=0;g<S.style.length;g++){const C=S.style.item(g);p+=gr(0,C,S.style.getPropertyValue(C))}for(const g in S.style)S.style.hasOwnProperty(g)&&!g.startsWith("_")&&(p+=gr(0,Pn(g),S.style[g]));S.setAttribute("style",p)}function Zn(S,p,g){S.style&&(Object.keys(p).forEach(C=>{const V=yn(C);g&&!g.hasOwnProperty(C)&&(g[C]=S.style[V]),S.style[V]=p[C]}),rn()&&gn(S))}function mr(S,p){S.style&&(Object.keys(p).forEach(g=>{const C=yn(g);S.style[C]=""}),rn()&&gn(S))}function gi(S){return Array.isArray(S)?1==S.length?S[0]:(0,W.vP)(S):S}const Ee=new RegExp("{{\\s*(.+?)\\s*}}","g");function ne(S){let p=[];if("string"==typeof S){let g;for(;g=Ee.exec(S);)p.push(g[1]);Ee.lastIndex=0}return p}function ke(S,p,g){const C=S.toString(),V=C.replace(Ee,(q,le)=>{let de=p[le];return p.hasOwnProperty(le)||(g.push(function ae(S){return new _.vHH(3003,ce)}()),de=""),de.toString()});return V==C?S:V}function pt(S){const p=[];let g=S.next();for(;!g.done;)p.push(g.value),g=S.next();return p}const en=/-+([a-z0-9])/g;function yn(S){return S.replace(en,(...p)=>p[1].toUpperCase())}function Pn(S){return S.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vr(S,p,g){switch(p.type){case 7:return S.visitTrigger(p,g);case 0:return S.visitState(p,g);case 1:return S.visitTransition(p,g);case 2:return S.visitSequence(p,g);case 3:return S.visitGroup(p,g);case 4:return S.visitAnimate(p,g);case 5:return S.visitKeyframes(p,g);case 6:return S.visitStyle(p,g);case 8:return S.visitReference(p,g);case 9:return S.visitAnimateChild(p,g);case 10:return S.visitAnimateRef(p,g);case 11:return S.visitQuery(p,g);case 12:return S.visitStagger(p,g);default:throw function oe(S){return new _.vHH(3004,ce)}()}}function ai(S,p){return window.getComputedStyle(S)[p]}function sr(S,p){const g=[];return"string"==typeof S?S.split(/\s*,\s*/).forEach(C=>function Gr(S,p,g){if(":"==S[0]){const Le=function dr(S,p){switch(S){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(g,C)=>parseFloat(C)>parseFloat(g);case":decrement":return(g,C)=>parseFloat(C)<parseFloat(g);default:return p.push(function X(S){return new _.vHH(3016,ce)}()),"* => *"}}(S,g);if("function"==typeof Le)return void p.push(Le);S=Le}const C=S.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==C||C.length<4)return g.push(function vt(S){return new _.vHH(3015,ce)}()),p;const V=C[1],q=C[2],le=C[3];p.push(In(V,le));"<"==q[0]&&!("*"==V&&"*"==le)&&p.push(In(le,V))}(C,g,p)):g.push(S),g}const ui=new Set(["true","1"]),Cr=new Set(["false","0"]);function In(S,p){const g=ui.has(S)||Cr.has(S),C=ui.has(p)||Cr.has(p);return(V,q)=>{let le="*"==S||S==V,de="*"==p||p==q;return!le&&g&&"boolean"==typeof V&&(le=V?ui.has(S):Cr.has(S)),!de&&C&&"boolean"==typeof q&&(de=q?ui.has(p):Cr.has(p)),le&&de}}const ns=new RegExp("s*:selfs*,?","g");function Es(S,p,g,C){return new Ur(S).build(p,g,C)}class Ur{constructor(p){this._driver=p}build(p,g,C){const V=new Qr(g);this._resetContextStyleTimingState(V);const q=vr(this,gi(p),V);return V.unsupportedCSSPropertiesFound.size&&V.unsupportedCSSPropertiesFound.keys(),q}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles={},p.collectedStyles[""]={},p.currentTime=0}visitTrigger(p,g){let C=g.queryCount=0,V=g.depCount=0;const q=[],le=[];return"@"==p.name.charAt(0)&&g.errors.push(function Tt(){return new _.vHH(3006,ce)}()),p.definitions.forEach(de=>{if(this._resetContextStyleTimingState(g),0==de.type){const Le=de,nt=Le.name;nt.toString().split(/\s*,\s*/).forEach(Lt=>{Le.name=Lt,q.push(this.visitState(Le,g))}),Le.name=nt}else if(1==de.type){const Le=this.visitTransition(de,g);C+=Le.queryCount,V+=Le.depCount,le.push(Le)}else g.errors.push(function Xe(){return new _.vHH(3007,ce)}())}),{type:7,name:p.name,states:q,transitions:le,queryCount:C,depCount:V,options:null}}visitState(p,g){const C=this.visitStyle(p.styles,g),V=p.options&&p.options.params||null;if(C.containsDynamicStyles){const q=new Set,le=V||{};C.styles.forEach(de=>{if(Ui(de)){const Le=de;Object.keys(Le).forEach(nt=>{ne(Le[nt]).forEach(Lt=>{le.hasOwnProperty(Lt)||q.add(Lt)})})}}),q.size&&(pt(q.values()),g.errors.push(function at(S,p){return new _.vHH(3008,ce)}()))}return{type:0,name:p.name,style:C,options:V?{params:V}:null}}visitTransition(p,g){g.queryCount=0,g.depCount=0;const C=vr(this,gi(p.animation),g);return{type:1,matchers:sr(p.expr,g.errors),animation:C,queryCount:g.queryCount,depCount:g.depCount,options:Sr(p.options)}}visitSequence(p,g){return{type:2,steps:p.steps.map(C=>vr(this,C,g)),options:Sr(p.options)}}visitGroup(p,g){const C=g.currentTime;let V=0;const q=p.steps.map(le=>{g.currentTime=C;const de=vr(this,le,g);return V=Math.max(V,g.currentTime),de});return g.currentTime=V,{type:3,steps:q,options:Sr(p.options)}}visitAnimate(p,g){const C=function xi(S,p){if(S.hasOwnProperty("duration"))return S;if("number"==typeof S)return mi(Be(S,p).duration,0,"");const g=S;if(g.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=mi(0,0,"");return q.dynamic=!0,q.strValue=g,q}const V=Be(g,p);return mi(V.duration,V.delay,V.easing)}(p.timings,g.errors);g.currentAnimateTimings=C;let V,q=p.styles?p.styles:(0,W.oB)({});if(5==q.type)V=this.visitKeyframes(q,g);else{let le=p.styles,de=!1;if(!le){de=!0;const nt={};C.easing&&(nt.easing=C.easing),le=(0,W.oB)(nt)}g.currentTime+=C.duration+C.delay;const Le=this.visitStyle(le,g);Le.isEmptyStep=de,V=Le}return g.currentAnimateTimings=null,{type:4,timings:C,style:V,options:null}}visitStyle(p,g){const C=this._makeStyleAst(p,g);return this._validateStyleAst(C,g),C}_makeStyleAst(p,g){const C=[];Array.isArray(p.styles)?p.styles.forEach(le=>{"string"==typeof le?le==W.l3?C.push(le):g.errors.push(function Ct(S){return new _.vHH(3002,ce)}()):C.push(le)}):C.push(p.styles);let V=!1,q=null;return C.forEach(le=>{if(Ui(le)){const de=le,Le=de.easing;if(Le&&(q=Le,delete de.easing),!V)for(let nt in de)if(de[nt].toString().indexOf("{{")>=0){V=!0;break}}}),{type:6,styles:C,easing:q,offset:p.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(p,g){const C=g.currentAnimateTimings;let V=g.currentTime,q=g.currentTime;C&&q>0&&(q-=C.duration+C.delay),p.styles.forEach(le=>{"string"!=typeof le&&Object.keys(le).forEach(de=>{if(!this._driver.validateStyleProperty(de))return delete le[de],void g.unsupportedCSSPropertiesFound.add(de);const Le=g.collectedStyles[g.currentQuerySelector],nt=Le[de];let Lt=!0;nt&&(q!=V&&q>=nt.startTime&&V<=nt.endTime&&(g.errors.push(function st(S,p,g,C,V){return new _.vHH(3010,ce)}()),Lt=!1),q=nt.startTime),Lt&&(Le[de]={startTime:q,endTime:V}),g.options&&function We(S,p,g){const C=p.params||{},V=ne(S);V.length&&V.forEach(q=>{C.hasOwnProperty(q)||g.push(function Ce(S){return new _.vHH(3001,ce)}())})}(le[de],g.options,g.errors)})})}visitKeyframes(p,g){const C={type:5,styles:[],options:null};if(!g.currentAnimateTimings)return g.errors.push(function be(){return new _.vHH(3011,ce)}()),C;let q=0;const le=[];let de=!1,Le=!1,nt=0;const Lt=p.steps.map(zn=>{const hr=this._makeStyleAst(zn,g);let ii=null!=hr.offset?hr.offset:function er(S){if("string"==typeof S)return null;let p=null;if(Array.isArray(S))S.forEach(g=>{if(Ui(g)&&g.hasOwnProperty("offset")){const C=g;p=parseFloat(C.offset),delete C.offset}});else if(Ui(S)&&S.hasOwnProperty("offset")){const g=S;p=parseFloat(g.offset),delete g.offset}return p}(hr.styles),Vr=0;return null!=ii&&(q++,Vr=hr.offset=ii),Le=Le||Vr<0||Vr>1,de=de||Vr<nt,nt=Vr,le.push(Vr),hr});Le&&g.errors.push(function ut(){return new _.vHH(3012,ce)}()),de&&g.errors.push(function $e(){return new _.vHH(3200,ce)}());const Ht=p.steps.length;let cn=0;q>0&&q<Ht?g.errors.push(function ve(){return new _.vHH(3202,ce)}()):0==q&&(cn=1/(Ht-1));const an=Ht-1,qt=g.currentTime,vn=g.currentAnimateTimings,Ln=vn.duration;return Lt.forEach((zn,hr)=>{const ii=cn>0?hr==an?1:cn*hr:le[hr],Vr=ii*Ln;g.currentTime=qt+vn.delay+Vr,vn.duration=Vr,this._validateStyleAst(zn,g),zn.offset=ii,C.styles.push(zn)}),C}visitReference(p,g){return{type:8,animation:vr(this,gi(p.animation),g),options:Sr(p.options)}}visitAnimateChild(p,g){return g.depCount++,{type:9,options:Sr(p.options)}}visitAnimateRef(p,g){return{type:10,animation:this.visitReference(p.animation,g),options:Sr(p.options)}}visitQuery(p,g){const C=g.currentQuerySelector,V=p.options||{};g.queryCount++,g.currentQuery=p;const[q,le]=function Yr(S){const p=!!S.split(/\s*,\s*/).find(g=>":self"==g);return p&&(S=S.replace(ns,"")),S=S.replace(/@\*/g,ie).replace(/@\w+/g,g=>ie+"-"+g.substr(1)).replace(/:animating/g,Ie),[S,p]}(p.selector);g.currentQuerySelector=C.length?C+" "+q:q,Kn(g.collectedStyles,g.currentQuerySelector,{});const de=vr(this,gi(p.animation),g);return g.currentQuery=null,g.currentQuerySelector=C,{type:11,selector:q,limit:V.limit||0,optional:!!V.optional,includeSelf:le,animation:de,originalSelector:p.selector,options:Sr(p.options)}}visitStagger(p,g){g.currentQuery||g.errors.push(function Ue(){return new _.vHH(3013,ce)}());const C="full"===p.timings?{duration:0,delay:0,easing:"full"}:Be(p.timings,g.errors,!0);return{type:12,animation:vr(this,gi(p.animation),g),timings:C,options:null}}}class Qr{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ui(S){return!Array.isArray(S)&&"object"==typeof S}function Sr(S){return S?(S=Bt(S)).params&&(S.params=function ci(S){return S?Bt(S):null}(S.params)):S={},S}function mi(S,p,g){return{duration:S,delay:p,easing:g}}function rs(S,p,g,C,V,q,le=null,de=!1){return{type:1,element:S,keyframes:p,preStyleProps:g,postStyleProps:C,duration:V,delay:q,totalTime:V+q,easing:le,subTimeline:de}}class ws{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,g){let C=this._map.get(p);C||this._map.set(p,C=[]),C.push(...g)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Wr=new RegExp(":enter","g"),vo=new RegExp(":leave","g");function yr(S,p,g,C,V,q={},le={},de,Le,nt=[]){return(new ss).buildKeyframes(S,p,g,C,V,q,le,de,Le,nt)}class ss{buildKeyframes(p,g,C,V,q,le,de,Le,nt,Lt=[]){nt=nt||new ws;const Ht=new Oe(p,g,nt,V,q,Lt,[]);Ht.options=Le,Ht.currentTimeline.setStyles([le],null,Ht.errors,Le),vr(this,C,Ht);const cn=Ht.timelines.filter(an=>an.containsAnimation());if(Object.keys(de).length){let an;for(let qt=cn.length-1;qt>=0;qt--){const vn=cn[qt];if(vn.element===g){an=vn;break}}an&&!an.allowOnlyTimelineStyles()&&an.setStyles([de],null,Ht.errors,Le)}return cn.length?cn.map(an=>an.buildKeyframes()):[rs(g,[],[],[],0,0,"",!1)]}visitTrigger(p,g){}visitState(p,g){}visitTransition(p,g){}visitAnimateChild(p,g){const C=g.subInstructions.get(g.element);if(C){const V=g.createSubContext(p.options),q=g.currentTimeline.currentTime,le=this._visitSubInstructions(C,V,V.options);q!=le&&g.transformIntoNewTimeline(le)}g.previousNode=p}visitAnimateRef(p,g){const C=g.createSubContext(p.options);C.transformIntoNewTimeline(),this.visitReference(p.animation,C),g.transformIntoNewTimeline(C.currentTimeline.currentTime),g.previousNode=p}_visitSubInstructions(p,g,C){let q=g.currentTimeline.currentTime;const le=null!=C.duration?lt(C.duration):null,de=null!=C.delay?lt(C.delay):null;return 0!==le&&p.forEach(Le=>{const nt=g.appendInstructionToTimeline(Le,le,de);q=Math.max(q,nt.duration+nt.delay)}),q}visitReference(p,g){g.updateOptions(p.options,!0),vr(this,p.animation,g),g.previousNode=p}visitSequence(p,g){const C=g.subContextCount;let V=g;const q=p.options;if(q&&(q.params||q.delay)&&(V=g.createSubContext(q),V.transformIntoNewTimeline(),null!=q.delay)){6==V.previousNode.type&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=ps);const le=lt(q.delay);V.delayNextStep(le)}p.steps.length&&(p.steps.forEach(le=>vr(this,le,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>C&&V.transformIntoNewTimeline()),g.previousNode=p}visitGroup(p,g){const C=[];let V=g.currentTimeline.currentTime;const q=p.options&&p.options.delay?lt(p.options.delay):0;p.steps.forEach(le=>{const de=g.createSubContext(p.options);q&&de.delayNextStep(q),vr(this,le,de),V=Math.max(V,de.currentTimeline.currentTime),C.push(de.currentTimeline)}),C.forEach(le=>g.currentTimeline.mergeTimelineCollectedStyles(le)),g.transformIntoNewTimeline(V),g.previousNode=p}_visitTiming(p,g){if(p.dynamic){const C=p.strValue;return Be(g.params?ke(C,g.params,g.errors):C,g.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,g){const C=g.currentAnimateTimings=this._visitTiming(p.timings,g),V=g.currentTimeline;C.delay&&(g.incrementTime(C.delay),V.snapshotCurrentStyles());const q=p.style;5==q.type?this.visitKeyframes(q,g):(g.incrementTime(C.duration),this.visitStyle(q,g),V.applyStylesToKeyframe()),g.currentAnimateTimings=null,g.previousNode=p}visitStyle(p,g){const C=g.currentTimeline,V=g.currentAnimateTimings;!V&&C.getCurrentStyleProperties().length&&C.forwardFrame();const q=V&&V.easing||p.easing;p.isEmptyStep?C.applyEmptyStep(q):C.setStyles(p.styles,q,g.errors,g.options),g.previousNode=p}visitKeyframes(p,g){const C=g.currentAnimateTimings,V=g.currentTimeline.duration,q=C.duration,de=g.createSubContext().currentTimeline;de.easing=C.easing,p.styles.forEach(Le=>{de.forwardTime((Le.offset||0)*q),de.setStyles(Le.styles,Le.easing,g.errors,g.options),de.applyStylesToKeyframe()}),g.currentTimeline.mergeTimelineCollectedStyles(de),g.transformIntoNewTimeline(V+q),g.previousNode=p}visitQuery(p,g){const C=g.currentTimeline.currentTime,V=p.options||{},q=V.delay?lt(V.delay):0;q&&(6===g.previousNode.type||0==C&&g.currentTimeline.getCurrentStyleProperties().length)&&(g.currentTimeline.snapshotCurrentStyles(),g.previousNode=ps);let le=C;const de=g.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!V.optional,g.errors);g.currentQueryTotal=de.length;let Le=null;de.forEach((nt,Lt)=>{g.currentQueryIndex=Lt;const Ht=g.createSubContext(p.options,nt);q&&Ht.delayNextStep(q),nt===g.element&&(Le=Ht.currentTimeline),vr(this,p.animation,Ht),Ht.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,Ht.currentTimeline.currentTime)}),g.currentQueryIndex=0,g.currentQueryTotal=0,g.transformIntoNewTimeline(le),Le&&(g.currentTimeline.mergeTimelineCollectedStyles(Le),g.currentTimeline.snapshotCurrentStyles()),g.previousNode=p}visitStagger(p,g){const C=g.parentContext,V=g.currentTimeline,q=p.timings,le=Math.abs(q.duration),de=le*(g.currentQueryTotal-1);let Le=le*g.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":Le=de-Le;break;case"full":Le=C.currentStaggerTime}const Lt=g.currentTimeline;Le&&Lt.delayNextStep(Le);const Ht=Lt.currentTime;vr(this,p.animation,g),g.previousNode=p,C.currentStaggerTime=V.currentTime-Ht+(V.startTime-C.currentTimeline.startTime)}}const ps={};class Oe{constructor(p,g,C,V,q,le,de,Le){this._driver=p,this.element=g,this.subInstructions=C,this._enterClassName=V,this._leaveClassName=q,this.errors=le,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ps,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new ge(this._driver,g,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,g){if(!p)return;const C=p;let V=this.options;null!=C.duration&&(V.duration=lt(C.duration)),null!=C.delay&&(V.delay=lt(C.delay));const q=C.params;if(q){let le=V.params;le||(le=this.options.params={}),Object.keys(q).forEach(de=>{(!g||!le.hasOwnProperty(de))&&(le[de]=ke(q[de],le,this.errors))})}}_copyOptions(){const p={};if(this.options){const g=this.options.params;if(g){const C=p.params={};Object.keys(g).forEach(V=>{C[V]=g[V]})}}return p}createSubContext(p=null,g,C){const V=g||this.element,q=new Oe(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,C||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(p),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(p){return this.previousNode=ps,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,g,C){const V={duration:null!=g?g:p.duration,delay:this.currentTimeline.currentTime+(null!=C?C:0)+p.delay,easing:""},q=new Je(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,V,p.stretchStartingKeyframe);return this.timelines.push(q),V}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,g,C,V,q,le){let de=[];if(V&&de.push(this.element),p.length>0){p=(p=p.replace(Wr,"."+this._enterClassName)).replace(vo,"."+this._leaveClassName);let nt=this._driver.query(this.element,p,1!=C);0!==C&&(nt=C<0?nt.slice(nt.length+C,nt.length):nt.slice(0,C)),de.push(...nt)}return!q&&0==de.length&&le.push(function wt(S){return new _.vHH(3014,ce)}()),de}}class ge{constructor(p,g,C,V){this._driver=p,this.element=g,this.startTime=C,this._elementTimelineStylesLookup=V,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(g),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(g,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const g=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||g?(this.forwardTime(this.currentTime+p),g&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,g){return this.applyStylesToKeyframe(),new ge(this._driver,p,g||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,g){this._localTimelineStyles[p]=g,this._globalTimelineStyles[p]=g,this._styleSummary[p]={time:this.currentTime,value:g}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&(this._previousKeyframe.easing=p),Object.keys(this._globalTimelineStyles).forEach(g=>{this._backFill[g]=this._globalTimelineStyles[g]||W.l3,this._currentKeyframe[g]=W.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,g,C,V){g&&(this._previousKeyframe.easing=g);const q=V&&V.params||{},le=function kt(S,p){const g={};let C;return S.forEach(V=>{"*"===V?(C=C||Object.keys(p),C.forEach(q=>{g[q]=W.l3})):Yt(V,!1,g)}),g}(p,this._globalTimelineStyles);Object.keys(le).forEach(de=>{const Le=ke(le[de],q,C);this._pendingStyles[de]=Le,this._localTimelineStyles.hasOwnProperty(de)||(this._backFill[de]=this._globalTimelineStyles.hasOwnProperty(de)?this._globalTimelineStyles[de]:W.l3),this._updateStyle(de,Le)})}applyStylesToKeyframe(){const p=this._pendingStyles,g=Object.keys(p);0!=g.length&&(this._pendingStyles={},g.forEach(C=>{this._currentKeyframe[C]=p[C]}),Object.keys(this._localTimelineStyles).forEach(C=>{this._currentKeyframe.hasOwnProperty(C)||(this._currentKeyframe[C]=this._localTimelineStyles[C])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(p=>{const g=this._localTimelineStyles[p];this._pendingStyles[p]=g,this._updateStyle(p,g)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let g in this._currentKeyframe)p.push(g);return p}mergeTimelineCollectedStyles(p){Object.keys(p._styleSummary).forEach(g=>{const C=this._styleSummary[g],V=p._styleSummary[g];(!C||V.time>C.time)&&this._updateStyle(g,V.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,g=new Set,C=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((de,Le)=>{const nt=Yt(de,!0);Object.keys(nt).forEach(Lt=>{const Ht=nt[Lt];Ht==W.k1?p.add(Lt):Ht==W.l3&&g.add(Lt)}),C||(nt.offset=Le/this.duration),V.push(nt)});const q=p.size?pt(p.values()):[],le=g.size?pt(g.values()):[];if(C){const de=V[0],Le=Bt(de);de.offset=0,Le.offset=1,V=[de,Le]}return rs(this.element,V,q,le,this.duration,this.startTime,this.easing,!1)}}class Je extends ge{constructor(p,g,C,V,q,le,de=!1){super(p,g,le.delay),this.keyframes=C,this.preStyleProps=V,this.postStyleProps=q,this._stretchStartingKeyframe=de,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:g,duration:C,easing:V}=this.timings;if(this._stretchStartingKeyframe&&g){const q=[],le=C+g,de=g/le,Le=Yt(p[0],!1);Le.offset=0,q.push(Le);const nt=Yt(p[0],!1);nt.offset=yt(de),q.push(nt);const Lt=p.length-1;for(let Ht=1;Ht<=Lt;Ht++){let cn=Yt(p[Ht],!1);cn.offset=yt((g+cn.offset*C)/le),q.push(cn)}C=le,g=0,V="",p=q}return rs(this.element,p,this.preStyleProps,this.postStyleProps,C,g,V,!0)}}function yt(S,p=3){const g=Math.pow(10,p-1);return Math.round(S*g)/g}class _r{}class or extends _r{normalizePropertyName(p,g){return yn(p)}normalizeStyleValue(p,g,C,V){let q="";const le=C.toString().trim();if(Mi[g]&&0!==C&&"0"!==C)if("number"==typeof C)q="px";else{const de=C.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&V.push(function Me(S,p){return new _.vHH(3005,ce)}())}return le+q}}const Mi=(()=>function gs(S){const p={};return S.forEach(g=>p[g]=!0),p}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Zi(S,p,g,C,V,q,le,de,Le,nt,Lt,Ht,cn){return{type:0,element:S,triggerName:p,isRemovalTransition:V,fromState:g,fromStyles:q,toState:C,toStyles:le,timelines:de,queriedElements:Le,preStyleProps:nt,postStyleProps:Lt,totalTime:Ht,errors:cn}}const os={};class Di{constructor(p,g,C){this._triggerName=p,this.ast=g,this._stateStyles=C}match(p,g,C,V){return function Yi(S,p,g,C,V){return S.some(q=>q(p,g,C,V))}(this.ast.matchers,p,g,C,V)}buildStyles(p,g,C){const V=this._stateStyles["*"],q=this._stateStyles[p],le=V?V.buildStyles(g,C):{};return q?q.buildStyles(g,C):le}build(p,g,C,V,q,le,de,Le,nt,Lt){const Ht=[],cn=this.ast.options&&this.ast.options.params||os,qt=this.buildStyles(C,de&&de.params||os,Ht),vn=Le&&Le.params||os,Ln=this.buildStyles(V,vn,Ht),zn=new Set,hr=new Map,ii=new Map,Vr="void"===V,Or={params:Object.assign(Object.assign({},cn),vn)},Ti=Lt?[]:yr(p,g,this.ast.animation,q,le,qt,Ln,Or,nt,Ht);let ar=0;if(Ti.forEach(Do=>{ar=Math.max(Do.duration+Do.delay,ar)}),Ht.length)return Zi(g,this._triggerName,C,V,Vr,qt,Ln,[],[],hr,ii,ar,Ht);Ti.forEach(Do=>{const To=Do.element,Co=Kn(hr,To,{});Do.preStyleProps.forEach(Vo=>Co[Vo]=!0);const la=Kn(ii,To,{});Do.postStyleProps.forEach(Vo=>la[Vo]=!0),To!==g&&zn.add(To)});const ls=pt(zn.values());return Zi(g,this._triggerName,C,V,Vr,qt,Ln,Ti,ls,hr,ii,ar)}}class no{constructor(p,g,C){this.styles=p,this.defaultParams=g,this.normalizer=C}buildStyles(p,g){const C={},V=Bt(this.defaultParams);return Object.keys(p).forEach(q=>{const le=p[q];null!=le&&(V[q]=le)}),this.styles.styles.forEach(q=>{if("string"!=typeof q){const le=q;Object.keys(le).forEach(de=>{let Le=le[de];Le.length>1&&(Le=ke(Le,V,g));const nt=this.normalizer.normalizePropertyName(de,g);Le=this.normalizer.normalizeStyleValue(de,nt,Le,g),C[nt]=Le})}}),C}}class hi{constructor(p,g,C){this.name=p,this.ast=g,this._normalizer=C,this.transitionFactories=[],this.states={},g.states.forEach(V=>{this.states[V.name]=new no(V.style,V.options&&V.options.params||{},C)}),Bi(this.states,"true","1"),Bi(this.states,"false","0"),g.transitions.forEach(V=>{this.transitionFactories.push(new Di(p,V,this.states))}),this.fallbackTransition=function ms(S,p,g){return new Di(S,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,de)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,g,C,V){return this.transitionFactories.find(le=>le.match(p,g,C,V))||null}matchStyles(p,g,C){return this.fallbackTransition.buildStyles(p,g,C)}}function Bi(S,p,g){S.hasOwnProperty(p)?S.hasOwnProperty(g)||(S[g]=S[p]):S.hasOwnProperty(g)&&(S[p]=S[g])}const Fs=new ws;class Hs{constructor(p,g,C){this.bodyNode=p,this._driver=g,this._normalizer=C,this._animations={},this._playersById={},this.players=[]}register(p,g){const C=[],q=Es(this._driver,g,C,[]);if(C.length)throw function Ge(S){return new _.vHH(3503,ce)}();this._animations[p]=q}_buildPlayer(p,g,C){const V=p.element,q=Gn(0,this._normalizer,0,p.keyframes,g,C);return this._driver.animate(V,q,p.duration,p.delay,p.easing,[],!0)}create(p,g,C={}){const V=[],q=this._animations[p];let le;const de=new Map;if(q?(le=yr(this._driver,g,q,Nr,cr,{},{},C,Fs,V),le.forEach(Lt=>{const Ht=Kn(de,Lt.element,{});Lt.postStyleProps.forEach(cn=>Ht[cn]=null)})):(V.push(function Ve(){return new _.vHH(3300,ce)}()),le=[]),V.length)throw function Et(S){return new _.vHH(3504,ce)}();de.forEach((Lt,Ht)=>{Object.keys(Lt).forEach(cn=>{Lt[cn]=this._driver.computeStyle(Ht,cn,W.l3)})});const nt=on(le.map(Lt=>{const Ht=de.get(Lt.element);return this._buildPlayer(Lt,{},Ht)}));return this._playersById[p]=nt,nt.onDestroy(()=>this.destroy(p)),this.players.push(nt),nt}destroy(p){const g=this._getPlayer(p);g.destroy(),delete this._playersById[p];const C=this.players.indexOf(g);C>=0&&this.players.splice(C,1)}_getPlayer(p){const g=this._playersById[p];if(!g)throw function Kt(S){return new _.vHH(3301,ce)}();return g}listen(p,g,C,V){const q=Nn(g,"","","");return Bn(this._getPlayer(p),C,q,V),()=>{}}command(p,g,C,V){if("register"==C)return void this.register(p,V[0]);if("create"==C)return void this.create(p,g,V[0]||{});const q=this._getPlayer(p);switch(C){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(p)}}}const ys="ng-animate-queued",Jr="ng-animate-disabled",Br=[],Vi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vi="__ng_removed";class Qi{constructor(p,g=""){this.namespaceId=g;const C=p&&p.hasOwnProperty("value");if(this.value=function O(S){return null!=S?S:null}(C?p.value:p),C){const q=Bt(p);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const g=p.params;if(g){const C=this.options.params;Object.keys(g).forEach(V=>{null==C[V]&&(C[V]=g[V])})}}}const vs="void",ji=new Qi(vs);class ro{constructor(p,g,C){this.id=p,this.hostElement=g,this._engine=C,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,ft(g,this._hostClassName)}listen(p,g,C,V){if(!this._triggers.hasOwnProperty(g))throw function Ye(S,p){return new _.vHH(3302,ce)}();if(null==C||0==C.length)throw function At(S){return new _.vHH(3303,ce)}();if(!function P(S){return"start"==S||"done"==S}(C))throw function ee(S,p){return new _.vHH(3400,ce)}();const q=Kn(this._elementListeners,p,[]),le={name:g,phase:C,callback:V};q.push(le);const de=Kn(this._engine.statesByElement,p,{});return de.hasOwnProperty(g)||(ft(p,Un),ft(p,Un+"-"+g),de[g]=ji),()=>{this._engine.afterFlush(()=>{const Le=q.indexOf(le);Le>=0&&q.splice(Le,1),this._triggers[g]||delete de[g]})}}register(p,g){return!this._triggers[p]&&(this._triggers[p]=g,!0)}_getTrigger(p){const g=this._triggers[p];if(!g)throw function et(S){return new _.vHH(3401,ce)}();return g}trigger(p,g,C,V=!0){const q=this._getTrigger(g),le=new Is(this.id,g,p);let de=this._engine.statesByElement.get(p);de||(ft(p,Un),ft(p,Un+"-"+g),this._engine.statesByElement.set(p,de={}));let Le=de[g];const nt=new Qi(C,this.id);if(!(C&&C.hasOwnProperty("value"))&&Le&&nt.absorbOptions(Le.options),de[g]=nt,Le||(Le=ji),nt.value!==vs&&Le.value===nt.value){if(!function jn(S,p){const g=Object.keys(S),C=Object.keys(p);if(g.length!=C.length)return!1;for(let V=0;V<g.length;V++){const q=g[V];if(!p.hasOwnProperty(q)||S[q]!==p[q])return!1}return!0}(Le.params,nt.params)){const vn=[],Ln=q.matchStyles(Le.value,Le.params,vn),zn=q.matchStyles(nt.value,nt.params,vn);vn.length?this._engine.reportError(vn):this._engine.afterFlush(()=>{mr(p,Ln),Zn(p,zn)})}return}const cn=Kn(this._engine.playersByElement,p,[]);cn.forEach(vn=>{vn.namespaceId==this.id&&vn.triggerName==g&&vn.queued&&vn.destroy()});let an=q.matchTransition(Le.value,nt.value,p,nt.params),qt=!1;if(!an){if(!V)return;an=q.fallbackTransition,qt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:g,transition:an,fromState:Le,toState:nt,player:le,isFallbackTransition:qt}),qt||(ft(p,ys),le.onStart(()=>{Qt(p,ys)})),le.onDone(()=>{let vn=this.players.indexOf(le);vn>=0&&this.players.splice(vn,1);const Ln=this._engine.playersByElement.get(p);if(Ln){let zn=Ln.indexOf(le);zn>=0&&Ln.splice(zn,1)}}),this.players.push(le),cn.push(le),le}deregister(p){delete this._triggers[p],this._engine.statesByElement.forEach((g,C)=>{delete g[p]}),this._elementListeners.forEach((g,C)=>{this._elementListeners.set(C,g.filter(V=>V.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const g=this._engine.playersByElement.get(p);g&&(g.forEach(C=>C.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,g){const C=this._engine.driver.query(p,ie,!0);C.forEach(V=>{if(V[vi])return;const q=this._engine.fetchNamespacesByElement(V);q.size?q.forEach(le=>le.triggerLeaveAnimation(V,g,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>C.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(p,g,C,V){const q=this._engine.statesByElement.get(p),le=new Map;if(q){const de=[];if(Object.keys(q).forEach(Le=>{if(le.set(Le,q[Le].value),this._triggers[Le]){const nt=this.trigger(p,Le,vs,V);nt&&de.push(nt)}}),de.length)return this._engine.markElementAsRemoved(this.id,p,!0,g,le),C&&on(de).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const g=this._elementListeners.get(p),C=this._engine.statesByElement.get(p);if(g&&C){const V=new Set;g.forEach(q=>{const le=q.name;if(V.has(le))return;V.add(le);const Le=this._triggers[le].fallbackTransition,nt=C[le]||ji,Lt=new Qi(vs),Ht=new Is(this.id,le,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:le,transition:Le,fromState:nt,toState:Lt,player:Ht,isFallbackTransition:!0})})}}removeNode(p,g){const C=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,g),this.triggerLeaveAnimation(p,g,!0))return;let V=!1;if(C.totalAnimations){const q=C.players.length?C.playersByQueriedElement.get(p):[];if(q&&q.length)V=!0;else{let le=p;for(;le=le.parentNode;)if(C.statesByElement.get(le)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(p),V)C.markElementAsRemoved(this.id,p,!1,g);else{const q=p[vi];(!q||q===Vi)&&(C.afterFlush(()=>this.clearElementCache(p)),C.destroyInnerAnimations(p),C._onRemovalComplete(p,g))}}insertNode(p,g){ft(p,this._hostClassName)}drainQueuedTransitions(p){const g=[];return this._queue.forEach(C=>{const V=C.player;if(V.destroyed)return;const q=C.element,le=this._elementListeners.get(q);le&&le.forEach(de=>{if(de.name==C.triggerName){const Le=Nn(q,C.triggerName,C.fromState.value,C.toState.value);Le._data=p,Bn(C.player,de.phase,Le,de.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):g.push(C)}),this._queue=[],g.sort((C,V)=>{const q=C.transition.ast.depCount,le=V.transition.ast.depCount;return 0==q||0==le?q-le:this._engine.driver.containsElement(C.element,V.element)?1:-1})}destroy(p){this.players.forEach(g=>g.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let g=!1;return this._elementListeners.has(p)&&(g=!0),g=!!this._queue.find(C=>C.element===p)||g,g}}class as{constructor(p,g,C){this.bodyNode=p,this.driver=g,this._normalizer=C,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(V,q)=>{}}_onRemovalComplete(p,g){this.onRemovalComplete(p,g)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(g=>{g.players.forEach(C=>{C.queued&&p.push(C)})}),p}createNamespace(p,g){const C=new ro(p,g,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,g)?this._balanceNamespaceList(C,g):(this.newHostElements.set(g,C),this.collectEnterElement(g)),this._namespaceLookup[p]=C}_balanceNamespaceList(p,g){const C=this._namespaceList,V=this.namespacesByHostElement,q=C.length-1;if(q>=0){let le=!1;if(void 0!==this.driver.getParentElement){let de=this.driver.getParentElement(g);for(;de;){const Le=V.get(de);if(Le){const nt=C.indexOf(Le);C.splice(nt+1,0,p),le=!0;break}de=this.driver.getParentElement(de)}}else for(let de=q;de>=0;de--)if(this.driver.containsElement(C[de].hostElement,g)){C.splice(de+1,0,p),le=!0;break}le||C.unshift(p)}else C.push(p);return V.set(g,p),p}register(p,g){let C=this._namespaceLookup[p];return C||(C=this.createNamespace(p,g)),C}registerTrigger(p,g,C){let V=this._namespaceLookup[p];V&&V.register(g,C)&&this.totalAnimations++}destroy(p,g){if(!p)return;const C=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(C.hostElement),delete this._namespaceLookup[p];const V=this._namespaceList.indexOf(C);V>=0&&this._namespaceList.splice(V,1)}),this.afterFlushAnimationsDone(()=>C.destroy(g))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const g=new Set,C=this.statesByElement.get(p);if(C){const V=Object.keys(C);for(let q=0;q<V.length;q++){const le=C[V[q]].namespaceId;if(le){const de=this._fetchNamespace(le);de&&g.add(de)}}}return g}trigger(p,g,C,V){if(G(g)){const q=this._fetchNamespace(p);if(q)return q.trigger(g,C,V),!0}return!1}insertNode(p,g,C,V){if(!G(g))return;const q=g[vi];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const le=this.collectedLeaveElements.indexOf(g);le>=0&&this.collectedLeaveElements.splice(le,1)}if(p){const le=this._fetchNamespace(p);le&&le.insertNode(g,C)}V&&this.collectEnterElement(g)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,g){g?this.disabledNodes.has(p)||(this.disabledNodes.add(p),ft(p,Jr)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Qt(p,Jr))}removeNode(p,g,C,V){if(G(g)){const q=p?this._fetchNamespace(p):null;if(q?q.removeNode(g,V):this.markElementAsRemoved(p,g,!1,V),C){const le=this.namespacesByHostElement.get(g);le&&le.id!==p&&le.removeNode(g,V)}}else this._onRemovalComplete(g,V)}markElementAsRemoved(p,g,C,V,q){this.collectedLeaveElements.push(g),g[vi]={namespaceId:p,setForRemoval:V,hasAnimation:C,removedBeforeQueried:!1,previousTriggersValues:q}}listen(p,g,C,V,q){return G(g)?this._fetchNamespace(p).listen(g,C,V,q):()=>{}}_buildInstruction(p,g,C,V,q){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,C,V,p.fromState.options,p.toState.options,g,q)}destroyInnerAnimations(p){let g=this.driver.query(p,ie,!0);g.forEach(C=>this.destroyActiveAnimationsForElement(C)),0!=this.playersByQueriedElement.size&&(g=this.driver.query(p,Ie,!0),g.forEach(C=>this.finishActiveQueriedAnimationOnElement(C)))}destroyActiveAnimationsForElement(p){const g=this.playersByElement.get(p);g&&g.forEach(C=>{C.queued?C.markedForDestroy=!0:C.destroy()})}finishActiveQueriedAnimationOnElement(p){const g=this.playersByQueriedElement.get(p);g&&g.forEach(C=>C.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return on(this.players).onDone(()=>p());p()})}processLeaveNode(p){var g;const C=p[vi];if(C&&C.setForRemoval){if(p[vi]=Vi,C.namespaceId){this.destroyInnerAnimations(p);const V=this._fetchNamespace(C.namespaceId);V&&V.clearElementCache(p)}this._onRemovalComplete(p,C.setForRemoval)}(null===(g=p.classList)||void 0===g?void 0:g.contains(Jr))&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(V=>{this.markElementAsDisabled(V,!1)})}flush(p=-1){let g=[];if(this.newHostElements.size&&(this.newHostElements.forEach((C,V)=>this._balanceNamespaceList(C,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let C=0;C<this.collectedEnterElements.length;C++)ft(this.collectedEnterElements[C],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const C=[];try{g=this._flushAnimations(C,p)}finally{for(let V=0;V<C.length;V++)C[V]()}}else for(let C=0;C<this.collectedLeaveElements.length;C++)this.processLeaveNode(this.collectedLeaveElements[C]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(C=>C()),this._flushFns=[],this._whenQuietFns.length){const C=this._whenQuietFns;this._whenQuietFns=[],g.length?on(g).onDone(()=>{C.forEach(V=>V())}):C.forEach(V=>V())}}reportError(p){throw function gt(S){return new _.vHH(3402,ce)}()}_flushAnimations(p,g){const C=new ws,V=[],q=new Map,le=[],de=new Map,Le=new Map,nt=new Map,Lt=new Set;this.disabledNodes.forEach(Jt=>{Lt.add(Jt);const Vt=this.driver.query(Jt,".ng-animate-queued",!0);for(let Sn=0;Sn<Vt.length;Sn++)Lt.add(Vt[Sn])});const Ht=this.bodyNode,cn=Array.from(this.statesByElement.keys()),an=it(cn,this.collectedEnterElements),qt=new Map;let vn=0;an.forEach((Jt,Vt)=>{const Sn=Nr+vn++;qt.set(Vt,Sn),Jt.forEach(fr=>ft(fr,Sn))});const Ln=[],zn=new Set,hr=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const Vt=this.collectedLeaveElements[Jt],Sn=Vt[vi];Sn&&Sn.setForRemoval&&(Ln.push(Vt),zn.add(Vt),Sn.hasAnimation?this.driver.query(Vt,".ng-star-inserted",!0).forEach(fr=>zn.add(fr)):hr.add(Vt))}const ii=new Map,Vr=it(cn,Array.from(zn));Vr.forEach((Jt,Vt)=>{const Sn=cr+vn++;ii.set(Vt,Sn),Jt.forEach(fr=>ft(fr,Sn))}),p.push(()=>{an.forEach((Jt,Vt)=>{const Sn=qt.get(Vt);Jt.forEach(fr=>Qt(fr,Sn))}),Vr.forEach((Jt,Vt)=>{const Sn=ii.get(Vt);Jt.forEach(fr=>Qt(fr,Sn))}),Ln.forEach(Jt=>{this.processLeaveNode(Jt)})});const Or=[],Ti=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(g).forEach(Sn=>{const fr=Sn.player,Er=Sn.element;if(Or.push(fr),this.collectedEnterElements.length){const Hi=Er[vi];if(Hi&&Hi.setForMove){if(Hi.previousTriggersValues&&Hi.previousTriggersValues.has(Sn.triggerName)){const So=Hi.previousTriggersValues.get(Sn.triggerName),Zr=this.statesByElement.get(Sn.element);Zr&&Zr[Sn.triggerName]&&(Zr[Sn.triggerName].value=So)}return void fr.destroy()}}const Ci=!Ht||!this.driver.containsElement(Ht,Er),si=ii.get(Er),Ks=qt.get(Er),wr=this._buildInstruction(Sn,C,Ks,si,Ci);if(wr.errors&&wr.errors.length)return void Ti.push(wr);if(Ci)return fr.onStart(()=>mr(Er,wr.fromStyles)),fr.onDestroy(()=>Zn(Er,wr.toStyles)),void V.push(fr);if(Sn.isFallbackTransition)return fr.onStart(()=>mr(Er,wr.fromStyles)),fr.onDestroy(()=>Zn(Er,wr.toStyles)),void V.push(fr);const oo=[];wr.timelines.forEach(Hi=>{Hi.stretchStartingKeyframe=!0,this.disabledNodes.has(Hi.element)||oo.push(Hi)}),wr.timelines=oo,C.append(Er,wr.timelines),le.push({instruction:wr,player:fr,element:Er}),wr.queriedElements.forEach(Hi=>Kn(de,Hi,[]).push(fr)),wr.preStyleProps.forEach((Hi,So)=>{const Zr=Object.keys(Hi);if(Zr.length){let Ps=Le.get(So);Ps||Le.set(So,Ps=new Set),Zr.forEach(ao=>Ps.add(ao))}}),wr.postStyleProps.forEach((Hi,So)=>{const Zr=Object.keys(Hi);let Ps=nt.get(So);Ps||nt.set(So,Ps=new Set),Zr.forEach(ao=>Ps.add(ao))})});if(Ti.length){const Jt=[];Ti.forEach(Vt=>{Jt.push(function Ut(S,p){return new _.vHH(3505,ce)}())}),Or.forEach(Vt=>Vt.destroy()),this.reportError(Jt)}const ar=new Map,ls=new Map;le.forEach(Jt=>{const Vt=Jt.element;C.has(Vt)&&(ls.set(Vt,Vt),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,ar))}),V.forEach(Jt=>{const Vt=Jt.element;this._getPreviousPlayers(Vt,!1,Jt.namespaceId,Jt.triggerName,null).forEach(fr=>{Kn(ar,Vt,[]).push(fr),fr.destroy()})});const Do=Ln.filter(Jt=>kr(Jt,Le,nt)),To=new Map;pe(To,this.driver,hr,nt,W.l3).forEach(Jt=>{kr(Jt,Le,nt)&&Do.push(Jt)});const la=new Map;an.forEach((Jt,Vt)=>{pe(la,this.driver,new Set(Jt),Le,W.k1)}),Do.forEach(Jt=>{const Vt=To.get(Jt),Sn=la.get(Jt);To.set(Jt,Object.assign(Object.assign({},Vt),Sn))});const Vo=[],zs=[],Ds={};le.forEach(Jt=>{const{element:Vt,player:Sn,instruction:fr}=Jt;if(C.has(Vt)){if(Lt.has(Vt))return Sn.onDestroy(()=>Zn(Vt,fr.toStyles)),Sn.disabled=!0,Sn.overrideTotalTime(fr.totalTime),void V.push(Sn);let Er=Ds;if(ls.size>1){let si=Vt;const Ks=[];for(;si=si.parentNode;){const wr=ls.get(si);if(wr){Er=wr;break}Ks.push(si)}Ks.forEach(wr=>ls.set(wr,Er))}const Ci=this._buildAnimation(Sn.namespaceId,fr,ar,q,la,To);if(Sn.setRealPlayer(Ci),Er===Ds)Vo.push(Sn);else{const si=this.playersByElement.get(Er);si&&si.length&&(Sn.parentPlayer=on(si)),V.push(Sn)}}else mr(Vt,fr.fromStyles),Sn.onDestroy(()=>Zn(Vt,fr.toStyles)),zs.push(Sn),Lt.has(Vt)&&V.push(Sn)}),zs.forEach(Jt=>{const Vt=q.get(Jt.element);if(Vt&&Vt.length){const Sn=on(Vt);Jt.setRealPlayer(Sn)}}),V.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<Ln.length;Jt++){const Vt=Ln[Jt],Sn=Vt[vi];if(Qt(Vt,cr),Sn&&Sn.hasAnimation)continue;let fr=[];if(de.size){let Ci=de.get(Vt);Ci&&Ci.length&&fr.push(...Ci);let si=this.driver.query(Vt,Ie,!0);for(let Ks=0;Ks<si.length;Ks++){let wr=de.get(si[Ks]);wr&&wr.length&&fr.push(...wr)}}const Er=fr.filter(Ci=>!Ci.destroyed);Er.length?bn(this,Vt,Er):this.processLeaveNode(Vt)}return Ln.length=0,Vo.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const Vt=this.players.indexOf(Jt);this.players.splice(Vt,1)}),Jt.play()}),Vo}elementContainsData(p,g){let C=!1;const V=g[vi];return V&&V.setForRemoval&&(C=!0),this.playersByElement.has(g)&&(C=!0),this.playersByQueriedElement.has(g)&&(C=!0),this.statesByElement.has(g)&&(C=!0),this._fetchNamespace(p).elementContainsData(g)||C}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,g,C,V,q){let le=[];if(g){const de=this.playersByQueriedElement.get(p);de&&(le=de)}else{const de=this.playersByElement.get(p);if(de){const Le=!q||q==vs;de.forEach(nt=>{nt.queued||!Le&&nt.triggerName!=V||le.push(nt)})}}return(C||V)&&(le=le.filter(de=>!(C&&C!=de.namespaceId||V&&V!=de.triggerName))),le}_beforeAnimationBuild(p,g,C){const q=g.element,le=g.isRemovalTransition?void 0:p,de=g.isRemovalTransition?void 0:g.triggerName;for(const Le of g.timelines){const nt=Le.element,Lt=nt!==q,Ht=Kn(C,nt,[]);this._getPreviousPlayers(nt,Lt,le,de,g.toState).forEach(an=>{const qt=an.getRealPlayer();qt.beforeDestroy&&qt.beforeDestroy(),an.destroy(),Ht.push(an)})}mr(q,g.fromStyles)}_buildAnimation(p,g,C,V,q,le){const de=g.triggerName,Le=g.element,nt=[],Lt=new Set,Ht=new Set,cn=g.timelines.map(qt=>{const vn=qt.element;Lt.add(vn);const Ln=vn[vi];if(Ln&&Ln.removedBeforeQueried)return new W.ZN(qt.duration,qt.delay);const zn=vn!==Le,hr=function Yn(S){const p=[];return kn(S,p),p}((C.get(vn)||Br).map(ar=>ar.getRealPlayer())).filter(ar=>!!ar.element&&ar.element===vn),ii=q.get(vn),Vr=le.get(vn),Or=Gn(0,this._normalizer,0,qt.keyframes,ii,Vr),Ti=this._buildPlayer(qt,Or,hr);if(qt.subTimeline&&V&&Ht.add(vn),zn){const ar=new Is(p,de,vn);ar.setRealPlayer(Ti),nt.push(ar)}return Ti});nt.forEach(qt=>{Kn(this.playersByQueriedElement,qt.element,[]).push(qt),qt.onDone(()=>function Jn(S,p,g){let C;if(S instanceof Map){if(C=S.get(p),C){if(C.length){const V=C.indexOf(g);C.splice(V,1)}0==C.length&&S.delete(p)}}else if(C=S[p],C){if(C.length){const V=C.indexOf(g);C.splice(V,1)}0==C.length&&delete S[p]}return C}(this.playersByQueriedElement,qt.element,qt))}),Lt.forEach(qt=>ft(qt,me));const an=on(cn);return an.onDestroy(()=>{Lt.forEach(qt=>Qt(qt,me)),Zn(Le,g.toStyles)}),Ht.forEach(qt=>{Kn(V,qt,[]).push(an)}),an}_buildPlayer(p,g,C){return g.length>0?this.driver.animate(p.element,g,p.duration,p.delay,p.easing,C):new W.ZN(p.duration,p.delay)}}class Is{constructor(p,g,C){this.namespaceId=p,this.triggerName=g,this.element=C,this._player=new W.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,Object.keys(this._queuedCallbacks).forEach(g=>{this._queuedCallbacks[g].forEach(C=>Bn(p,g,void 0,C))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const g=this._player;g.triggerCallback&&p.onStart(()=>g.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,g){Kn(this._queuedCallbacks,p,[]).push(g)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const g=this._player;g.triggerCallback&&g.triggerCallback(p)}}function G(S){return S&&1===S.nodeType}function Q(S,p){const g=S.style.display;return S.style.display=null!=p?p:"none",g}function pe(S,p,g,C,V){const q=[];g.forEach(Le=>q.push(Q(Le)));const le=[];C.forEach((Le,nt)=>{const Lt={};Le.forEach(Ht=>{const cn=Lt[Ht]=p.computeStyle(nt,Ht,V);(!cn||0==cn.length)&&(nt[vi]=yi,le.push(nt))}),S.set(nt,Lt)});let de=0;return g.forEach(Le=>Q(Le,q[de++])),le}function it(S,p){const g=new Map;if(S.forEach(de=>g.set(de,[])),0==p.length)return g;const V=new Set(p),q=new Map;function le(de){if(!de)return 1;let Le=q.get(de);if(Le)return Le;const nt=de.parentNode;return Le=g.has(nt)?nt:V.has(nt)?1:le(nt),q.set(de,Le),Le}return p.forEach(de=>{const Le=le(de);1!==Le&&g.get(Le).push(de)}),g}function ft(S,p){var g;null===(g=S.classList)||void 0===g||g.add(p)}function Qt(S,p){var g;null===(g=S.classList)||void 0===g||g.remove(p)}function bn(S,p,g){on(g).onDone(()=>S.processLeaveNode(p))}function kn(S,p){for(let g=0;g<S.length;g++){const C=S[g];C instanceof W.ZE?kn(C.players,p):p.push(C)}}function kr(S,p,g){const C=g.get(S);if(!C)return!1;let V=p.get(S);return V?C.forEach(q=>V.add(q)):p.set(S,C),g.delete(S),!0}class tr{constructor(p,g,C){this.bodyNode=p,this._driver=g,this._normalizer=C,this._triggerCache={},this.onRemovalComplete=(V,q)=>{},this._transitionEngine=new as(p,g,C),this._timelineEngine=new Hs(p,g,C),this._transitionEngine.onRemovalComplete=(V,q)=>this.onRemovalComplete(V,q)}registerTrigger(p,g,C,V,q){const le=p+"-"+V;let de=this._triggerCache[le];if(!de){const Le=[],Lt=Es(this._driver,q,Le,[]);if(Le.length)throw function Pe(S,p){return new _.vHH(3404,ce)}();de=function _o(S,p,g){return new hi(S,p,g)}(V,Lt,this._normalizer),this._triggerCache[le]=de}this._transitionEngine.registerTrigger(g,V,de)}register(p,g){this._transitionEngine.register(p,g)}destroy(p,g){this._transitionEngine.destroy(p,g)}onInsert(p,g,C,V){this._transitionEngine.insertNode(p,g,C,V)}onRemove(p,g,C,V){this._transitionEngine.removeNode(p,g,V||!1,C)}disableAnimations(p,g){this._transitionEngine.markElementAsDisabled(p,g)}process(p,g,C,V){if("@"==C.charAt(0)){const[q,le]=Qn(C);this._timelineEngine.command(q,g,le,V)}else this._transitionEngine.trigger(p,g,C,V)}listen(p,g,C,V,q){if("@"==C.charAt(0)){const[le,de]=Qn(C);return this._timelineEngine.listen(le,g,de,q)}return this._transitionEngine.listen(p,g,C,V,q)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Pi=(()=>{class S{constructor(g,C,V){this._element=g,this._startStyles=C,this._endStyles=V,this._state=0;let q=S.initialStylesByElement.get(g);q||S.initialStylesByElement.set(g,q={}),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&Zn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zn(this._element,this._initialStyles),this._endStyles&&(Zn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(S.initialStylesByElement.delete(this._element),this._startStyles&&(mr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mr(this._element,this._endStyles),this._endStyles=null),Zn(this._element,this._initialStyles),this._state=3)}}return S.initialStylesByElement=new WeakMap,S})();function ri(S){let p=null;const g=Object.keys(S);for(let C=0;C<g.length;C++){const V=g[C];hn(V)&&(p=p||{},p[V]=S[V])}return p}function hn(S){return"display"===S||"position"===S}class $i{constructor(p,g,C,V){this.element=p,this.keyframes=g,this.options=C,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=C.duration,this._delay=C.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(p,g,C){return p.animate(g,C)}onStart(p){this._onStartFns.push(p)}onDone(p){this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p={};if(this.hasStarted()){const g=this._finalKeyframe;Object.keys(g).forEach(C=>{"offset"!=C&&(p[C]=this._finished?g[C]:ai(this.element,C))})}this.currentSnapshot=p}triggerCallback(p){const g="start"==p?this._onStartFns:this._onDoneFns;g.forEach(C=>C()),g.length=0}}class Eo{validateStyleProperty(p){return ct(p)}matchesElement(p,g){return!1}containsElement(p,g){return xe(p,g)}getParentElement(p){return Fr(p)}query(p,g,C){return _t(p,g,C)}computeStyle(p,g,C){return window.getComputedStyle(p)[g]}animate(p,g,C,V,q,le=[]){const Le={duration:C,delay:V,fill:0==V?"both":"forwards"};q&&(Le.easing=q);const nt={},Lt=le.filter(cn=>cn instanceof $i);(function Hr(S,p){return 0===S||0===p})(C,V)&&Lt.forEach(cn=>{let an=cn.currentSnapshot;Object.keys(an).forEach(qt=>nt[qt]=an[qt])}),g=function Fi(S,p,g){const C=Object.keys(g);if(C.length&&p.length){let q=p[0],le=[];if(C.forEach(de=>{q.hasOwnProperty(de)||le.push(de),q[de]=g[de]}),le.length)for(var V=1;V<p.length;V++){let de=p[V];le.forEach(function(Le){de[Le]=ai(S,Le)})}}return p}(p,g=g.map(cn=>Yt(cn,!1)),nt);const Ht=function nr(S,p){let g=null,C=null;return Array.isArray(p)&&p.length?(g=ri(p[0]),p.length>1&&(C=ri(p[p.length-1]))):p&&(g=ri(p)),g||C?new Pi(S,g,C):null}(p,g);return new $i(p,g,Le,Ht)}}var Rs=L(9808);let bs=(()=>{class S extends W._j{constructor(g,C){super(),this._nextAnimationId=0,this._renderer=g.createRenderer(C.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(g){const C=this._nextAnimationId.toString();this._nextAnimationId++;const V=Array.isArray(g)?(0,W.vP)(g):g;return Io(this._renderer,null,C,"register",[V]),new wo(C,this._renderer)}}return S.\u0275fac=function(g){return new(g||S)(_.LFG(_.FYo),_.LFG(Rs.K0))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})();class wo extends W.LC{constructor(p,g){super(),this._id=p,this._renderer=g}create(p,g){return new qo(this._id,p,g||{},this._renderer)}}class qo{constructor(p,g,C,V){this.id=p,this.element=g,this._renderer=V,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",C)}_listen(p,g){return this._renderer.listen(this.element,`@@${this.id}:${p}`,g)}_command(p,...g){return Io(this._renderer,this.element,this.id,p,g)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){var p,g;return null!==(g=null===(p=this._renderer.engine.players[+this.id])||void 0===p?void 0:p.getPosition())&&void 0!==g?g:0}}function Io(S,p,g,C,V){return S.setProperty(p,`@@${g}:${C}`,V)}const Dt="@.disabled";let Wn=(()=>{class S{constructor(g,C,V){this.delegate=g,this.engine=C,this._zone=V,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),C.onRemovalComplete=(q,le)=>{const de=null==le?void 0:le.parentNode(q);de&&le.removeChild(de,q)}}createRenderer(g,C){const q=this.delegate.createRenderer(g,C);if(!(g&&C&&C.data&&C.data.animation)){let Lt=this._rendererCache.get(q);return Lt||(Lt=new Ms("",q,this.engine),this._rendererCache.set(q,Lt)),Lt}const le=C.id,de=C.id+"-"+this._currentId;this._currentId++,this.engine.register(de,g);const Le=Lt=>{Array.isArray(Lt)?Lt.forEach(Le):this.engine.registerTrigger(le,de,g,Lt.name,Lt)};return C.data.animation.forEach(Le),new qr(this,de,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(g,C,V){g>=0&&g<this._microtaskId?this._zone.run(()=>C(V)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[le,de]=q;le(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([C,V]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return S.\u0275fac=function(g){return new(g||S)(_.LFG(_.FYo),_.LFG(tr),_.LFG(_.R0b))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})();class Ms{constructor(p,g,C){this.namespaceId=p,this.delegate=g,this.engine=C,this.destroyNode=this.delegate.destroyNode?V=>g.destroyNode(V):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,g){return this.delegate.createElement(p,g)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,g){this.delegate.appendChild(p,g),this.engine.onInsert(this.namespaceId,g,p,!1)}insertBefore(p,g,C,V=!0){this.delegate.insertBefore(p,g,C),this.engine.onInsert(this.namespaceId,g,p,V)}removeChild(p,g,C){this.engine.onRemove(this.namespaceId,g,this.delegate,C)}selectRootElement(p,g){return this.delegate.selectRootElement(p,g)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,g,C,V){this.delegate.setAttribute(p,g,C,V)}removeAttribute(p,g,C){this.delegate.removeAttribute(p,g,C)}addClass(p,g){this.delegate.addClass(p,g)}removeClass(p,g){this.delegate.removeClass(p,g)}setStyle(p,g,C,V){this.delegate.setStyle(p,g,C,V)}removeStyle(p,g,C){this.delegate.removeStyle(p,g,C)}setProperty(p,g,C){"@"==g.charAt(0)&&g==Dt?this.disableAnimations(p,!!C):this.delegate.setProperty(p,g,C)}setValue(p,g){this.delegate.setValue(p,g)}listen(p,g,C){return this.delegate.listen(p,g,C)}disableAnimations(p,g){this.engine.disableAnimations(p,g)}}class qr extends Ms{constructor(p,g,C,V){super(g,C,V),this.factory=p,this.namespaceId=g}setProperty(p,g,C){"@"==g.charAt(0)?"."==g.charAt(1)&&g==Dt?this.disableAnimations(p,C=void 0===C||!!C):this.engine.process(this.namespaceId,p,g.substr(1),C):this.delegate.setProperty(p,g,C)}listen(p,g,C){if("@"==g.charAt(0)){const V=function Bs(S){switch(S){case"body":return document.body;case"document":return document;case"window":return window;default:return S}}(p);let q=g.substr(1),le="";return"@"!=q.charAt(0)&&([q,le]=function io(S){const p=S.indexOf(".");return[S.substring(0,p),S.substr(p+1)]}(q)),this.engine.listen(this.namespaceId,V,q,le,de=>{this.factory.scheduleListenerCallback(de._data||-1,C,de)})}return this.delegate.listen(p,g,C)}}let us=(()=>{class S extends tr{constructor(g,C,V){super(g.body,C,V)}ngOnDestroy(){this.flush()}}return S.\u0275fac=function(g){return new(g||S)(_.LFG(Rs.K0),_.LFG(Nt),_.LFG(_r))},S.\u0275prov=_.Yz7({token:S,factory:S.\u0275fac}),S})();const Zo=new _.OlP("AnimationModuleType"),bo=[{provide:W._j,useClass:bs},{provide:_r,useFactory:function so(){return new or}},{provide:tr,useClass:us},{provide:_.FYo,useFactory:function ua(S,p,g){return new Wn(S,p,g)},deps:[K.se,tr,_.R0b]}],Bo=[{provide:Nt,useFactory:()=>new Eo},{provide:Zo,useValue:"BrowserAnimations"},...bo],F=[{provide:Nt,useClass:mt},{provide:Zo,useValue:"NoopAnimations"},...bo];let N=(()=>{class S{static withConfig(g){return{ngModule:S,providers:g.disableAnimations?F:Bo}}}return S.\u0275fac=function(g){return new(g||S)},S.\u0275mod=_.oAB({type:S}),S.\u0275inj=_.cJS({providers:Bo,imports:[K.b2]}),S})()},2313:(Ft,je,L)=>{L.d(je,{H7:()=>gn,b2:()=>Cn,q6:()=>Kn,se:()=>Ge});var _=L(9808),K=L(5e3);class W extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends W{static makeCurrent(){(0,_.HT)(new ce)}onAndCancel(Ee,ne,ke){return Ee.addEventListener(ne,ke,!1),()=>{Ee.removeEventListener(ne,ke,!1)}}dispatchEvent(Ee,ne){Ee.dispatchEvent(ne)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,ne){return(ne=ne||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,ne){return"window"===ne?window:"document"===ne?Ee:"body"===ne?Ee.body:null}getBaseHref(Ee){const ne=function Te(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==ne?null:function Se(We){Re=Re||document.createElement("a"),Re.setAttribute("href",We);const Ee=Re.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(ne)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,_.Mx)(document.cookie,Ee)}}let Re,ye=null;const Ce=new K.OlP("TRANSITION_ID"),oe=[{provide:K.ip1,useFactory:function ae(We,Ee,ne){return()=>{ne.get(K.CZH).donePromise.then(()=>{const ke=(0,_.q)(),pt=Ee.querySelectorAll(`style[ng-transition="${We}"]`);for(let en=0;en<pt.length;en++)ke.remove(pt[en])})}},deps:[Ce,_.K0,K.zs3],multi:!0}];class Me{static init(){(0,K.VLi)(new Me)}addToWindow(Ee){K.dqk.getAngularTestability=(ke,pt=!0)=>{const en=Ee.findTestabilityInTree(ke,pt);if(null==en)throw new Error("Could not find testability for element.");return en},K.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),K.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),K.dqk.frameworkStabilizers||(K.dqk.frameworkStabilizers=[]),K.dqk.frameworkStabilizers.push(ke=>{const pt=K.dqk.getAllAngularTestabilities();let en=pt.length,yn=!1;const Pn=function(Hr){yn=yn||Hr,en--,0==en&&ke(yn)};pt.forEach(function(Hr){Hr.whenStable(Pn)})})}findTestabilityInTree(Ee,ne,ke){if(null==ne)return null;const pt=Ee.getTestability(ne);return null!=pt?pt:ke?(0,_.q)().isShadowRoot(ne)?this.findTestabilityInTree(Ee,ne.host,!0):this.findTestabilityInTree(Ee,ne.parentElement,!0):null}}let Tt=(()=>{class We{build(){return new XMLHttpRequest}}return We.\u0275fac=function(ne){return new(ne||We)},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})();const Xe=new K.OlP("EventManagerPlugins");let at=(()=>{class We{constructor(ne,ke){this._zone=ke,this._eventNameToPlugin=new Map,ne.forEach(pt=>pt.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,ke,pt){return this._findPluginFor(ke).addEventListener(ne,ke,pt)}addGlobalEventListener(ne,ke,pt){return this._findPluginFor(ke).addGlobalEventListener(ne,ke,pt)}getZone(){return this._zone}_findPluginFor(ne){const ke=this._eventNameToPlugin.get(ne);if(ke)return ke;const pt=this._plugins;for(let en=0;en<pt.length;en++){const yn=pt[en];if(yn.supports(ne))return this._eventNameToPlugin.set(ne,yn),yn}throw new Error(`No event manager plugin found for event ${ne}`)}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(Xe),K.LFG(K.R0b))},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})();class Ct{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,ne,ke){const pt=(0,_.q)().getGlobalEventTarget(this._doc,Ee);if(!pt)throw new Error(`Unsupported event target ${pt} for event ${ne}`);return this.addEventListener(pt,ne,ke)}}let Ke=(()=>{class We{constructor(){this._stylesSet=new Set}addStyles(ne){const ke=new Set;ne.forEach(pt=>{this._stylesSet.has(pt)||(this._stylesSet.add(pt),ke.add(pt))}),this.onStylesAdded(ke)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return We.\u0275fac=function(ne){return new(ne||We)},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})(),st=(()=>{class We extends Ke{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,ke,pt){ne.forEach(en=>{const yn=this._doc.createElement("style");yn.textContent=en,pt.push(ke.appendChild(yn))})}addHost(ne){const ke=[];this._addStylesToHost(this._stylesSet,ne,ke),this._hostNodes.set(ne,ke)}removeHost(ne){const ke=this._hostNodes.get(ne);ke&&ke.forEach(be),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((ke,pt)=>{this._addStylesToHost(ne,pt,ke)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(be))}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(_.K0))},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})();function be(We){(0,_.q)().remove(We)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$e=/%COMP%/g;function ue(We,Ee,ne){for(let ke=0;ke<Ee.length;ke++){let pt=Ee[ke];Array.isArray(pt)?ue(We,pt,ne):(pt=pt.replace($e,We),ne.push(pt))}return ne}function Pe(We){return Ee=>{if("__ngUnwrap__"===Ee)return We;!1===We(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let Ge=(()=>{class We{constructor(ne,ke,pt){this.eventManager=ne,this.sharedStylesHost=ke,this.appId=pt,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(ne)}createRenderer(ne,ke){if(!ne||!ke)return this.defaultRenderer;switch(ke.encapsulation){case K.ifc.Emulated:{let pt=this.rendererByCompId.get(ke.id);return pt||(pt=new Ye(this.eventManager,this.sharedStylesHost,ke,this.appId),this.rendererByCompId.set(ke.id,pt)),pt.applyToHost(ne),pt}case 1:case K.ifc.ShadowDom:return new At(this.eventManager,this.sharedStylesHost,ne,ke);default:if(!this.rendererByCompId.has(ke.id)){const pt=ue(ke.id,ke.styles,[]);this.sharedStylesHost.addStyles(pt),this.rendererByCompId.set(ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(at),K.LFG(st),K.LFG(K.AFp))},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})();class Ve{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ee,ne){return ne?document.createElementNS(ut[ne]||ne,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,ne){Ee.appendChild(ne)}insertBefore(Ee,ne,ke){Ee&&Ee.insertBefore(ne,ke)}removeChild(Ee,ne){Ee&&Ee.removeChild(ne)}selectRootElement(Ee,ne){let ke="string"==typeof Ee?document.querySelector(Ee):Ee;if(!ke)throw new Error(`The selector "${Ee}" did not match any elements`);return ne||(ke.textContent=""),ke}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,ne,ke,pt){if(pt){ne=pt+":"+ne;const en=ut[pt];en?Ee.setAttributeNS(en,ne,ke):Ee.setAttribute(ne,ke)}else Ee.setAttribute(ne,ke)}removeAttribute(Ee,ne,ke){if(ke){const pt=ut[ke];pt?Ee.removeAttributeNS(pt,ne):Ee.removeAttribute(`${ke}:${ne}`)}else Ee.removeAttribute(ne)}addClass(Ee,ne){Ee.classList.add(ne)}removeClass(Ee,ne){Ee.classList.remove(ne)}setStyle(Ee,ne,ke,pt){pt&(K.JOm.DashCase|K.JOm.Important)?Ee.style.setProperty(ne,ke,pt&K.JOm.Important?"important":""):Ee.style[ne]=ke}removeStyle(Ee,ne,ke){ke&K.JOm.DashCase?Ee.style.removeProperty(ne):Ee.style[ne]=""}setProperty(Ee,ne,ke){Ee[ne]=ke}setValue(Ee,ne){Ee.nodeValue=ne}listen(Ee,ne,ke){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,ne,Pe(ke)):this.eventManager.addEventListener(Ee,ne,Pe(ke))}}class Ye extends Ve{constructor(Ee,ne,ke,pt){super(Ee),this.component=ke;const en=ue(pt+"-"+ke.id,ke.styles,[]);ne.addStyles(en),this.contentAttr=function X(We){return"_ngcontent-%COMP%".replace($e,We)}(pt+"-"+ke.id),this.hostAttr=function tt(We){return"_nghost-%COMP%".replace($e,We)}(pt+"-"+ke.id)}applyToHost(Ee){super.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,ne){const ke=super.createElement(Ee,ne);return super.setAttribute(ke,this.contentAttr,""),ke}}class At extends Ve{constructor(Ee,ne,ke,pt){super(Ee),this.sharedStylesHost=ne,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const en=ue(pt.id,pt.styles,[]);for(let yn=0;yn<en.length;yn++){const Pn=document.createElement("style");Pn.textContent=en[yn],this.shadowRoot.appendChild(Pn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ee,ne){return super.appendChild(this.nodeOrShadowRoot(Ee),ne)}insertBefore(Ee,ne,ke){return super.insertBefore(this.nodeOrShadowRoot(Ee),ne,ke)}removeChild(Ee,ne){return super.removeChild(this.nodeOrShadowRoot(Ee),ne)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}}let ee=(()=>{class We extends Ct{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,ke,pt){return ne.addEventListener(ke,pt,!1),()=>this.removeEventListener(ne,ke,pt)}removeEventListener(ne,ke,pt){return ne.removeEventListener(ke,pt)}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(_.K0))},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})();const et=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xn={alt:We=>We.altKey,control:We=>We.ctrlKey,meta:We=>We.metaKey,shift:We=>We.shiftKey};let rn=(()=>{class We extends Ct{constructor(ne){super(ne)}supports(ne){return null!=We.parseEventName(ne)}addEventListener(ne,ke,pt){const en=We.parseEventName(ke),yn=We.eventCallback(en.fullKey,pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ne,en.domEventName,yn))}static parseEventName(ne){const ke=ne.toLowerCase().split("."),pt=ke.shift();if(0===ke.length||"keydown"!==pt&&"keyup"!==pt)return null;const en=We._normalizeKey(ke.pop());let yn="";if(et.forEach(Hr=>{const Fi=ke.indexOf(Hr);Fi>-1&&(ke.splice(Fi,1),yn+=Hr+".")}),yn+=en,0!=ke.length||0===en.length)return null;const Pn={};return Pn.domEventName=pt,Pn.fullKey=yn,Pn}static getEventFullKey(ne){let ke="",pt=function on(We){let Ee=We.key;if(null==Ee){if(Ee=We.keyIdentifier,null==Ee)return"Unidentified";Ee.startsWith("U+")&&(Ee=String.fromCharCode(parseInt(Ee.substring(2),16)),3===We.location&&Ut.hasOwnProperty(Ee)&&(Ee=Ut[Ee]))}return xt[Ee]||Ee}(ne);return pt=pt.toLowerCase()," "===pt?pt="space":"."===pt&&(pt="dot"),et.forEach(en=>{en!=pt&&xn[en](ne)&&(ke+=en+".")}),ke+=pt,ke}static eventCallback(ne,ke,pt){return en=>{We.getEventFullKey(en)===ne&&pt.runGuarded(()=>ke(en))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(_.K0))},We.\u0275prov=K.Yz7({token:We,factory:We.\u0275fac}),We})();const Kn=(0,K.eFA)(K._c5,"browser",[{provide:K.Lbi,useValue:_.bD},{provide:K.g9A,useValue:function Gn(){ce.makeCurrent(),Me.init()},multi:!0},{provide:_.K0,useFactory:function $n(){return(0,K.RDi)(document),document},deps:[]}]),Qn=[{provide:K.zSh,useValue:"root"},{provide:K.qLn,useFactory:function Bn(){return new K.qLn},deps:[]},{provide:Xe,useClass:ee,multi:!0,deps:[_.K0,K.R0b,K.Lbi]},{provide:Xe,useClass:rn,multi:!0,deps:[_.K0]},{provide:Ge,useClass:Ge,deps:[at,st,K.AFp]},{provide:K.FYo,useExisting:Ge},{provide:Ke,useExisting:st},{provide:st,useClass:st,deps:[_.K0]},{provide:K.dDg,useClass:K.dDg,deps:[K.R0b]},{provide:at,useClass:at,deps:[Xe,K.R0b]},{provide:_.JF,useClass:Tt,deps:[]}];let Cn=(()=>{class We{constructor(ne){if(ne)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ne){return{ngModule:We,providers:[{provide:K.AFp,useValue:ne.appId},{provide:Ce,useExisting:K.AFp},oe]}}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(We,12))},We.\u0275mod=K.oAB({type:We}),We.\u0275inj=K.cJS({providers:Qn,imports:[_.ez,K.hGG]}),We})();"undefined"!=typeof window&&window;let gn=(()=>{class We{}return We.\u0275fac=function(ne){return new(ne||We)},We.\u0275prov=K.Yz7({token:We,factory:function(ne){let ke=null;return ke=ne?new(ne||We):K.LFG(mr),ke},providedIn:"root"}),We})(),mr=(()=>{class We extends gn{constructor(ne){super(),this._doc=ne}sanitize(ne,ke){if(null==ke)return null;switch(ne){case K.q3G.NONE:return ke;case K.q3G.HTML:return(0,K.qzn)(ke,"HTML")?(0,K.z3N)(ke):(0,K.EiD)(this._doc,String(ke)).toString();case K.q3G.STYLE:return(0,K.qzn)(ke,"Style")?(0,K.z3N)(ke):ke;case K.q3G.SCRIPT:if((0,K.qzn)(ke,"Script"))return(0,K.z3N)(ke);throw new Error("unsafe value used in a script context");case K.q3G.URL:return(0,K.yhl)(ke),(0,K.qzn)(ke,"URL")?(0,K.z3N)(ke):(0,K.mCW)(String(ke));case K.q3G.RESOURCE_URL:if((0,K.qzn)(ke,"ResourceURL"))return(0,K.z3N)(ke);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ne} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ne){return(0,K.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,K.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,K.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,K.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,K.pB0)(ne)}}return We.\u0275fac=function(ne){return new(ne||We)(K.LFG(_.K0))},We.\u0275prov=K.Yz7({token:We,factory:function(ne){let ke=null;return ke=ne?new ne:function Zn(We){return new mr(We.get(_.K0))}(K.LFG(K.zs3)),ke},providedIn:"root"}),We})()},7954:(Ft,je,L)=>{L.d(je,{F0:()=>Vt,Od:()=>Ks,yS:()=>Ci,Bz:()=>ca,lC:()=>vs});var _=L(5e3),K=L(8306),W=L(4742),ce=L(8996),ye=L(4671),Te=L(3268),Re=L(7669),Se=L(1810),Ce=L(5403),ae=L(9672);function Tt(b,w,E){b?(0,ae.f)(E,b,w):w()}var Xe=L(576);function at(b,w){const E=(0,Xe.m)(b)?b:()=>b,A=x=>x.error(E());return new K.y(w?x=>w.schedule(A,0,x):A)}var Ct=L(727),Ke=L(4482);function st(){return(0,Ke.e)((b,w)=>{let E=null;b._refCount++;const A=(0,Ce.x)(w,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(E=null);const x=b._connection,B=E;E=null,x&&(!B||x===B)&&x.unsubscribe(),w.unsubscribe()});b.subscribe(A),A.closed||(E=b.connect())})}class be extends K.y{constructor(w,E){super(),this.source=w,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Ke.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Ct.w0;const E=this.getSubject();w.add(this.source.subscribe((0,Ce.x)(E,void 0,()=>{this._teardown(),E.complete()},A=>{this._teardown(),E.error(A)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Ct.w0.EMPTY)}return w}refCount(){return st()(this)}}var ut=L(9646),$e=L(1135),ve=L(6805),Ue=L(7272),wt=L(9770),vt=L(515),X=L(7579),tt=L(8421);function ue(b){return(0,Ke.e)((w,E)=>{let B,A=null,x=!1;A=w.subscribe((0,Ce.x)(E,void 0,void 0,re=>{B=(0,tt.Xf)(b(re,ue(b)(w))),A?(A.unsubscribe(),A=null,B.subscribe(E)):x=!0})),x&&(A.unsubscribe(),A=null,B.subscribe(E))})}var Pe=L(9300);function Ne(b){return b<=0?()=>vt.E:(0,Ke.e)((w,E)=>{let A=[];w.subscribe((0,Ce.x)(E,x=>{A.push(x),b<A.length&&A.shift()},()=>{for(const x of A)E.next(x);E.complete()},void 0,()=>{A=null}))})}var Ge=L(8068),Ve=L(6590),Ye=L(4004),At=L(3900),ee=L(5698),et=L(8675),gt=L(5026),xt=L(4351),Ut=L(590),xn=L(5577),rn=L(8505),on=L(8189),Gn=L(9808);class Bn{constructor(w,E){this.id=w,this.url=E}}class $n extends Bn{constructor(w,E,A="imperative",x=null){super(w,E),this.navigationTrigger=A,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nn extends Bn{constructor(w,E,A){super(w,E),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kn extends Bn{constructor(w,E,A){super(w,E),this.reason=A}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qn extends Bn{constructor(w,E,A){super(w,E),this.error=A}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cn extends Bn{constructor(w,E,A,x){super(w,E),this.urlAfterRedirects=A,this.state=x}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mn extends Bn{constructor(w,E,A,x){super(w,E),this.urlAfterRedirects=A,this.state=x}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jt extends Bn{constructor(w,E,A,x,B){super(w,E),this.urlAfterRedirects=A,this.state=x,this.shouldActivate=B}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fr extends Bn{constructor(w,E,A,x){super(w,E),this.urlAfterRedirects=A,this.state=x}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends Bn{constructor(w,E,A,x){super(w,E),this.urlAfterRedirects=A,this.state=x}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr{constructor(w){this.route=w}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kr{constructor(w){this.route=w}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ti{constructor(w){this.snapshot=w}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(w){this.snapshot=w}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class we{constructor(w){this.snapshot=w}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xe{constructor(w){this.snapshot=w}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _t{constructor(w,E,A){this.routerEvent=w,this.position=E,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ze="primary";class mt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E[0]:E}return null}getAll(w){if(this.has(w)){const E=this.params[w];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Nt(b){return new mt(b)}const wn="ngNavigationCancelingError";function pn(b){const w=Error("NavigationCancelingError: "+b);return w[wn]=!0,w}function Nr(b,w,E){const A=E.path.split("/");if(A.length>b.length||"full"===E.pathMatch&&(w.hasChildren()||A.length<b.length))return null;const x={};for(let B=0;B<A.length;B++){const re=A[B],De=b[B];if(re.startsWith(":"))x[re.substring(1)]=De;else if(re!==De.path)return null}return{consumed:b.slice(0,A.length),posParams:x}}function Un(b,w){const E=b?Object.keys(b):void 0,A=w?Object.keys(w):void 0;if(!E||!A||E.length!=A.length)return!1;let x;for(let B=0;B<E.length;B++)if(x=E[B],!ie(b[x],w[x]))return!1;return!0}function ie(b,w){if(Array.isArray(b)&&Array.isArray(w)){if(b.length!==w.length)return!1;const E=[...b].sort(),A=[...w].sort();return E.every((x,B)=>A[B]===x)}return b===w}function me(b){return Array.prototype.concat.apply([],b)}function Ie(b){return b.length>0?b[b.length-1]:null}function fe(b,w){for(const E in b)b.hasOwnProperty(E)&&w(b[E],E)}function Be(b){return(0,_.CqO)(b)?b:(0,_.QGY)(b)?(0,ce.D)(Promise.resolve(b)):(0,ut.of)(b)}const Bt={exact:function gn(b,w,E){if(!en(b.segments,w.segments)||!We(b.segments,w.segments,E)||b.numberOfChildren!==w.numberOfChildren)return!1;for(const A in w.children)if(!b.children[A]||!gn(b.children[A],w.children[A],E))return!1;return!0},subset:mr},sn={exact:function gr(b,w){return Un(b,w)},subset:function Zn(b,w){return Object.keys(w).length<=Object.keys(b).length&&Object.keys(w).every(E=>ie(b[E],w[E]))},ignored:()=>!0};function Yt(b,w,E){return Bt[E.paths](b.root,w.root,E.matrixParams)&&sn[E.queryParams](b.queryParams,w.queryParams)&&!("exact"===E.fragment&&b.fragment!==w.fragment)}function mr(b,w,E){return gi(b,w,w.segments,E)}function gi(b,w,E,A){if(b.segments.length>E.length){const x=b.segments.slice(0,E.length);return!(!en(x,E)||w.hasChildren()||!We(x,E,A))}if(b.segments.length===E.length){if(!en(b.segments,E)||!We(b.segments,E,A))return!1;for(const x in w.children)if(!b.children[x]||!mr(b.children[x],w.children[x],A))return!1;return!0}{const x=E.slice(0,b.segments.length),B=E.slice(b.segments.length);return!!(en(b.segments,x)&&We(b.segments,x,A)&&b.children[ze])&&gi(b.children[ze],w,B,A)}}function We(b,w,E){return w.every((A,x)=>sn[E](b[x].parameters,A.parameters))}class Ee{constructor(w,E,A){this.root=w,this.queryParams=E,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return Fi.serialize(this)}}class ne{constructor(w,E){this.segments=w,this.children=E,this.parent=null,fe(E,(A,x)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class ke{constructor(w,E){this.path=w,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return wi(this)}}function en(b,w){return b.length===w.length&&b.every((E,A)=>E.path===w[A].path)}class Pn{}class Hr{parse(w){const E=new ns(w);return new Ee(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(w){const E=`/${ai(w.root,!0)}`,A=function sr(b){const w=Object.keys(b).map(E=>{const A=b[E];return Array.isArray(A)?A.map(x=>`${ni(E)}=${ni(x)}`).join("&"):`${ni(E)}=${ni(A)}`}).filter(E=>!!E);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${E}${A}${"string"==typeof w.fragment?`#${function ir(b){return encodeURI(b)}(w.fragment)}`:""}`}}const Fi=new Hr;function vr(b){return b.segments.map(w=>wi(w)).join("/")}function ai(b,w){if(!b.hasChildren())return vr(b);if(w){const E=b.children[ze]?ai(b.children[ze],!1):"",A=[];return fe(b.children,(x,B)=>{B!==ze&&A.push(`${B}:${ai(x,!1)}`)}),A.length>0?`${E}(${A.join("//")})`:E}{const E=function yn(b,w){let E=[];return fe(b.children,(A,x)=>{x===ze&&(E=E.concat(w(A,x)))}),fe(b.children,(A,x)=>{x!==ze&&(E=E.concat(w(A,x)))}),E}(b,(A,x)=>x===ze?[ai(b.children[ze],!1)]:[`${x}:${ai(A,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[ze]?`${vr(b)}/${E[0]}`:`${vr(b)}/(${E.join("//")})`}}function Mr(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ni(b){return Mr(b).replace(/%3B/gi,";")}function Pt(b){return Mr(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tn(b){return decodeURIComponent(b)}function Xn(b){return tn(b.replace(/\+/g,"%20"))}function wi(b){return`${Pt(b.path)}${function Ii(b){return Object.keys(b).map(w=>`;${Pt(w)}=${Pt(b[w])}`).join("")}(b.parameters)}`}const Gr=/^[^\/()?;=#]+/;function dr(b){const w=b.match(Gr);return w?w[0]:""}const ui=/^[^=?&#]+/,In=/^[^&#]+/;class ns{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(w.length>0||Object.keys(E).length>0)&&(A[ze]=new ne(w,E)),A}parseSegment(){const w=dr(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(w),new ke(tn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const E=dr(this.remaining);if(!E)return;this.capture(E);let A="";if(this.consumeOptional("=")){const x=dr(this.remaining);x&&(A=x,this.capture(A))}w[tn(E)]=tn(A)}parseQueryParam(w){const E=function Cr(b){const w=b.match(ui);return w?w[0]:""}(this.remaining);if(!E)return;this.capture(E);let A="";if(this.consumeOptional("=")){const re=function bi(b){const w=b.match(In);return w?w[0]:""}(this.remaining);re&&(A=re,this.capture(A))}const x=Xn(E),B=Xn(A);if(w.hasOwnProperty(x)){let re=w[x];Array.isArray(re)||(re=[re],w[x]=re),re.push(B)}else w[x]=B}parseParens(w){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=dr(this.remaining),x=this.remaining[A.length];if("/"!==x&&")"!==x&&";"!==x)throw new Error(`Cannot parse url '${this.url}'`);let B;A.indexOf(":")>-1?(B=A.substr(0,A.indexOf(":")),this.capture(B),this.capture(":")):w&&(B=ze);const re=this.parseChildren();E[B]=1===Object.keys(re).length?re[ze]:new ne([],re),this.consumeOptional("//")}return E}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new Error(`Expected "${w}".`)}}class Es{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const E=this.pathFromRoot(w);return E.length>1?E[E.length-2]:null}children(w){const E=li(w,this._root);return E?E.children.map(A=>A.value):[]}firstChild(w){const E=li(w,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(w){const E=Ur(w,this._root);return E.length<2?[]:E[E.length-2].children.map(x=>x.value).filter(x=>x!==w)}pathFromRoot(w){return Ur(w,this._root).map(E=>E.value)}}function li(b,w){if(b===w.value)return w;for(const E of w.children){const A=li(b,E);if(A)return A}return null}function Ur(b,w){if(b===w.value)return[w];for(const E of w.children){const A=Ur(b,E);if(A.length)return A.unshift(w),A}return[]}class Yr{constructor(w,E){this.value=w,this.children=E}toString(){return`TreeNode(${this.value})`}}function ci(b){const w={};return b&&b.children.forEach(E=>w[E.value.outlet]=E),w}class Qr extends Es{constructor(w,E){super(w),this.snapshot=E,di(this,w)}toString(){return this.snapshot.toString()}}function er(b,w){const E=function Ui(b,w){const re=new rs([],{},{},"",{},ze,w,null,b.root,-1,{});return new ws("",new Yr(re,[]))}(b,w),A=new $e.X([new ke("",{})]),x=new $e.X({}),B=new $e.X({}),re=new $e.X({}),De=new $e.X(""),ht=new xi(A,x,re,De,B,ze,w,E.root);return ht.snapshot=E.root,new Qr(new Yr(ht,[]),E)}class xi{constructor(w,E,A,x,B,re,De,ht){this.url=w,this.params=E,this.queryParams=A,this.fragment=x,this.data=B,this.outlet=re,this.component=De,this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(w=>Nt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(w=>Nt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sr(b,w="emptyOnly"){const E=b.pathFromRoot;let A=0;if("always"!==w)for(A=E.length-1;A>=1;){const x=E[A],B=E[A-1];if(x.routeConfig&&""===x.routeConfig.path)A--;else{if(B.component)break;A--}}return function mi(b){return b.reduce((w,E)=>({params:Object.assign(Object.assign({},w.params),E.params),data:Object.assign(Object.assign({},w.data),E.data),resolve:Object.assign(Object.assign({},w.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(A))}class rs{constructor(w,E,A,x,B,re,De,ht,Xt,qn,fn){this.url=w,this.params=E,this.queryParams=A,this.fragment=x,this.data=B,this.outlet=re,this.component=De,this.routeConfig=ht,this._urlSegment=Xt,this._lastPathIndex=qn,this._resolve=fn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ws extends Es{constructor(w,E){super(E),this.url=w,di(this,E)}toString(){return qi(this._root)}}function di(b,w){w.value._routerState=b,w.children.forEach(E=>di(b,E))}function qi(b){const w=b.children.length>0?` { ${b.children.map(qi).join(", ")} } `:"";return`${b.value}${w}`}function Wr(b){if(b.snapshot){const w=b.snapshot,E=b._futureSnapshot;b.snapshot=E,Un(w.queryParams,E.queryParams)||b.queryParams.next(E.queryParams),w.fragment!==E.fragment&&b.fragment.next(E.fragment),Un(w.params,E.params)||b.params.next(E.params),function cr(b,w){if(b.length!==w.length)return!1;for(let E=0;E<b.length;++E)if(!Un(b[E],w[E]))return!1;return!0}(w.url,E.url)||b.url.next(E.url),Un(w.data,E.data)||b.data.next(E.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function is(b,w){const E=Un(b.params,w.params)&&function pt(b,w){return en(b,w)&&b.every((E,A)=>Un(E.parameters,w[A].parameters))}(b.url,w.url);return E&&!(!b.parent!=!w.parent)&&(!b.parent||is(b.parent,w.parent))}function yr(b,w,E){if(E&&b.shouldReuseRoute(w.value,E.value.snapshot)){const A=E.value;A._futureSnapshot=w.value;const x=function ss(b,w,E){return w.children.map(A=>{for(const x of E.children)if(b.shouldReuseRoute(A.value,x.value.snapshot))return yr(b,A,x);return yr(b,A)})}(b,w,E);return new Yr(A,x)}{if(b.shouldAttach(w.value)){const B=b.retrieve(w.value);if(null!==B){const re=B.route;return re.value._futureSnapshot=w.value,re.children=w.children.map(De=>yr(b,De)),re}}const A=function ps(b){return new xi(new $e.X(b.url),new $e.X(b.params),new $e.X(b.queryParams),new $e.X(b.fragment),new $e.X(b.data),b.outlet,b.component,b)}(w.value),x=w.children.map(B=>yr(b,B));return new Yr(A,x)}}function ge(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Je(b){return"object"==typeof b&&null!=b&&b.outlets}function yt(b,w,E,A,x){let B={};if(A&&fe(A,(De,ht)=>{B[ht]=Array.isArray(De)?De.map(Xt=>`${Xt}`):`${De}`}),b===w)return new Ee(E,B,x);const re=kt(b,w,E);return new Ee(re,B,x)}function kt(b,w,E){const A={};return fe(b.children,(x,B)=>{A[B]=x===w?E:kt(x,w,E)}),new ne(b.segments,A)}class zt{constructor(w,E,A){if(this.isAbsolute=w,this.numberOfDoubleDots=E,this.commands=A,w&&A.length>0&&ge(A[0]))throw new Error("Root segment cannot have matrix parameters");const x=A.find(Je);if(x&&x!==Ie(A))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pr{constructor(w,E,A){this.segmentGroup=w,this.processChildren=E,this.index=A}}function Zi(b,w,E){if(b||(b=new ne([],{})),0===b.segments.length&&b.hasChildren())return os(b,w,E);const A=function Di(b,w,E){let A=0,x=w;const B={match:!1,pathIndex:0,commandIndex:0};for(;x<b.segments.length;){if(A>=E.length)return B;const re=b.segments[x],De=E[A];if(Je(De))break;const ht=`${De}`,Xt=A<E.length-1?E[A+1]:null;if(x>0&&void 0===ht)break;if(ht&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!hi(ht,Xt,re))return B;A+=2}else{if(!hi(ht,{},re))return B;A++}x++}return{match:!0,pathIndex:x,commandIndex:A}}(b,w,E),x=E.slice(A.commandIndex);if(A.match&&A.pathIndex<b.segments.length){const B=new ne(b.segments.slice(0,A.pathIndex),{});return B.children[ze]=new ne(b.segments.slice(A.pathIndex),b.children),os(B,0,x)}return A.match&&0===x.length?new ne(b.segments,{}):A.match&&!b.hasChildren()?Yi(b,w,E):A.match?os(b,0,x):Yi(b,w,E)}function os(b,w,E){if(0===E.length)return new ne(b.segments,{});{const A=function gs(b){return Je(b[0])?b[0].outlets:{[ze]:b}}(E),x={};return fe(A,(B,re)=>{"string"==typeof B&&(B=[B]),null!==B&&(x[re]=Zi(b.children[re],w,B))}),fe(b.children,(B,re)=>{void 0===A[re]&&(x[re]=B)}),new ne(b.segments,x)}}function Yi(b,w,E){const A=b.segments.slice(0,w);let x=0;for(;x<E.length;){const B=E[x];if(Je(B)){const ht=no(B.outlets);return new ne(A,ht)}if(0===x&&ge(E[0])){A.push(new ke(b.segments[w].path,_o(E[0]))),x++;continue}const re=Je(B)?B.outlets[ze]:`${B}`,De=x<E.length-1?E[x+1]:null;re&&De&&ge(De)?(A.push(new ke(re,_o(De))),x+=2):(A.push(new ke(re,{})),x++)}return new ne(A,{})}function no(b){const w={};return fe(b,(E,A)=>{"string"==typeof E&&(E=[E]),null!==E&&(w[A]=Yi(new ne([],{}),0,E))}),w}function _o(b){const w={};return fe(b,(E,A)=>w[A]=`${E}`),w}function hi(b,w,E){return b==E.path&&Un(w,E.parameters)}class Bi{constructor(w,E,A,x){this.routeReuseStrategy=w,this.futureState=E,this.currState=A,this.forwardEvent=x}activate(w){const E=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,A,w),Wr(this.futureState.root),this.activateChildRoutes(E,A,w)}deactivateChildRoutes(w,E,A){const x=ci(E);w.children.forEach(B=>{const re=B.value.outlet;this.deactivateRoutes(B,x[re],A),delete x[re]}),fe(x,(B,re)=>{this.deactivateRouteAndItsChildren(B,A)})}deactivateRoutes(w,E,A){const x=w.value,B=E?E.value:null;if(x===B)if(x.component){const re=A.getContext(x.outlet);re&&this.deactivateChildRoutes(w,E,re.children)}else this.deactivateChildRoutes(w,E,A);else B&&this.deactivateRouteAndItsChildren(E,A)}deactivateRouteAndItsChildren(w,E){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,E):this.deactivateRouteAndOutlet(w,E)}detachAndStoreRouteSubtree(w,E){const A=E.getContext(w.value.outlet),x=A&&w.value.component?A.children:E,B=ci(w);for(const re of Object.keys(B))this.deactivateRouteAndItsChildren(B[re],x);if(A&&A.outlet){const re=A.outlet.detach(),De=A.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:re,route:w,contexts:De})}}deactivateRouteAndOutlet(w,E){const A=E.getContext(w.value.outlet),x=A&&w.value.component?A.children:E,B=ci(w);for(const re of Object.keys(B))this.deactivateRouteAndItsChildren(B[re],x);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(w,E,A){const x=ci(E);w.children.forEach(B=>{this.activateRoutes(B,x[B.value.outlet],A),this.forwardEvent(new xe(B.value.snapshot))}),w.children.length&&this.forwardEvent(new ct(w.value.snapshot))}activateRoutes(w,E,A){const x=w.value,B=E?E.value:null;if(Wr(x),x===B)if(x.component){const re=A.getOrCreateContext(x.outlet);this.activateChildRoutes(w,E,re.children)}else this.activateChildRoutes(w,E,A);else if(x.component){const re=A.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const De=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),re.children.onOutletReAttached(De.contexts),re.attachRef=De.componentRef,re.route=De.route.value,re.outlet&&re.outlet.attach(De.componentRef,De.route.value),Wr(De.route.value),this.activateChildRoutes(w,null,re.children)}else{const De=function Fs(b){for(let w=b.parent;w;w=w.parent){const E=w.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(x.snapshot),ht=De?De.module.componentFactoryResolver:null;re.attachRef=null,re.route=x,re.resolver=ht,re.outlet&&re.outlet.activateWith(x,ht),this.activateChildRoutes(w,null,re.children)}}else this.activateChildRoutes(w,null,A)}}class Hs{constructor(w,E){this.routes=w,this.module=E}}function ys(b){return"function"==typeof b}function Jr(b){return b instanceof Ee}const Vi=Symbol("INITIAL_VALUE");function yi(){return(0,At.w)(b=>function oe(...b){const w=(0,Re.yG)(b),E=(0,Re.jO)(b),{args:A,keys:x}=(0,W.D)(b);if(0===A.length)return(0,ce.D)([],w);const B=new K.y(function Me(b,w,E=ye.y){return A=>{Tt(w,()=>{const{length:x}=b,B=new Array(x);let re=x,De=x;for(let ht=0;ht<x;ht++)Tt(w,()=>{const Xt=(0,ce.D)(b[ht],w);let qn=!1;Xt.subscribe((0,Ce.x)(A,fn=>{B[ht]=fn,qn||(qn=!0,De--),De||A.next(E(B.slice()))},()=>{--re||A.complete()}))},A)},A)}}(A,w,x?re=>(0,Se.n)(x,re):ye.y));return E?B.pipe((0,Te.Z)(E)):B}(b.map(w=>w.pipe((0,ee.q)(1),(0,et.O)(Vi)))).pipe((0,gt.R)((w,E)=>{let A=!1;return E.reduce((x,B,re)=>x!==Vi?x:(B===Vi&&(A=!0),A||!1!==B&&re!==E.length-1&&!Jr(B)?x:B),w)},Vi),(0,Pe.h)(w=>w!==Vi),(0,Ye.U)(w=>Jr(w)?w:!0===w),(0,ee.q)(1)))}class vi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qi,this.attachRef=null}}class Qi{constructor(){this.contexts=new Map}onChildOutletCreated(w,E){const A=this.getOrCreateContext(w);A.outlet=E,this.contexts.set(w,A)}onChildOutletDestroyed(w){const E=this.getContext(w);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let E=this.getContext(w);return E||(E=new vi,this.contexts.set(w,E)),E}getContext(w){return this.contexts.get(w)||null}}let vs=(()=>{class b{constructor(E,A,x,B,re){this.parentContexts=E,this.location=A,this.resolver=x,this.changeDetector=re,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=B||ze,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,A){this.activated=E,this._activatedRoute=A,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,A){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const re=(A=A||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),De=this.parentContexts.getOrCreateContext(this.name).children,ht=new ji(E,De,this.location.injector);this.activated=this.location.createComponent(re,this.location.length,ht),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(E){return new(E||b)(_.Y36(Qi),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},b.\u0275dir=_.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class ji{constructor(w,E,A){this.route=w,this.childContexts=E,this.parent=A}get(w,E){return w===xi?this.route:w===Qi?this.childContexts:this.parent.get(w,E)}}let ro=(()=>{class b{}return b.\u0275fac=function(E){return new(E||b)},b.\u0275cmp=_.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,A){1&E&&_._UZ(0,"router-outlet")},directives:[vs],encapsulation:2}),b})();function as(b,w=""){for(let E=0;E<b.length;E++){const A=b[E];Is(A,Jn(w,A))}}function Is(b,w){b.children&&as(b.children,w)}function Jn(b,w){return w?b||w.path?b&&!w.path?`${b}/`:!b&&w.path?w.path:`${b}/${w.path}`:"":b}function O(b){const w=b.children&&b.children.map(O),E=w?Object.assign(Object.assign({},b),{children:w}):Object.assign({},b);return!E.component&&(w||E.loadChildren)&&E.outlet&&E.outlet!==ze&&(E.component=ro),E}function G(b){return b.outlet||ze}function P(b,w){const E=b.filter(A=>G(A)===w);return E.push(...b.filter(A=>G(A)!==w)),E}const Q={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pe(b,w,E){var A;if(""===w.path)return"full"===w.pathMatch&&(b.hasChildren()||E.length>0)?Object.assign({},Q):{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const B=(w.matcher||Nr)(E,b,w);if(!B)return Object.assign({},Q);const re={};fe(B.posParams,(ht,Xt)=>{re[Xt]=ht.path});const De=B.consumed.length>0?Object.assign(Object.assign({},re),B.consumed[B.consumed.length-1].parameters):re;return{matched:!0,consumedSegments:B.consumed,remainingSegments:E.slice(B.consumed.length),parameters:De,positionalParamSegments:null!==(A=B.posParams)&&void 0!==A?A:{}}}function it(b,w,E,A,x="corrected"){if(E.length>0&&function bn(b,w,E){return E.some(A=>kn(b,w,A)&&G(A)!==ze)}(b,E,A)){const re=new ne(w,function Qt(b,w,E,A){const x={};x[ze]=A,A._sourceSegment=b,A._segmentIndexShift=w.length;for(const B of E)if(""===B.path&&G(B)!==ze){const re=new ne([],{});re._sourceSegment=b,re._segmentIndexShift=w.length,x[G(B)]=re}return x}(b,w,A,new ne(E,b.children)));return re._sourceSegment=b,re._segmentIndexShift=w.length,{segmentGroup:re,slicedSegments:[]}}if(0===E.length&&function Yn(b,w,E){return E.some(A=>kn(b,w,A))}(b,E,A)){const re=new ne(b.segments,function ft(b,w,E,A,x,B){const re={};for(const De of A)if(kn(b,E,De)&&!x[G(De)]){const ht=new ne([],{});ht._sourceSegment=b,ht._segmentIndexShift="legacy"===B?b.segments.length:w.length,re[G(De)]=ht}return Object.assign(Object.assign({},x),re)}(b,w,E,A,b.children,x));return re._sourceSegment=b,re._segmentIndexShift=w.length,{segmentGroup:re,slicedSegments:E}}const B=new ne(b.segments,b.children);return B._sourceSegment=b,B._segmentIndexShift=w.length,{segmentGroup:B,slicedSegments:E}}function kn(b,w,E){return(!(b.hasChildren()||w.length>0)||"full"!==E.pathMatch)&&""===E.path}function jn(b,w,E,A){return!!(G(b)===A||A!==ze&&kn(w,E,b))&&("**"===b.path||pe(w,b,E).matched)}function kr(b,w,E){return 0===w.length&&!b.children[E]}class tr{constructor(w){this.segmentGroup=w||null}}class nr{constructor(w){this.urlTree=w}}function Pi(b){return at(new tr(b))}function ri(b){return at(new nr(b))}class Rs{constructor(w,E,A,x,B){this.configLoader=E,this.urlSerializer=A,this.urlTree=x,this.config=B,this.allowRedirects=!0,this.ngModule=w.get(_.h0i)}apply(){const w=it(this.urlTree.root,[],[],this.config).segmentGroup,E=new ne(w.segments,w.children);return this.expandSegmentGroup(this.ngModule,this.config,E,ze).pipe((0,Ye.U)(B=>this.createUrlTree(wo(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ue(B=>{if(B instanceof nr)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof tr?this.noMatchError(B):B}))}match(w){return this.expandSegmentGroup(this.ngModule,this.config,w.root,ze).pipe((0,Ye.U)(x=>this.createUrlTree(wo(x),w.queryParams,w.fragment))).pipe(ue(x=>{throw x instanceof tr?this.noMatchError(x):x}))}noMatchError(w){return new Error(`Cannot match any routes. URL Segment: '${w.segmentGroup}'`)}createUrlTree(w,E,A){const x=w.segments.length>0?new ne([],{[ze]:w}):w;return new Ee(x,E,A)}expandSegmentGroup(w,E,A,x){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(w,E,A).pipe((0,Ye.U)(B=>new ne([],B))):this.expandSegment(w,A,E,A.segments,x,!0)}expandChildren(w,E,A){const x=[];for(const B of Object.keys(A.children))"primary"===B?x.unshift(B):x.push(B);return(0,ce.D)(x).pipe((0,xt.b)(B=>{const re=A.children[B],De=P(E,B);return this.expandSegmentGroup(w,De,re,B).pipe((0,Ye.U)(ht=>({segment:ht,outlet:B})))}),(0,gt.R)((B,re)=>(B[re.outlet]=re.segment,B),{}),function Et(b,w){const E=arguments.length>=2;return A=>A.pipe(b?(0,Pe.h)((x,B)=>b(x,B,A)):ye.y,Ne(1),E?(0,Ve.d)(w):(0,Ge.T)(()=>new ve.K))}())}expandSegment(w,E,A,x,B,re){return(0,ce.D)(A).pipe((0,xt.b)(De=>this.expandSegmentAgainstRoute(w,E,A,De,x,B,re).pipe(ue(Xt=>{if(Xt instanceof tr)return(0,ut.of)(null);throw Xt}))),(0,Ut.P)(De=>!!De),ue((De,ht)=>{if(De instanceof ve.K||"EmptyError"===De.name)return kr(E,x,B)?(0,ut.of)(new ne([],{})):Pi(E);throw De}))}expandSegmentAgainstRoute(w,E,A,x,B,re,De){return jn(x,E,B,re)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(w,E,x,B,re):De&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,E,A,x,B,re):Pi(E):Pi(E)}expandSegmentAgainstRouteUsingRedirect(w,E,A,x,B,re){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,A,x,re):this.expandRegularSegmentAgainstRouteUsingRedirect(w,E,A,x,B,re)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,E,A,x){const B=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?ri(B):this.lineralizeSegments(A,B).pipe((0,xn.z)(re=>{const De=new ne(re,{});return this.expandSegment(w,De,E,re,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,E,A,x,B,re){const{matched:De,consumedSegments:ht,remainingSegments:Xt,positionalParamSegments:qn}=pe(E,x,B);if(!De)return Pi(E);const fn=this.applyRedirectCommands(ht,x.redirectTo,qn);return x.redirectTo.startsWith("/")?ri(fn):this.lineralizeSegments(x,fn).pipe((0,xn.z)(Ar=>this.expandSegment(w,E,A,Ar.concat(Xt),re,!1)))}matchSegmentAgainstRoute(w,E,A,x,B){if("**"===A.path)return A.loadChildren?(A._loadedConfig?(0,ut.of)(A._loadedConfig):this.configLoader.load(w.injector,A)).pipe((0,Ye.U)(fn=>(A._loadedConfig=fn,new ne(x,{})))):(0,ut.of)(new ne(x,{}));const{matched:re,consumedSegments:De,remainingSegments:ht}=pe(E,A,x);return re?this.getChildConfig(w,A,x).pipe((0,xn.z)(qn=>{const fn=qn.module,Ar=qn.routes,{segmentGroup:Rr,slicedSegments:cs}=it(E,De,ht,Ar),$o=new ne(Rr.segments,Rr.children);if(0===cs.length&&$o.hasChildren())return this.expandChildren(fn,Ar,$o).pipe((0,Ye.U)(uo=>new ne(De,uo)));if(0===Ar.length&&0===cs.length)return(0,ut.of)(new ne(De,{}));const ha=G(A)===B;return this.expandSegment(fn,$o,Ar,cs,ha?ze:B,!0).pipe((0,Ye.U)(Dn=>new ne(De.concat(Dn.segments),Dn.children)))})):Pi(E)}getChildConfig(w,E,A){return E.children?(0,ut.of)(new Hs(E.children,w)):E.loadChildren?void 0!==E._loadedConfig?(0,ut.of)(E._loadedConfig):this.runCanLoadGuards(w.injector,E,A).pipe((0,xn.z)(x=>x?this.configLoader.load(w.injector,E).pipe((0,Ye.U)(B=>(E._loadedConfig=B,B))):function $i(b){return at(pn(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))}(E))):(0,ut.of)(new Hs([],w))}runCanLoadGuards(w,E,A){const x=E.canLoad;if(!x||0===x.length)return(0,ut.of)(!0);const B=x.map(re=>{const De=w.get(re);let ht;if(function Us(b){return b&&ys(b.canLoad)}(De))ht=De.canLoad(E,A);else{if(!ys(De))throw new Error("Invalid CanLoad guard");ht=De(E,A)}return Be(ht)});return(0,ut.of)(B).pipe(yi(),(0,rn.b)(re=>{if(!Jr(re))return;const De=pn(`Redirecting to "${this.urlSerializer.serialize(re)}"`);throw De.url=re,De}),(0,Ye.U)(re=>!0===re))}lineralizeSegments(w,E){let A=[],x=E.root;for(;;){if(A=A.concat(x.segments),0===x.numberOfChildren)return(0,ut.of)(A);if(x.numberOfChildren>1||!x.children[ze])return at(new Error(`Only absolute redirects can have named outlets. redirectTo: '${w.redirectTo}'`));x=x.children[ze]}}applyRedirectCommands(w,E,A){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),w,A)}applyRedirectCreatreUrlTree(w,E,A,x){const B=this.createSegmentGroup(w,E.root,A,x);return new Ee(B,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(w,E){const A={};return fe(w,(x,B)=>{if("string"==typeof x&&x.startsWith(":")){const De=x.substring(1);A[B]=E[De]}else A[B]=x}),A}createSegmentGroup(w,E,A,x){const B=this.createSegments(w,E.segments,A,x);let re={};return fe(E.children,(De,ht)=>{re[ht]=this.createSegmentGroup(w,De,A,x)}),new ne(B,re)}createSegments(w,E,A,x){return E.map(B=>B.path.startsWith(":")?this.findPosParam(w,B,x):this.findOrReturn(B,A))}findPosParam(w,E,A){const x=A[E.path.substring(1)];if(!x)throw new Error(`Cannot redirect to '${w}'. Cannot find '${E.path}'.`);return x}findOrReturn(w,E){let A=0;for(const x of E){if(x.path===w.path)return E.splice(A),x;A++}return w}}function wo(b){const w={};for(const A of Object.keys(b.children)){const B=wo(b.children[A]);(B.segments.length>0||B.hasChildren())&&(w[A]=B)}return function bs(b){if(1===b.numberOfChildren&&b.children[ze]){const w=b.children[ze];return new ne(b.segments.concat(w.segments),w.children)}return b}(new ne(b.segments,w))}class Io{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class xs{constructor(w,E){this.component=w,this.route=E}}function Dt(b,w,E){const A=b._root;return Bs(A,w?w._root:null,E,[A.value])}function Ms(b,w,E){const A=function qr(b){if(!b)return null;for(let w=b.parent;w;w=w.parent){const E=w.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(w);return(A?A.module.injector:E).get(b)}function Bs(b,w,E,A,x={canDeactivateChecks:[],canActivateChecks:[]}){const B=ci(w);return b.children.forEach(re=>{(function io(b,w,E,A,x={canDeactivateChecks:[],canActivateChecks:[]}){const B=b.value,re=w?w.value:null,De=E?E.getContext(b.value.outlet):null;if(re&&B.routeConfig===re.routeConfig){const ht=function us(b,w,E){if("function"==typeof E)return E(b,w);switch(E){case"pathParamsChange":return!en(b.url,w.url);case"pathParamsOrQueryParamsChange":return!en(b.url,w.url)||!Un(b.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!is(b,w)||!Un(b.queryParams,w.queryParams);default:return!is(b,w)}}(re,B,B.routeConfig.runGuardsAndResolvers);ht?x.canActivateChecks.push(new Io(A)):(B.data=re.data,B._resolvedData=re._resolvedData),Bs(b,w,B.component?De?De.children:null:E,A,x),ht&&De&&De.outlet&&De.outlet.isActivated&&x.canDeactivateChecks.push(new xs(De.outlet.component,re))}else re&&so(w,De,x),x.canActivateChecks.push(new Io(A)),Bs(b,null,B.component?De?De.children:null:E,A,x)})(re,B[re.value.outlet],E,A.concat([re.value]),x),delete B[re.value.outlet]}),fe(B,(re,De)=>so(re,E.getContext(De),x)),x}function so(b,w,E){const A=ci(b),x=b.value;fe(A,(B,re)=>{so(B,x.component?w?w.children.getContext(re):null:w,E)}),E.canDeactivateChecks.push(new xs(x.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,x))}class p{}function g(b){return new K.y(w=>w.error(b))}class V{constructor(w,E,A,x,B,re){this.rootComponentType=w,this.config=E,this.urlTree=A,this.url=x,this.paramsInheritanceStrategy=B,this.relativeLinkResolution=re}recognize(){const w=it(this.urlTree.root,[],[],this.config.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,w,ze);if(null===E)return null;const A=new rs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new Yr(A,E),B=new ws(this.url,x);return this.inheritParamsAndData(B._root),B}inheritParamsAndData(w){const E=w.value,A=Sr(E,this.paramsInheritanceStrategy);E.params=Object.freeze(A.params),E.data=Object.freeze(A.data),w.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(w,E,A){return 0===E.segments.length&&E.hasChildren()?this.processChildren(w,E):this.processSegment(w,E,E.segments,A)}processChildren(w,E){const A=[];for(const B of Object.keys(E.children)){const re=E.children[B],De=P(w,B),ht=this.processSegmentGroup(De,re,B);if(null===ht)return null;A.push(...ht)}const x=Le(A);return function q(b){b.sort((w,E)=>w.value.outlet===ze?-1:E.value.outlet===ze?1:w.value.outlet.localeCompare(E.value.outlet))}(x),x}processSegment(w,E,A,x){for(const B of w){const re=this.processSegmentAgainstRoute(B,E,A,x);if(null!==re)return re}return kr(E,A,x)?[]:null}processSegmentAgainstRoute(w,E,A,x){if(w.redirectTo||!jn(w,E,A,x))return null;let B,re=[],De=[];if("**"===w.path){const Rr=A.length>0?Ie(A).parameters:{};B=new rs(A,Rr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cn(w),G(w),w.component,w,Lt(E),Ht(E)+A.length,an(w))}else{const Rr=pe(E,w,A);if(!Rr.matched)return null;re=Rr.consumedSegments,De=Rr.remainingSegments,B=new rs(re,Rr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cn(w),G(w),w.component,w,Lt(E),Ht(E)+re.length,an(w))}const ht=function le(b){return b.children?b.children:b.loadChildren?b._loadedConfig.routes:[]}(w),{segmentGroup:Xt,slicedSegments:qn}=it(E,re,De,ht.filter(Rr=>void 0===Rr.redirectTo),this.relativeLinkResolution);if(0===qn.length&&Xt.hasChildren()){const Rr=this.processChildren(ht,Xt);return null===Rr?null:[new Yr(B,Rr)]}if(0===ht.length&&0===qn.length)return[new Yr(B,[])];const fn=G(w)===x,Ar=this.processSegment(ht,Xt,qn,fn?ze:x);return null===Ar?null:[new Yr(B,Ar)]}}function de(b){const w=b.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Le(b){const w=[],E=new Set;for(const A of b){if(!de(A)){w.push(A);continue}const x=w.find(B=>A.value.routeConfig===B.value.routeConfig);void 0!==x?(x.children.push(...A.children),E.add(x)):w.push(A)}for(const A of E){const x=Le(A.children);w.push(new Yr(A.value,x))}return w.filter(A=>!E.has(A))}function Lt(b){let w=b;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Ht(b){let w=b,E=w._segmentIndexShift?w._segmentIndexShift:0;for(;w._sourceSegment;)w=w._sourceSegment,E+=w._segmentIndexShift?w._segmentIndexShift:0;return E-1}function cn(b){return b.data||{}}function an(b){return b.resolve||{}}function hr(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function Vr(b){return(0,At.w)(w=>{const E=b(w);return E?(0,ce.D)(E).pipe((0,Ye.U)(()=>w)):(0,ut.of)(w)})}class ar extends class Ti{shouldDetach(w){return!1}store(w,E){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,E){return w.routeConfig===E.routeConfig}}{}const ls=new _.OlP("ROUTES");class Do{constructor(w,E,A,x){this.injector=w,this.compiler=E,this.onLoadStartListener=A,this.onLoadEndListener=x}load(w,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const x=this.loadModuleFactory(E.loadChildren).pipe((0,Ye.U)(B=>{this.onLoadEndListener&&this.onLoadEndListener(E);const re=B.create(w);return new Hs(me(re.injector.get(ls,void 0,_.XFs.Self|_.XFs.Optional)).map(O),re)}),ue(B=>{throw E._loader$=void 0,B}));return E._loader$=new be(x,()=>new X.x).pipe(st()),E._loader$}loadModuleFactory(w){return Be(w()).pipe((0,xn.z)(E=>E instanceof _.YKP?(0,ut.of)(E):(0,ce.D)(this.compiler.compileModuleAsync(E))))}}class Co{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,E){return w}}function la(b){throw b}function Vo(b,w,E){return w.parse("/")}function zs(b,w){return(0,ut.of)(null)}const Ds={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vt=(()=>{class b{constructor(E,A,x,B,re,De,ht){this.rootComponentType=E,this.urlSerializer=A,this.rootContexts=x,this.location=B,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new X.x,this.errorHandler=la,this.malformedUriErrorHandler=Vo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zs,afterPreactivation:zs},this.urlHandlingStrategy=new Co,this.routeReuseStrategy=new ar,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=re.get(_.h0i),this.console=re.get(_.c2e);const fn=re.get(_.R0b);this.isNgZoneEnabled=fn instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=function ot(){return new Ee(new ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Do(re,De,Ar=>this.triggerEvent(new lr(Ar)),Ar=>this.triggerEvent(new Kr(Ar))),this.routerState=er(this.currentUrlTree,this.rootComponentType),this.transitions=new $e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const A=this.events;return E.pipe((0,Pe.h)(x=>0!==x.id),(0,Ye.U)(x=>Object.assign(Object.assign({},x),{extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,At.w)(x=>{let B=!1,re=!1;return(0,ut.of)(x).pipe((0,rn.b)(De=>{this.currentNavigation={id:De.id,initialUrl:De.currentRawUrl,extractedUrl:De.extractedUrl,trigger:De.source,extras:De.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,At.w)(De=>{const ht=this.browserUrlTree.toString(),Xt=!this.navigated||De.extractedUrl.toString()!==ht||ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Xt)&&this.urlHandlingStrategy.shouldProcessUrl(De.rawUrl))return fr(De.source)&&(this.browserUrlTree=De.extractedUrl),(0,ut.of)(De).pipe((0,At.w)(fn=>{const Ar=this.transitions.getValue();return A.next(new $n(fn.id,this.serializeUrl(fn.extractedUrl),fn.source,fn.restoredState)),Ar!==this.transitions.getValue()?vt.E:Promise.resolve(fn)}),function qo(b,w,E,A){return(0,At.w)(x=>function Eo(b,w,E,A,x){return new Rs(b,w,E,A,x).apply()}(b,w,E,x.extractedUrl,A).pipe((0,Ye.U)(B=>Object.assign(Object.assign({},x),{urlAfterRedirects:B}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,rn.b)(fn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:fn.urlAfterRedirects})}),function qt(b,w,E,A,x){return(0,xn.z)(B=>function C(b,w,E,A,x="emptyOnly",B="legacy"){try{const re=new V(b,w,E,A,x,B).recognize();return null===re?g(new p):(0,ut.of)(re)}catch(re){return g(re)}}(b,w,B.urlAfterRedirects,E(B.urlAfterRedirects),A,x).pipe((0,Ye.U)(re=>Object.assign(Object.assign({},B),{targetSnapshot:re}))))}(this.rootComponentType,this.config,fn=>this.serializeUrl(fn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,rn.b)(fn=>{if("eager"===this.urlUpdateStrategy){if(!fn.extras.skipLocationChange){const Rr=this.urlHandlingStrategy.merge(fn.urlAfterRedirects,fn.rawUrl);this.setBrowserUrl(Rr,fn)}this.browserUrlTree=fn.urlAfterRedirects}const Ar=new Cn(fn.id,this.serializeUrl(fn.extractedUrl),this.serializeUrl(fn.urlAfterRedirects),fn.targetSnapshot);A.next(Ar)}));if(Xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ar,extractedUrl:Rr,source:cs,restoredState:$o,extras:ha}=De,Ia=new $n(Ar,this.serializeUrl(Rr),cs,$o);A.next(Ia);const Dn=er(Rr,this.rootComponentType).snapshot;return(0,ut.of)(Object.assign(Object.assign({},De),{targetSnapshot:Dn,urlAfterRedirects:Rr,extras:Object.assign(Object.assign({},ha),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=De.rawUrl,De.resolve(null),vt.E}),Vr(De=>{const{targetSnapshot:ht,id:Xt,extractedUrl:qn,rawUrl:fn,extras:{skipLocationChange:Ar,replaceUrl:Rr}}=De;return this.hooks.beforePreactivation(ht,{navigationId:Xt,appliedUrlTree:qn,rawUrlTree:fn,skipLocationChange:!!Ar,replaceUrl:!!Rr})}),(0,rn.b)(De=>{const ht=new Mn(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot);this.triggerEvent(ht)}),(0,Ye.U)(De=>Object.assign(Object.assign({},De),{guards:Dt(De.targetSnapshot,De.currentSnapshot,this.rootContexts)})),function ua(b,w){return(0,xn.z)(E=>{const{targetSnapshot:A,currentSnapshot:x,guards:{canActivateChecks:B,canDeactivateChecks:re}}=E;return 0===re.length&&0===B.length?(0,ut.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function Zo(b,w,E,A){return(0,ce.D)(b).pipe((0,xn.z)(x=>function S(b,w,E,A,x){const B=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,ut.of)(!0);const re=B.map(De=>{const ht=Ms(De,w,x);let Xt;if(function Br(b){return b&&ys(b.canDeactivate)}(ht))Xt=Be(ht.canDeactivate(b,w,E,A));else{if(!ys(ht))throw new Error("Invalid CanDeactivate guard");Xt=Be(ht(b,w,E,A))}return Xt.pipe((0,Ut.P)())});return(0,ut.of)(re).pipe(yi())}(x.component,x.route,E,w,A)),(0,Ut.P)(x=>!0!==x,!0))}(re,A,x,b).pipe((0,xn.z)(De=>De&&function Wo(b){return"boolean"==typeof b}(De)?function bo(b,w,E,A){return(0,ce.D)(w).pipe((0,xt.b)(x=>(0,Ue.z)(function F(b,w){return null!==b&&w&&w(new ti(b)),(0,ut.of)(!0)}(x.route.parent,A),function Bo(b,w){return null!==b&&w&&w(new we(b)),(0,ut.of)(!0)}(x.route,A),function J(b,w,E){const A=w[w.length-1],B=w.slice(0,w.length-1).reverse().map(re=>function Wn(b){const w=b.routeConfig?b.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:b,guards:w}:null}(re)).filter(re=>null!==re).map(re=>(0,wt.P)(()=>{const De=re.guards.map(ht=>{const Xt=Ms(ht,re.node,E);let qn;if(function Gs(b){return b&&ys(b.canActivateChild)}(Xt))qn=Be(Xt.canActivateChild(A,b));else{if(!ys(Xt))throw new Error("Invalid CanActivateChild guard");qn=Be(Xt(A,b))}return qn.pipe((0,Ut.P)())});return(0,ut.of)(De).pipe(yi())}));return(0,ut.of)(B).pipe(yi())}(b,x.path,E),function N(b,w,E){const A=w.routeConfig?w.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ut.of)(!0);const x=A.map(B=>(0,wt.P)(()=>{const re=Ms(B,w,E);let De;if(function fi(b){return b&&ys(b.canActivate)}(re))De=Be(re.canActivate(w,b));else{if(!ys(re))throw new Error("Invalid CanActivate guard");De=Be(re(w,b))}return De.pipe((0,Ut.P)())}));return(0,ut.of)(x).pipe(yi())}(b,x.route,E))),(0,Ut.P)(x=>!0!==x,!0))}(A,B,b,w):(0,ut.of)(De)),(0,Ye.U)(De=>Object.assign(Object.assign({},E),{guardsResult:De})))})}(this.ngModule.injector,De=>this.triggerEvent(De)),(0,rn.b)(De=>{if(Jr(De.guardsResult)){const Xt=pn(`Redirecting to "${this.serializeUrl(De.guardsResult)}"`);throw Xt.url=De.guardsResult,Xt}const ht=new jt(De.id,this.serializeUrl(De.extractedUrl),this.serializeUrl(De.urlAfterRedirects),De.targetSnapshot,!!De.guardsResult);this.triggerEvent(ht)}),(0,Pe.h)(De=>!!De.guardsResult||(this.restoreHistory(De),this.cancelNavigationTransition(De,""),!1)),Vr(De=>{if(De.guards.canActivateChecks.length)return(0,ut.of)(De).pipe((0,rn.b)(ht=>{const Xt=new Fr(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Xt)}),(0,At.w)(ht=>{let Xt=!1;return(0,ut.of)(ht).pipe(function vn(b,w){return(0,xn.z)(E=>{const{targetSnapshot:A,guards:{canActivateChecks:x}}=E;if(!x.length)return(0,ut.of)(E);let B=0;return(0,ce.D)(x).pipe((0,xt.b)(re=>function Ln(b,w,E,A){return function zn(b,w,E,A){const x=hr(b);if(0===x.length)return(0,ut.of)({});const B={};return(0,ce.D)(x).pipe((0,xn.z)(re=>function ii(b,w,E,A){const x=Ms(b,w,A);return Be(x.resolve?x.resolve(w,E):x(w,E))}(b[re],w,E,A).pipe((0,rn.b)(De=>{B[re]=De}))),Ne(1),(0,xn.z)(()=>hr(B).length===x.length?(0,ut.of)(B):vt.E))}(b._resolve,b,w,A).pipe((0,Ye.U)(B=>(b._resolvedData=B,b.data=Object.assign(Object.assign({},b.data),Sr(b,E).resolve),null)))}(re.route,A,b,w)),(0,rn.b)(()=>B++),Ne(1),(0,xn.z)(re=>B===x.length?(0,ut.of)(E):vt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,rn.b)({next:()=>Xt=!0,complete:()=>{Xt||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,"At least one route resolver didn't emit any value."))}}))}),(0,rn.b)(ht=>{const Xt=new Ir(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Xt)}))}),Vr(De=>{const{targetSnapshot:ht,id:Xt,extractedUrl:qn,rawUrl:fn,extras:{skipLocationChange:Ar,replaceUrl:Rr}}=De;return this.hooks.afterPreactivation(ht,{navigationId:Xt,appliedUrlTree:qn,rawUrlTree:fn,skipLocationChange:!!Ar,replaceUrl:!!Rr})}),(0,Ye.U)(De=>{const ht=function vo(b,w,E){const A=yr(b,w._root,E?E._root:void 0);return new Qr(A,w)}(this.routeReuseStrategy,De.targetSnapshot,De.currentRouterState);return Object.assign(Object.assign({},De),{targetRouterState:ht})}),(0,rn.b)(De=>{this.currentUrlTree=De.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(De.urlAfterRedirects,De.rawUrl),this.routerState=De.targetRouterState,"deferred"===this.urlUpdateStrategy&&(De.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,De),this.browserUrlTree=De.urlAfterRedirects)}),((b,w,E)=>(0,Ye.U)(A=>(new Bi(w,A.targetRouterState,A.currentRouterState,E).activate(b),A)))(this.rootContexts,this.routeReuseStrategy,De=>this.triggerEvent(De)),(0,rn.b)({next(){B=!0},complete(){B=!0}}),function Kt(b){return(0,Ke.e)((w,E)=>{try{w.subscribe(E)}finally{E.add(b)}})}(()=>{var De;B||re||this.cancelNavigationTransition(x,`Navigation ID ${x.id} is not equal to the current navigation id ${this.navigationId}`),(null===(De=this.currentNavigation)||void 0===De?void 0:De.id)===x.id&&(this.currentNavigation=null)}),ue(De=>{if(re=!0,function ln(b){return b&&b[wn]}(De)){const ht=Jr(De.url);ht||(this.navigated=!0,this.restoreHistory(x,!0));const Xt=new Kn(x.id,this.serializeUrl(x.extractedUrl),De.message);A.next(Xt),ht?setTimeout(()=>{const qn=this.urlHandlingStrategy.merge(De.url,this.rawUrlTree),fn={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fr(x.source)};this.scheduleNavigation(qn,"imperative",null,fn,{resolve:x.resolve,reject:x.reject,promise:x.promise})},0):x.resolve(!1)}else{this.restoreHistory(x,!0);const ht=new Qn(x.id,this.serializeUrl(x.extractedUrl),De);A.next(ht);try{x.resolve(this.errorHandler(De))}catch(Xt){x.reject(Xt)}}return vt.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const A="popstate"===E.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{var x;const B={replaceUrl:!0},re=(null===(x=E.state)||void 0===x?void 0:x.navigationId)?E.state:null;if(re){const ht=Object.assign({},re);delete ht.navigationId,delete ht.\u0275routerPageId,0!==Object.keys(ht).length&&(B.state=ht)}const De=this.parseUrl(E.url);this.scheduleNavigation(De,A,re,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){as(E),this.config=E.map(O),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,A={}){const{relativeTo:x,queryParams:B,fragment:re,queryParamsHandling:De,preserveFragment:ht}=A,Xt=x||this.routerState.root,qn=ht?this.currentUrlTree.fragment:re;let fn=null;switch(De){case"merge":fn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),B);break;case"preserve":fn=this.currentUrlTree.queryParams;break;default:fn=B||null}return null!==fn&&(fn=this.removeEmptyProps(fn)),function Oe(b,w,E,A,x){if(0===E.length)return yt(w.root,w.root,w.root,A,x);const B=function _r(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new zt(!0,0,b);let w=0,E=!1;const A=b.reduce((x,B,re)=>{if("object"==typeof B&&null!=B){if(B.outlets){const De={};return fe(B.outlets,(ht,Xt)=>{De[Xt]="string"==typeof ht?ht.split("/"):ht}),[...x,{outlets:De}]}if(B.segmentPath)return[...x,B.segmentPath]}return"string"!=typeof B?[...x,B]:0===re?(B.split("/").forEach((De,ht)=>{0==ht&&"."===De||(0==ht&&""===De?E=!0:".."===De?w++:""!=De&&x.push(De))}),x):[...x,B]},[]);return new zt(E,w,A)}(E);if(B.toRoot())return yt(w.root,w.root,new ne([],{}),A,x);const re=function or(b,w,E){if(b.isAbsolute)return new Pr(w.root,!0,0);if(-1===E.snapshot._lastPathIndex){const B=E.snapshot._urlSegment;return new Pr(B,B===w.root,0)}const A=ge(b.commands[0])?0:1;return function Mi(b,w,E){let A=b,x=w,B=E;for(;B>x;){if(B-=x,A=A.parent,!A)throw new Error("Invalid number of '../'");x=A.segments.length}return new Pr(A,!1,x-B)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+A,b.numberOfDoubleDots)}(B,w,b),De=re.processChildren?os(re.segmentGroup,re.index,B.commands):Zi(re.segmentGroup,re.index,B.commands);return yt(w.root,re.segmentGroup,De,A,x)}(Xt,this.currentUrlTree,E,fn,null!=qn?qn:null)}navigateByUrl(E,A={skipLocationChange:!1}){const x=Jr(E)?E:this.parseUrl(E),B=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(B,"imperative",null,A)}navigate(E,A={skipLocationChange:!1}){return function Sn(b){for(let w=0;w<b.length;w++){const E=b[w];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${w}`)}}(E),this.navigateByUrl(this.createUrlTree(E,A),A)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let A;try{A=this.urlSerializer.parse(E)}catch(x){A=this.malformedUriErrorHandler(x,this.urlSerializer,E)}return A}isActive(E,A){let x;if(x=!0===A?Object.assign({},Ds):!1===A?Object.assign({},Jt):A,Jr(E))return Yt(this.currentUrlTree,E,x);const B=this.parseUrl(E);return Yt(this.currentUrlTree,B,x)}removeEmptyProps(E){return Object.keys(E).reduce((A,x)=>{const B=E[x];return null!=B&&(A[x]=B),A},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Nn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,A,x,B,re){var De,ht;if(this.disposed)return Promise.resolve(!1);let Xt,qn,fn;re?(Xt=re.resolve,qn=re.reject,fn=re.promise):fn=new Promise((cs,$o)=>{Xt=cs,qn=$o});const Ar=++this.navigationId;let Rr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),Rr=x&&x.\u0275routerPageId?x.\u0275routerPageId:B.replaceUrl||B.skipLocationChange?null!==(De=this.browserPageId)&&void 0!==De?De:0:(null!==(ht=this.browserPageId)&&void 0!==ht?ht:0)+1):Rr=0,this.setTransition({id:Ar,targetPageId:Rr,source:A,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:B,resolve:Xt,reject:qn,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch(cs=>Promise.reject(cs))}setBrowserUrl(E,A){const x=this.urlSerializer.serialize(E),B=Object.assign(Object.assign({},A.extras.state),this.generateNgRouterState(A.id,A.targetPageId));this.location.isCurrentPathEqualTo(x)||A.extras.replaceUrl?this.location.replaceState(x,"",B):this.location.go(x,"",B)}restoreHistory(E,A=!1){var x,B;if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(x=this.currentNavigation)||void 0===x?void 0:x.finalUrl)||0===re?this.currentUrlTree===(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)&&0===re&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(re)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,A){const x=new Kn(E.id,this.serializeUrl(E.extractedUrl),A);this.triggerEvent(x),E.resolve(!1)}generateNgRouterState(E,A){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:A}:{navigationId:E}}}return b.\u0275fac=function(E){_.$Z()},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})();function fr(b){return"imperative"!==b}let Er=(()=>{class b{constructor(E,A,x,B,re){this.router=E,this.route=A,this.tabIndexAttribute=x,this.renderer=B,this.el=re,this.commands=null,this.onChanges=new X.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const A=this.renderer,x=this.el.nativeElement;null!==E?A.setAttribute(x,"tabindex",E):A.removeAttribute(x,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const E={skipLocationChange:si(this.skipLocationChange),replaceUrl:si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:si(this.preserveFragment)})}}return b.\u0275fac=function(E){return new(E||b)(_.Y36(Vt),_.Y36(xi),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},b.\u0275dir=_.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,A){1&E&&_.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),b})(),Ci=(()=>{class b{constructor(E,A,x){this.router=E,this.route=A,this.locationStrategy=x,this.commands=null,this.href=null,this.onChanges=new X.x,this.subscription=E.events.subscribe(B=>{B instanceof Nn&&this.updateTargetUrlAndHref()})}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,A,x,B,re){if(0!==E||A||x||B||re||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const De={skipLocationChange:si(this.skipLocationChange),replaceUrl:si(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,De),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:si(this.preserveFragment)})}}return b.\u0275fac=function(E){return new(E||b)(_.Y36(Vt),_.Y36(xi),_.Y36(Gn.S$))},b.\u0275dir=_.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,A){1&E&&_.NdJ("click",function(B){return A.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&E&&_.uIk("target",A.target)("href",A.href,_.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),b})();function si(b){return""===b||!!b}let Ks=(()=>{class b{constructor(E,A,x,B,re,De){this.router=E,this.element=A,this.renderer=x,this.cdr=B,this.link=re,this.linkWithHref=De,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.vpe,this.routerEventsSubscription=E.events.subscribe(ht=>{ht instanceof Nn&&this.update()})}ngAfterContentInit(){(0,ut.of)(this.links.changes,this.linksWithHrefs.changes,(0,ut.of)(null)).pipe((0,on.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var E;null===(E=this.linkInputChangesSubscription)||void 0===E||E.unsubscribe();const A=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(x=>!!x).map(x=>x.onChanges);this.linkInputChangesSubscription=(0,ce.D)(A).pipe((0,on.J)()).subscribe(x=>{this.isActive!==this.isLinkActive(this.router)(x)&&this.update()})}set routerLinkActive(E){const A=Array.isArray(E)?E:E.split(" ");this.classes=A.filter(x=>!!x)}ngOnChanges(E){this.update()}ngOnDestroy(){var E;this.routerEventsSubscription.unsubscribe(),null===(E=this.linkInputChangesSubscription)||void 0===E||E.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this.isActive!==E&&(this.isActive=E,this.cdr.markForCheck(),this.classes.forEach(A=>{E?this.renderer.addClass(this.element.nativeElement,A):this.renderer.removeClass(this.element.nativeElement,A)}),this.isActiveChange.emit(E))})}isLinkActive(E){const A=function wr(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return x=>!!x.urlTree&&E.isActive(x.urlTree,A)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.linkWithHref&&E(this.linkWithHref)||this.links.some(E)||this.linksWithHrefs.some(E)}}return b.\u0275fac=function(E){return new(E||b)(_.Y36(Vt),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(Er,8),_.Y36(Ci,8))},b.\u0275dir=_.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(E,A,x){if(1&E&&(_.Suo(x,Er,5),_.Suo(x,Ci,5)),2&E){let B;_.iGM(B=_.CRH())&&(A.links=B),_.iGM(B=_.CRH())&&(A.linksWithHrefs=B)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[_.TTD]}),b})();class oo{}class Hi{preload(w,E){return(0,ut.of)(null)}}let So=(()=>{class b{constructor(E,A,x,B){this.router=E,this.injector=x,this.preloadingStrategy=B,this.loader=new Do(x,A,ht=>E.triggerEvent(new lr(ht)),ht=>E.triggerEvent(new Kr(ht)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pe.h)(E=>E instanceof Nn),(0,xt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(_.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,A){const x=[];for(const B of A)if(B.loadChildren&&!B.canLoad&&B._loadedConfig){const re=B._loadedConfig;x.push(this.processRoutes(re.module,re.routes))}else B.loadChildren&&!B.canLoad?x.push(this.preloadConfig(E,B)):B.children&&x.push(this.processRoutes(E,B.children));return(0,ce.D)(x).pipe((0,on.J)(),(0,Ye.U)(B=>{}))}preloadConfig(E,A){return this.preloadingStrategy.preload(A,()=>(A._loadedConfig?(0,ut.of)(A._loadedConfig):this.loader.load(E.injector,A)).pipe((0,xn.z)(B=>(A._loadedConfig=B,this.processRoutes(B.module,B.routes)))))}}return b.\u0275fac=function(E){return new(E||b)(_.LFG(Vt),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(oo))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})(),Zr=(()=>{class b{constructor(E,A,x={}){this.router=E,this.viewportScroller=A,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Nn&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof _t&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,A){this.router.triggerEvent(new _t(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(E){_.$Z()},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})();const ao=new _.OlP("ROUTER_CONFIGURATION"),Vs=new _.OlP("ROUTER_FORROOT_GUARD"),Ra=[Gn.Ye,{provide:Pn,useClass:Hr},{provide:Vt,useFactory:function _i(b,w,E,A,x,B,re={},De,ht){const Xt=new Vt(null,b,w,E,A,x,me(B));return De&&(Xt.urlHandlingStrategy=De),ht&&(Xt.routeReuseStrategy=ht),function da(b,w){b.errorHandler&&(w.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(w.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(w.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(w.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(w.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(w.canceledNavigationResolution=b.canceledNavigationResolution)}(re,Xt),re.enableTracing&&Xt.events.subscribe(qn=>{var fn,Ar;null===(fn=console.group)||void 0===fn||fn.call(console,`Router Event: ${qn.constructor.name}`),console.log(qn.toString()),console.log(qn),null===(Ar=console.groupEnd)||void 0===Ar||Ar.call(console)}),Xt},deps:[Pn,Qi,Gn.Ye,_.zs3,_.Sil,ls,ao,[class To{},new _.FiY],[class Or{},new _.FiY]]},Qi,{provide:xi,useFactory:function jo(b){return b.routerState.root},deps:[Vt]},So,Hi,class Ts{preload(w,E){return E().pipe(ue(()=>(0,ut.of)(null)))}},{provide:ao,useValue:{enableTracing:!1}}];function xu(){return new _.PXZ("Router",Vt)}let ca=(()=>{class b{constructor(E,A){}static forRoot(E,A){return{ngModule:b,providers:[Ra,Jo(E),{provide:Vs,useFactory:Qo,deps:[[Vt,new _.FiY,new _.tp0]]},{provide:ao,useValue:A||{}},{provide:Gn.S$,useFactory:Si,deps:[Gn.lw,[new _.tBr(Gn.mr),new _.FiY],ao]},{provide:Zr,useFactory:Yo,deps:[Vt,Gn.EM,ao]},{provide:oo,useExisting:A&&A.preloadingStrategy?A.preloadingStrategy:Hi},{provide:_.PXZ,multi:!0,useFactory:xu},[wa,{provide:_.ip1,multi:!0,useFactory:Mu,deps:[wa]},{provide:zr,useFactory:Ot,deps:[wa]},{provide:_.tb,multi:!0,useExisting:zr}]]}}static forChild(E){return{ngModule:b,providers:[Jo(E)]}}}return b.\u0275fac=function(E){return new(E||b)(_.LFG(Vs,8),_.LFG(Vt,8))},b.\u0275mod=_.oAB({type:b}),b.\u0275inj=_.cJS({}),b})();function Yo(b,w,E){return E.scrollOffset&&w.setOffset(E.scrollOffset),new Zr(b,w,E)}function Si(b,w,E={}){return E.useHash?new Gn.Do(b,w):new Gn.b0(b,w)}function Qo(b){return"guarded"}function Jo(b){return[{provide:_.deG,multi:!0,useValue:b},{provide:ls,multi:!0,useValue:b}]}let wa=(()=>{class b{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new X.x}appInitializer(){return this.injector.get(Gn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let A=null;const x=new Promise(De=>A=De),B=this.injector.get(Vt),re=this.injector.get(ao);return"disabled"===re.initialNavigation?(B.setUpLocationChangeListener(),A(!0)):"enabled"===re.initialNavigation||"enabledBlocking"===re.initialNavigation?(B.hooks.afterPreactivation=()=>this.initNavigation?(0,ut.of)(null):(this.initNavigation=!0,A(!0),this.resultOfPreactivationDone),B.initialNavigation()):A(!0),x})}bootstrapListener(E){const A=this.injector.get(ao),x=this.injector.get(So),B=this.injector.get(Zr),re=this.injector.get(Vt),De=this.injector.get(_.z2F);E===De.components[0]&&(("enabledNonBlocking"===A.initialNavigation||void 0===A.initialNavigation)&&re.initialNavigation(),x.setUpPreloading(),B.init(),re.resetRootComponentType(De.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(E){return new(E||b)(_.LFG(_.zs3))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})();function Mu(b){return b.appInitializer.bind(b)}function Ot(b){return b.bootstrapListener.bind(b)}const zr=new _.OlP("Router Initializer")},3942:(Ft,je,L)=>{L.d(je,{Z:()=>at});var _=L(2090),K=L(4859),W=L(9681),ce=L(1877);class ye{constructor(Ke,st){this._delegate=Ke,this.firebase=st,(0,W._addComponent)(Ke,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Ke,st=W._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Ke);return!ut.isInitialized()&&"EXPLICIT"===(null===(be=ut.getComponent())||void 0===be?void 0:be.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:st})}_removeServiceInstance(Ke,st=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(st)}_addComponent(Ke){(0,W._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,W._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Ce(){const Ct=function Se(Ct){const Ke={},st={__esModule:!0,initializeApp:function $e(vt,X={}){const tt=W.initializeApp(vt,X);if((0,_.r3)(Ke,tt.name))return Ke[tt.name];const ue=new Ct(tt,st);return Ke[tt.name]=ue,ue},app:ut,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Ue(vt){const X=vt.name,tt=X.replace("-compat","");if(W._registerComponent(vt)&&"PUBLIC"===vt.type){const ue=(Pe=ut())=>{if("function"!=typeof Pe[tt])throw Re.create("invalid-app-argument",{appName:X});return Pe[tt]()};void 0!==vt.serviceProps&&(0,_.ZB)(ue,vt.serviceProps),st[tt]=ue,Ct.prototype[tt]=function(...Pe){return this._getService.bind(this,X).apply(this,vt.multipleInstances?Pe:[])}}return"PUBLIC"===vt.type?st[tt]:null},removeApp:function be(vt){delete Ke[vt]},useAsService:function wt(vt,X){return"serverAuth"===X?null:X},modularAPIs:W}};function ut(vt){if(!(0,_.r3)(Ke,vt=vt||W._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:vt});return Ke[vt]}return st.default=st,Object.defineProperty(st,"apps",{get:function ve(){return Object.keys(Ke).map(vt=>Ke[vt])}}),ut.App=Ct,st}(ye);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Ke(st){(0,_.ZB)(Ct,st)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Ct}(),oe=new ce.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=ae;!function Xe(Ct){(0,W.registerVersion)("@firebase/app-compat","0.1.27",Ct)}()},9681:(Ft,je,L)=>{L.r(je),L.d(je,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>At,_addComponent:()=>xt,_addOrOverwriteComponent:()=>Ut,_apps:()=>et,_clearComponents:()=>Gn,_components:()=>gt,_getProvider:()=>rn,_registerComponent:()=>xn,_removeServiceInstance:()=>on,deleteApp:()=>jt,getApp:()=>Cn,getApps:()=>Mn,initializeApp:()=>Qn,onLog:()=>lr,registerVersion:()=>Ir,setLogLevel:()=>Kr});var _=L(5861),K=L(4859),W=L(1877),ce=L(2090),ye=L(8766);class Te{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function Re(fe){const Be=fe.getComponent();return"VERSION"===(null==Be?void 0:Be.type)}(ot)){const Bt=ot.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(ot=>ot).join(" ")}}const Se="@firebase/app",ae=new W.Yd("@firebase/app"),At="[DEFAULT]",ee={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,gt=new Map;function xt(fe,Be){try{fe.container.addComponent(Be)}catch(ot){ae.debug(`Component ${Be.name} failed to register with FirebaseApp ${fe.name}`,ot)}}function Ut(fe,Be){fe.container.addOrOverwriteComponent(Be)}function xn(fe){const Be=fe.name;if(gt.has(Be))return ae.debug(`There were multiple attempts to register component ${Be}.`),!1;gt.set(Be,fe);for(const ot of et.values())xt(ot,fe);return!0}function rn(fe,Be){const ot=fe.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),fe.container.getProvider(Be)}function on(fe,Be,ot=At){rn(fe,Be).clearInstance(ot)}function Gn(){gt.clear()}const $n=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Nn{constructor(Be,ot,Bt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Kn="9.8.3";function Qn(fe,Be={}){"object"!=typeof Be&&(Be={name:Be});const ot=Object.assign({name:At,automaticDataCollectionEnabled:!1},Be),Bt=ot.name;if("string"!=typeof Bt||!Bt)throw $n.create("bad-app-name",{appName:String(Bt)});const sn=et.get(Bt);if(sn){if((0,ce.vZ)(fe,sn.options)&&(0,ce.vZ)(ot,sn.config))return sn;throw $n.create("duplicate-app",{appName:Bt})}const Yt=new K.H0(Bt);for(const gn of gt.values())Yt.addComponent(gn);const gr=new Nn(fe,ot,Yt);return et.set(Bt,gr),gr}function Cn(fe=At){const Be=et.get(fe);if(!Be)throw $n.create("no-app",{appName:fe});return Be}function Mn(){return Array.from(et.values())}function jt(fe){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,_.Z)(function*(fe){const Be=fe.name;et.has(Be)&&(et.delete(Be),yield Promise.all(fe.container.getProviders().map(ot=>ot.delete())),fe.isDeleted=!0)})).apply(this,arguments)}function Ir(fe,Be,ot){var Bt;let sn=null!==(Bt=ee[fe])&&void 0!==Bt?Bt:fe;ot&&(sn+=`-${ot}`);const Yt=sn.match(/\s|\//),gr=Be.match(/\s|\//);if(Yt||gr){const gn=[`Unable to register library "${sn}" with version "${Be}":`];return Yt&&gn.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),Yt&&gr&&gn.push("and"),gr&&gn.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void ae.warn(gn.join(" "))}xn(new K.wA(`${sn}-version`,()=>({library:sn,version:Be}),"VERSION"))}function lr(fe,Be){if(null!==fe&&"function"!=typeof fe)throw $n.create("invalid-log-argument");(0,W.Am)(fe,Be)}function Kr(fe){(0,W.Ub)(fe)}const we="firebase-heartbeat-store";let xe=null;function _t(){return xe||(xe=(0,ye.X3)("firebase-heartbeat-database",1,{upgrade:(fe,Be)=>{0===Be&&fe.createObjectStore(we)}}).catch(fe=>{throw $n.create("storage-open",{originalErrorMessage:fe.message})})),xe}function mt(){return(mt=(0,_.Z)(function*(fe){var Be;try{return(yield _t()).transaction(we).objectStore(we).get(pn(fe))}catch(ot){throw $n.create("storage-get",{originalErrorMessage:null===(Be=ot)||void 0===Be?void 0:Be.message})}})).apply(this,arguments)}function Nt(fe,Be){return wn.apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(fe,Be){var ot;try{const sn=(yield _t()).transaction(we,"readwrite");return yield sn.objectStore(we).put(Be,pn(fe)),sn.done}catch(Bt){throw $n.create("storage-set",{originalErrorMessage:null===(ot=Bt)||void 0===ot?void 0:ot.message})}})).apply(this,arguments)}function pn(fe){return`${fe.name}!${fe.options.appId}`}class cr{constructor(Be){this.container=Be,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new me(ot),this._heartbeatsCachePromise=this._storage.read().then(Bt=>(this._heartbeatsCache=Bt,Bt))}triggerHeartbeat(){var Be=this;return(0,_.Z)(function*(){const Bt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=Un();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==sn&&!Be._heartbeatsCache.heartbeats.some(Yt=>Yt.date===sn))return Be._heartbeatsCache.heartbeats.push({date:sn,agent:Bt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(Yt=>{const gr=new Date(Yt.date).valueOf();return Date.now()-gr<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,_.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const ot=Un(),{heartbeatsToSend:Bt,unsentEntries:sn}=function ie(fe,Be=1024){const ot=[];let Bt=fe.slice();for(const sn of fe){const Yt=ot.find(gr=>gr.agent===sn.agent);if(Yt){if(Yt.dates.push(sn.date),Ie(ot)>Be){Yt.dates.pop();break}}else if(ot.push({agent:sn.agent,dates:[sn.date]}),Ie(ot)>Be){ot.pop();break}Bt=Bt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Bt}}(Be._heartbeatsCache.heartbeats),Yt=(0,ce.L)(JSON.stringify({version:2,heartbeats:Bt}));return Be._heartbeatsCache.lastSentHeartbeatDate=ot,sn.length>0?(Be._heartbeatsCache.heartbeats=sn,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),Yt})()}}function Un(){return(new Date).toISOString().substring(0,10)}class me{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,_.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function ze(fe){return mt.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var ot=this;return(0,_.Z)(function*(){var Bt;if(yield ot._canUseIndexedDBPromise){const Yt=yield ot.read();return Nt(ot.app,{lastSentHeartbeatDate:null!==(Bt=Be.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Yt.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var ot=this;return(0,_.Z)(function*(){var Bt;if(yield ot._canUseIndexedDBPromise){const Yt=yield ot.read();return Nt(ot.app,{lastSentHeartbeatDate:null!==(Bt=Be.lastSentHeartbeatDate)&&void 0!==Bt?Bt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Be.heartbeats]})}})()}}function Ie(fe){return(0,ce.L)(JSON.stringify({version:2,heartbeats:fe})).length}!function lt(fe){xn(new K.wA("platform-logger",Be=>new Te(Be),"PRIVATE")),xn(new K.wA("heartbeat",Be=>new cr(Be),"PRIVATE")),Ir(Se,"0.7.26",fe),Ir(Se,"0.7.26","esm2017"),Ir("fire-js","")}("")},4859:(Ft,je,L)=>{L.d(je,{H0:()=>Se,wA:()=>W});var _=L(5861),K=L(2090);class W{constructor(ae,oe,Me){this.name=ae,this.instanceFactory=oe,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ce="[DEFAULT]";class ye{constructor(ae,oe){this.name=ae,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const oe=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(oe)){const Me=new K.BH;if(this.instancesDeferred.set(oe,Me),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Tt=this.getOrInitializeService({instanceIdentifier:oe});Tt&&Me.resolve(Tt)}catch(Tt){}}return this.instancesDeferred.get(oe).promise}getImmediate(ae){var oe;const Me=this.normalizeInstanceIdentifier(null==ae?void 0:ae.identifier),Tt=null!==(oe=null==ae?void 0:ae.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Xe){if(Tt)return null;throw Xe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Re(Ce){return"EAGER"===Ce.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(oe){}for(const[oe,Me]of this.instancesDeferred.entries()){const Tt=this.normalizeInstanceIdentifier(oe);try{const Xe=this.getOrInitializeService({instanceIdentifier:Tt});Me.resolve(Xe)}catch(Xe){}}}}clearInstance(ae=ce){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,_.Z)(function*(){const oe=Array.from(ae.instances.values());yield Promise.all([...oe.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...oe.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ce){return this.instances.has(ae)}getOptions(ae=ce){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:oe={}}=ae,Me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Tt=this.getOrInitializeService({instanceIdentifier:Me,options:oe});for(const[Xe,at]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Xe)&&at.resolve(Tt);return Tt}onInit(ae,oe){var Me;const Tt=this.normalizeInstanceIdentifier(oe),Xe=null!==(Me=this.onInitCallbacks.get(Tt))&&void 0!==Me?Me:new Set;Xe.add(ae),this.onInitCallbacks.set(Tt,Xe);const at=this.instances.get(Tt);return at&&ae(at,Tt),()=>{Xe.delete(ae)}}invokeOnInitCallbacks(ae,oe){const Me=this.onInitCallbacks.get(oe);if(Me)for(const Tt of Me)try{Tt(ae,oe)}catch(Xe){}}getOrInitializeService({instanceIdentifier:ae,options:oe={}}){let Me=this.instances.get(ae);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=ae,Ce===ce?void 0:Ce),options:oe}),this.instances.set(ae,Me),this.instancesOptions.set(ae,oe),this.invokeOnInitCallbacks(Me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Me)}catch(Tt){}var Ce;return Me||null}normalizeInstanceIdentifier(ae=ce){return this.component?this.component.multipleInstances?ae:ce:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const oe=this.getProvider(ae.name);if(oe.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);oe.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const oe=new ye(ae,this);return this.providers.set(ae,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(Ft,je,L)=>{L.d(je,{Am:()=>Ce,Ub:()=>Se,Yd:()=>Re,in:()=>K});const _=[];var K=(()=>{return(ae=K||(K={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",K;var ae})();const W={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ce=K.INFO,ye={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},Te=(ae,oe,...Me)=>{if(oe<ae.logLevel)return;const Tt=(new Date).toISOString(),Xe=ye[oe];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Xe](`[${Tt}]  ${ae.name}:`,...Me)};class Re{constructor(oe){this.name=oe,this._logLevel=ce,this._logHandler=Te,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in K))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?W[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...oe),this._logHandler(this,K.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...oe),this._logHandler(this,K.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,K.INFO,...oe),this._logHandler(this,K.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,K.WARN,...oe),this._logHandler(this,K.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...oe),this._logHandler(this,K.ERROR,...oe)}}function Se(ae){_.forEach(oe=>{oe.setLogLevel(ae)})}function Ce(ae,oe){for(const Me of _){let Tt=null;oe&&oe.level&&(Tt=W[oe.level]),Me.userLogHandler=null===ae?null:(Xe,at,...Ct)=>{const Ke=Ct.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch(be){return null}}).filter(st=>st).join(" ");at>=(null!=Tt?Tt:Xe.logLevel)&&ae({level:K[at].toLowerCase(),message:Ke,args:Ct,type:Xe.name})}}}},8995:(Ft,je,L)=>{L.d(je,{Zw:()=>Xe,aw:()=>Kt,X$:()=>Et,sK:()=>Ge});var _=L(5e3),K=L(8306),W=L(576);function ce(Ye){return!!Ye&&(Ye instanceof K.y||(0,W.m)(Ye.lift)&&(0,W.m)(Ye.subscribe))}var ye=L(9646),Te=L(4128),Re=L(7272),Se=L(9770),Ce=L(5698),ae=L(3151),oe=L(4004),Me=L(4351),Tt=L(3900);class Xe{}let at=(()=>{class Ye extends Xe{getTranslation(ee){return(0,ye.of)({})}}return Ye.\u0275fac=function(){let At;return function(et){return(At||(At=_.n5z(Ye)))(et||Ye)}}(),Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class Ct{}let Ke=(()=>{class Ye{handle(ee){return ee.key}}return Ye.\u0275fac=function(ee){return new(ee||Ye)},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function st(Ye,At){if(Ye===At)return!0;if(null===Ye||null===At)return!1;if(Ye!=Ye&&At!=At)return!0;let gt,xt,Ut,ee=typeof Ye;if(ee==typeof At&&"object"==ee){if(!Array.isArray(Ye)){if(Array.isArray(At))return!1;for(xt in Ut=Object.create(null),Ye){if(!st(Ye[xt],At[xt]))return!1;Ut[xt]=!0}for(xt in At)if(!(xt in Ut)&&void 0!==At[xt])return!1;return!0}if(!Array.isArray(At))return!1;if((gt=Ye.length)==At.length){for(xt=0;xt<gt;xt++)if(!st(Ye[xt],At[xt]))return!1;return!0}}return!1}function be(Ye){return null!=Ye}function ut(Ye){return Ye&&"object"==typeof Ye&&!Array.isArray(Ye)}function $e(Ye,At){let ee=Object.assign({},Ye);return ut(Ye)&&ut(At)&&Object.keys(At).forEach(et=>{ut(At[et])?et in Ye?ee[et]=$e(Ye[et],At[et]):Object.assign(ee,{[et]:At[et]}):Object.assign(ee,{[et]:At[et]})}),ee}class ve{}let Ue=(()=>{class Ye extends ve{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(ee,et){let gt;return gt="string"==typeof ee?this.interpolateString(ee,et):"function"==typeof ee?this.interpolateFunction(ee,et):ee,gt}getValue(ee,et){let gt="string"==typeof et?et.split("."):[et];et="";do{et+=gt.shift(),!be(ee)||!be(ee[et])||"object"!=typeof ee[et]&&gt.length?gt.length?et+=".":ee=void 0:(ee=ee[et],et="")}while(gt.length);return ee}interpolateFunction(ee,et){return ee(et)}interpolateString(ee,et){return et?ee.replace(this.templateMatcher,(gt,xt)=>{let Ut=this.getValue(et,xt);return be(Ut)?Ut:gt}):ee}}return Ye.\u0275fac=function(){let At;return function(et){return(At||(At=_.n5z(Ye)))(et||Ye)}}(),Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class wt{}let vt=(()=>{class Ye extends wt{compile(ee,et){return ee}compileTranslations(ee,et){return ee}}return Ye.\u0275fac=function(){let At;return function(et){return(At||(At=_.n5z(Ye)))(et||Ye)}}(),Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class X{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new _.vpe,this.onLangChange=new _.vpe,this.onDefaultLangChange=new _.vpe}}const tt=new _.OlP("USE_STORE"),ue=new _.OlP("USE_DEFAULT_LANG"),Pe=new _.OlP("DEFAULT_LANGUAGE"),Ne=new _.OlP("USE_EXTEND");let Ge=(()=>{class Ye{constructor(ee,et,gt,xt,Ut,xn=!0,rn=!1,on=!1,Gn){this.store=ee,this.currentLoader=et,this.compiler=gt,this.parser=xt,this.missingTranslationHandler=Ut,this.useDefaultLang=xn,this.isolate=rn,this.extend=on,this.pending=!1,this._onTranslationChange=new _.vpe,this._onLangChange=new _.vpe,this._onDefaultLangChange=new _.vpe,this._langs=[],this._translations={},this._translationRequests={},Gn&&this.setDefaultLang(Gn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(ee){this.isolate?this._defaultLang=ee:this.store.defaultLang=ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(ee){this.isolate?this._currentLang=ee:this.store.currentLang=ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(ee){this.isolate?this._langs=ee:this.store.langs=ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(ee){this.isolate?this._translations=ee:this.store.translations=ee}setDefaultLang(ee){if(ee===this.defaultLang)return;let et=this.retrieveTranslations(ee);void 0!==et?(null==this.defaultLang&&(this.defaultLang=ee),et.pipe((0,Ce.q)(1)).subscribe(gt=>{this.changeDefaultLang(ee)})):this.changeDefaultLang(ee)}getDefaultLang(){return this.defaultLang}use(ee){if(ee===this.currentLang)return(0,ye.of)(this.translations[ee]);let et=this.retrieveTranslations(ee);return void 0!==et?(this.currentLang||(this.currentLang=ee),et.pipe((0,Ce.q)(1)).subscribe(gt=>{this.changeLang(ee)}),et):(this.changeLang(ee),(0,ye.of)(this.translations[ee]))}retrieveTranslations(ee){let et;return(void 0===this.translations[ee]||this.extend)&&(this._translationRequests[ee]=this._translationRequests[ee]||this.getTranslation(ee),et=this._translationRequests[ee]),et}getTranslation(ee){this.pending=!0;const et=this.currentLoader.getTranslation(ee).pipe((0,ae.d)(1),(0,Ce.q)(1));return this.loadingTranslations=et.pipe((0,oe.U)(gt=>this.compiler.compileTranslations(gt,ee)),(0,ae.d)(1),(0,Ce.q)(1)),this.loadingTranslations.subscribe({next:gt=>{this.translations[ee]=this.extend&&this.translations[ee]?Object.assign(Object.assign({},gt),this.translations[ee]):gt,this.updateLangs(),this.pending=!1},error:gt=>{this.pending=!1}}),et}setTranslation(ee,et,gt=!1){et=this.compiler.compileTranslations(et,ee),this.translations[ee]=(gt||this.extend)&&this.translations[ee]?$e(this.translations[ee],et):et,this.updateLangs(),this.onTranslationChange.emit({lang:ee,translations:this.translations[ee]})}getLangs(){return this.langs}addLangs(ee){ee.forEach(et=>{-1===this.langs.indexOf(et)&&this.langs.push(et)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(ee,et,gt){let xt;if(et instanceof Array){let Ut={},xn=!1;for(let rn of et)Ut[rn]=this.getParsedResult(ee,rn,gt),ce(Ut[rn])&&(xn=!0);if(xn){const rn=et.map(on=>ce(Ut[on])?Ut[on]:(0,ye.of)(Ut[on]));return(0,Te.D)(rn).pipe((0,oe.U)(on=>{let Gn={};return on.forEach((Bn,$n)=>{Gn[et[$n]]=Bn}),Gn}))}return Ut}if(ee&&(xt=this.parser.interpolate(this.parser.getValue(ee,et),gt)),void 0===xt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(xt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],et),gt)),void 0===xt){let Ut={key:et,translateService:this};void 0!==gt&&(Ut.interpolateParams=gt),xt=this.missingTranslationHandler.handle(Ut)}return void 0!==xt?xt:et}get(ee,et){if(!be(ee)||!ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Me.b)(gt=>ce(gt=this.getParsedResult(gt,ee,et))?gt:(0,ye.of)(gt)));{let gt=this.getParsedResult(this.translations[this.currentLang],ee,et);return ce(gt)?gt:(0,ye.of)(gt)}}getStreamOnTranslationChange(ee,et){if(!be(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,Re.z)((0,Se.P)(()=>this.get(ee,et)),this.onTranslationChange.pipe((0,Tt.w)(gt=>{const xt=this.getParsedResult(gt.translations,ee,et);return"function"==typeof xt.subscribe?xt:(0,ye.of)(xt)})))}stream(ee,et){if(!be(ee)||!ee.length)throw new Error('Parameter "key" required');return(0,Re.z)((0,Se.P)(()=>this.get(ee,et)),this.onLangChange.pipe((0,Tt.w)(gt=>{const xt=this.getParsedResult(gt.translations,ee,et);return ce(xt)?xt:(0,ye.of)(xt)})))}instant(ee,et){if(!be(ee)||!ee.length)throw new Error('Parameter "key" required');let gt=this.getParsedResult(this.translations[this.currentLang],ee,et);if(ce(gt)){if(ee instanceof Array){let xt={};return ee.forEach((Ut,xn)=>{xt[ee[xn]]=ee[xn]}),xt}return ee}return gt}set(ee,et,gt=this.currentLang){this.translations[gt][ee]=this.compiler.compile(et,gt),this.updateLangs(),this.onTranslationChange.emit({lang:gt,translations:this.translations[gt]})}changeLang(ee){this.currentLang=ee,this.onLangChange.emit({lang:ee,translations:this.translations[ee]}),null==this.defaultLang&&this.changeDefaultLang(ee)}changeDefaultLang(ee){this.defaultLang=ee,this.onDefaultLangChange.emit({lang:ee,translations:this.translations[ee]})}reloadLang(ee){return this.resetLang(ee),this.getTranslation(ee)}resetLang(ee){this._translationRequests[ee]=void 0,this.translations[ee]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==ee?(-1!==ee.indexOf("-")&&(ee=ee.split("-")[0]),-1!==ee.indexOf("_")&&(ee=ee.split("_")[0]),ee):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let ee=window.navigator.languages?window.navigator.languages[0]:null;return ee=ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,ee}}return Ye.\u0275fac=function(ee){return new(ee||Ye)(_.LFG(X),_.LFG(Xe),_.LFG(wt),_.LFG(ve),_.LFG(Ct),_.LFG(ue),_.LFG(tt),_.LFG(Ne),_.LFG(Pe))},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Et=(()=>{class Ye{constructor(ee,et){this.translate=ee,this._ref=et,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(ee,et,gt){let xt=Ut=>{this.value=void 0!==Ut?Ut:ee,this.lastKey=ee,this._ref.markForCheck()};if(gt){let Ut=this.translate.getParsedResult(gt,ee,et);ce(Ut.subscribe)?Ut.subscribe(xt):xt(Ut)}this.translate.get(ee,et).subscribe(xt)}transform(ee,...et){if(!ee||!ee.length)return ee;if(st(ee,this.lastKey)&&st(et,this.lastParams))return this.value;let gt;if(be(et[0])&&et.length)if("string"==typeof et[0]&&et[0].length){let xt=et[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{gt=JSON.parse(xt)}catch(Ut){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${et[0]}`)}}else"object"==typeof et[0]&&!Array.isArray(et[0])&&(gt=et[0]);return this.lastKey=ee,this.lastParams=et,this.updateValue(ee,gt),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(xt=>{this.lastKey&&xt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(ee,gt,xt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(xt=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,gt,xt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(ee,gt))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Ye.\u0275fac=function(ee){return new(ee||Ye)(_.Y36(Ge,16),_.Y36(_.sBO,16))},Ye.\u0275pipe=_.Yjl({name:"translate",type:Ye,pure:!1}),Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Kt=(()=>{class Ye{static forRoot(ee={}){return{ngModule:Ye,providers:[ee.loader||{provide:Xe,useClass:at},ee.compiler||{provide:wt,useClass:vt},ee.parser||{provide:ve,useClass:Ue},ee.missingTranslationHandler||{provide:Ct,useClass:Ke},X,{provide:tt,useValue:ee.isolate},{provide:ue,useValue:ee.useDefaultLang},{provide:Ne,useValue:ee.extend},{provide:Pe,useValue:ee.defaultLanguage},Ge]}}static forChild(ee={}){return{ngModule:Ye,providers:[ee.loader||{provide:Xe,useClass:at},ee.compiler||{provide:wt,useClass:vt},ee.parser||{provide:ve,useClass:Ue},ee.missingTranslationHandler||{provide:Ct,useClass:Ke},{provide:tt,useValue:ee.isolate},{provide:ue,useValue:ee.useDefaultLang},{provide:Ne,useValue:ee.extend},{provide:Pe,useValue:ee.defaultLanguage},Ge]}}}return Ye.\u0275fac=function(ee){return new(ee||Ye)},Ye.\u0275mod=_.oAB({type:Ye}),Ye.\u0275inj=_.cJS({}),Ye})()},40:(Ft,je,L)=>{L.d(je,{w:()=>_});class _{constructor(W,ce="/assets/i18n/",ye=".json"){this.http=W,this.prefix=ce,this.suffix=ye}getTranslation(W){return this.http.get(`${this.prefix}${W}${this.suffix}`)}}},8766:(Ft,je,L)=>{L.d(je,{Lj:()=>$e,X3:()=>ut});var _=L(5861);let W,ce;const Re=new WeakMap,Se=new WeakMap,Ce=new WeakMap,ae=new WeakMap,oe=new WeakMap;let Xe={get(X,tt,ue){if(X instanceof IDBTransaction){if("done"===tt)return Se.get(X);if("objectStoreNames"===tt)return X.objectStoreNames||Ce.get(X);if("store"===tt)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return st(X[tt])},set:(X,tt,ue)=>(X[tt]=ue,!0),has:(X,tt)=>X instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in X};function Ke(X){return"function"==typeof X?function Ct(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...tt){return X.apply(be(this),tt),st(Re.get(this))}:function(...tt){return st(X.apply(be(this),tt))}:function(tt,...ue){const Pe=X.call(be(this),tt,...ue);return Ce.set(Pe,tt.sort?tt.sort():[tt]),st(Pe)}}(X):(X instanceof IDBTransaction&&function Tt(X){if(Se.has(X))return;const tt=new Promise((ue,Pe)=>{const Ne=()=>{X.removeEventListener("complete",Ge),X.removeEventListener("error",Ve),X.removeEventListener("abort",Ve)},Ge=()=>{ue(),Ne()},Ve=()=>{Pe(X.error||new DOMException("AbortError","AbortError")),Ne()};X.addEventListener("complete",Ge),X.addEventListener("error",Ve),X.addEventListener("abort",Ve)});Se.set(X,tt)}(X),((X,tt)=>tt.some(ue=>X instanceof ue))(X,function ye(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,Xe):X)}function st(X){if(X instanceof IDBRequest)return function Me(X){const tt=new Promise((ue,Pe)=>{const Ne=()=>{X.removeEventListener("success",Ge),X.removeEventListener("error",Ve)},Ge=()=>{ue(st(X.result)),Ne()},Ve=()=>{Pe(X.error),Ne()};X.addEventListener("success",Ge),X.addEventListener("error",Ve)});return tt.then(ue=>{ue instanceof IDBCursor&&Re.set(ue,X)}).catch(()=>{}),oe.set(tt,X),tt}(X);if(ae.has(X))return ae.get(X);const tt=Ke(X);return tt!==X&&(ae.set(X,tt),oe.set(tt,X)),tt}const be=X=>oe.get(X);function ut(X,tt,{blocked:ue,upgrade:Pe,blocking:Ne,terminated:Ge}={}){const Ve=indexedDB.open(X,tt),Et=st(Ve);return Pe&&Ve.addEventListener("upgradeneeded",Kt=>{Pe(st(Ve.result),Kt.oldVersion,Kt.newVersion,st(Ve.transaction))}),ue&&Ve.addEventListener("blocked",()=>ue()),Et.then(Kt=>{Ge&&Kt.addEventListener("close",()=>Ge()),Ne&&Kt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Et}function $e(X,{blocked:tt}={}){const ue=indexedDB.deleteDatabase(X);return tt&&ue.addEventListener("blocked",()=>tt()),st(ue).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],wt=new Map;function vt(X,tt){if(!(X instanceof IDBDatabase)||tt in X||"string"!=typeof tt)return;if(wt.get(tt))return wt.get(tt);const ue=tt.replace(/FromIndex$/,""),Pe=tt!==ue,Ne=Ue.includes(ue);if(!(ue in(Pe?IDBIndex:IDBObjectStore).prototype)||!Ne&&!ve.includes(ue))return;const Ge=function(){var Ve=(0,_.Z)(function*(Et,...Kt){const Ye=this.transaction(Et,Ne?"readwrite":"readonly");let At=Ye.store;return Pe&&(At=At.index(Kt.shift())),(yield Promise.all([At[ue](...Kt),Ne&&Ye.done]))[0]});return function(Kt){return Ve.apply(this,arguments)}}();return wt.set(tt,Ge),Ge}!function at(X){Xe=X(Xe)}(X=>HE($E({},X),{get:(tt,ue,Pe)=>vt(tt,ue)||X.get(tt,ue,Pe),has:(tt,ue)=>!!vt(tt,ue)||X.has(tt,ue)}))},5861:(Ft,je,L)=>{function _(W,ce,ye,Te,Re,Se,Ce){try{var ae=W[Se](Ce),oe=ae.value}catch(Me){return void ye(Me)}ae.done?ce(oe):Promise.resolve(oe).then(Te,Re)}function K(W){return function(){var ce=this,ye=arguments;return new Promise(function(Te,Re){var Se=W.apply(ce,ye);function Ce(oe){_(Se,Te,Re,Ce,ae,"next",oe)}function ae(oe){_(Se,Te,Re,Ce,ae,"throw",oe)}Ce(void 0)})}}L.d(je,{Z:()=>K})}},Ft=>{Ft(Ft.s=2986)}]);